import{a as ln}from"./chunk-YQ3KWUNW.js";import{a as Me}from"./chunk-L22CRLLV.js";import{a as Z,b as Nn}from"./chunk-SZXMKXCP.js";import{a as Ht}from"./chunk-YQPVLOGL.js";import{a as Ut}from"./chunk-IJF73OZM.js";import{$b as k,Aa as Ae,Ab as $,Bb as be,Bc as q,Cb as he,Cc as mr,Da as bt,Db as me,E as rr,Ea as s,Eb as Oe,F as Mn,Fa as _,Fb as O,Ga as T,Ha as $e,J as D,K as Rn,Ka as $t,La as _e,Ma as rt,Mc as pr,N as C,Na as vt,O as y,Oa as oi,Pa as Ce,Pb as K,Qa as Le,Ra as Eo,U as at,Ub as V,Vb as Ue,Wb as He,Xb as sr,Ya as ge,Z as d,_ as b,_b as Y,a as H,ab as G,ac as U,b as J,bb as xt,bc as le,ca as Ze,cb as A,cc as pe,da as m,db as P,dc as Fe,e as gc,ea as et,ec as Si,f as B,fc as X,gc as se,ha as h,ia as w,ic as ai,jb as lr,jc as Ee,kc as On,lc as jn,ma as o,mb as M,mc as Ve,na as n,nc as ut,oa as u,oc as Ie,pa as ye,pc as Te,qa as we,rb as Lt,rc as Bn,s as pt,sa as E,ta as x,tb as R,ua as p,uc as St,vb as Ne,vc as Q,wb as W,wc as dr,xc as cr,ya as Se,yb as Io,yc as Re,za as ce,zb as ve,zc as $n}from"./chunk-SGLRJF2H.js";var To=B(ve()),ur=B(Ut()),hr=B(me());function bc(t,r){t&1&&(o(0,"div",4),u(1,"i",5),s(2," We are fetching the data, please wait. "),n())}function vc(t,r){if(t&1){let e=E();o(0,"div",14)(1,"input",15),x("ngModelChange",function(a){C(e);let l=p(2);return y(l.searchTerm=a)}),n(),u(2,"i",16),n()}if(t&2){let e=p(2);d(1),m("ngModel",e.searchTerm)}}function xc(t,r){if(t&1){let e=E();o(0,"button",17),x("click",function(){C(e);let a=p(2);return y(a.exportToPDF(a.filteredDistrictStats))}),u(1,"i",18),s(2,"Download "),n()}}function Sc(t,r){t&1&&(o(0,"button",19),u(1,"i",20),s(2,"Downloading... "),n())}function Cc(t,r){if(t&1&&(o(0,"a",29),s(1,"View Block"),n(),o(2,"a",30),s(3,"View ULB"),n()),t&2){let e=p(2).$implicit;Se("routerLink","/department/portal/approval-module/approved-list/district-stats/block-stats/",e==null?null:e.district_id,""),d(2),Se("routerLink","/department/portal/approval-module/approved-list/district-stats/ulb-stats/",e==null?null:e.district_id,"")}}function yc(t,r){t&1&&(o(0,"a",31),s(1,"View Block"),n(),o(2,"a",32),s(3,"View ULB"),n())}function wc(t,r){if(t&1&&(o(0,"td",28),h(1,Cc,4,2)(2,yc,4,0),n()),t&2){let e=p().$implicit;d(1),w(1,e.count?1:2)}}function Ec(t,r){if(t&1&&(o(0,"a",30),s(1,"View Ward"),n()),t&2){let e=p(2).$implicit;ce("routerLink","/department/portal/approval-module/approved-list/district-stats/ward-stats/",e.district_id,"/",e==null?null:e.ulb_id,"")}}function Ic(t,r){t&1&&(o(0,"a",32),s(1,"View Ward"),n())}function Tc(t,r){if(t&1&&(o(0,"td",28),h(1,Ec,2,2,"a",33)(2,Ic,2,0),n()),t&2){let e=p().$implicit;d(1),w(1,e!=null&&e.count?1:2)}}function kc(t,r){if(t&1&&(o(0,"tr",26)(1,"td",22),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),h(7,wc,3,1,"td",27)(8,Tc,3,1,"td",27),n()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.district_name||(e==null?null:e.ulb_name)),d(2),_(e.count||"0"),d(1),m("ngIf",!e.ulb_id),d(1),m("ngIf",e.ulb_id)}}function Lc(t,r){if(t&1&&(o(0,"tr",26),u(1,"td",22),o(2,"td",35),s(3,"GRAND TOTAL"),n(),o(4,"td",35),s(5),n(),u(6,"td"),n()),t&2){let e=p(4);d(5),T("",e.getGrandTotal("count")," ")}}function Fc(t,r){if(t&1&&h(0,Lc,7,1,"tr",34),t&2){let e=p(3);m("ngIf",e.filteredDistrictStats==null?null:e.filteredDistrictStats.length)}}function Dc(t,r){if(t&1&&(o(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),s(4,"SN"),n(),o(5,"th",23),s(6,"District/MC"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,kc,9,5,"tr",24)(13,Fc,1,1,"tr",25),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredDistrictStats),d(1),w(13,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)=="2"?13:-1)}}function Ac(t,r){t&1&&(o(0,"h5",36),s(1," No Data Found "),n())}function Vc(t,r){if(t&1&&(o(0,"div",6)(1,"div",6)(2,"div",7),s(3," Final Approved List "),n(),o(4,"div",8),h(5,vc,3,1,"div",9),o(6,"div",10),h(7,xc,3,0,"button",11)(8,Sc,3,0),n()()(),o(9,"div",12),h(10,Dc,14,2,"table",13)(11,Ac,2,0),n()()),t&2){let e=p();d(5),w(5,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)=="2"?5:-1),d(2),w(7,e.isExportInProgress?8:7),d(3),w(10,e.filteredDistrictStats&&e.filteredDistrictStats.length>0?10:11)}}To.default.vfs=ur.default.pdfMake.vfs;var fr=(()=>{let r=class r{constructor(i,a,l,c){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm=""}ngOnInit(){this.route.queryParams.subscribe(i=>{this.type=+i.type}),this.fetchDrillDownList()}getGrandTotal(i){return this.filteredDistrictStats.reduce((l,c)=>l+c[i],0)}get filteredDistrictStats(){return this.searchTerm?this.drilldownStats.filter(i=>i?.district_name?.toLowerCase()?.includes(this?.searchTerm?.trim().toLowerCase())||i?.ulb_name?.toLowerCase()?.includes(this?.searchTerm?.trim()?.toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/reviewed-district-count?status=eligible`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=[...i?.data||[],...i?.ulbData||[]]},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPDF(i){this.isExportInProgress=!0;let a="APPROVED LIST",l=new Date,c=`Timestamp: ${(0,hr.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"District/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.district_name||g.ulb_name||"",fontSize:9},{text:g.count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{body:f,widths:["20%","50%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};To.default.createPdf(S).download("approved_list.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R))},r.\u0275cmp=D({type:r,selectors:[["app-district-wise-stats"]],decls:5,vars:1,consts:[[1,"container","my-4"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["class","search-box me-2","style","flex-grow: 1; max-width: 30%"],[1,"col-md-2","text-sm-end"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter District Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom"],[1,"tr-border-bottom"],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"],[1,"btn","btn-sm","btn-primary","ms-1",2,"white-space","nowrap",3,"routerLink"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary",2,"white-space","nowrap"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary","ms-1",2,"white-space","nowrap"],["style","white-space: nowrap;","class","btn btn-sm btn-primary ms-1",3,"routerLink"],["class","tr-border-bottom",4,"ngIf"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),h(3,bc,3,0,"div",3)(4,Vc,12,3),n()()()),a&2&&(d(3),w(3,l.isStatsLoading?3:4))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var _r=B(ve());var gr=B(me());function Pc(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function Mc(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function Rc(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function Oc(t,r){if(t&1&&(o(0,"a",37),s(1,"View"),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/approved-list/district-stats/gp-stats/",i.district_id,"/",e==null?null:e.block_id,"")}}function jc(t,r){t&1&&(o(0,"a",38),s(1,"View"),n())}function Bc(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,Oc,2,2,"a",35)(9,jc,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.block_name),d(2),_(e.count||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function $c(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," ")}}function Nc(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN"),n(),o(5,"th",31),s(6,"Block"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,Bc,10,5,"tr",32)(13,$c,7,1,"tr",33),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function Gc(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function Wc(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Final Approved List "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,Mc,3,0,"button",22)(15,Rc,3,0),n()()(),o(16,"div",23),h(17,Nc,14,2,"table",24)(18,Gc,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var br=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.block_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/reviewed-block-count?status=eligible&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}exportToPdf(i){this.isExportInProgress=!0;let a="APPROVED LIST",l=new Date,c=`Timestamp: ${(0,gr.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:g.block_name||"",fontSize:9},{text:g.count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};_r.default.createPdf(S).download(`Approved List For ${this.district_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-block-wise-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Block Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["type","button","disabled","","style","color: black;text-transform: none;",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black","text-transform","none"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,Pc,3,0,"div",9)(11,Wc,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var vr=B(me());var fe=(()=>{let r=class r{constructor(){this.cacheData=[]}setData(i,a,l,c,f,S,g){if(console.log("called setdata",i,a,f,S,l,g),this.cacheData.find(v=>v[i]===a&&v.specialKey===f&&v.loginUser_id===S)){let v=this.cacheData.findIndex(I=>I[i]===a&&I.specialKey===f&&I.loginUser_id===S);this.cacheData[v]=J(H({},this.cacheData[v]),{data:l,page:c,totalCount:g})}else this.cacheData.push({[i]:a,data:l,page:c,specialKey:f,loginUser_id:S,totalCount:g})}getData(i,a,l,c){if(console.log("called",i,a,l,c),console.log("all data",this.cacheData),this.cacheData.find(f=>f[i]===a&&f.specialKey===l&&f.loginUser_id===c)){let f=this.cacheData.find(S=>S[i]===a&&S.specialKey===l&&S.loginUser_id===c);return f?.data?f:null}else return null}};r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=rr({token:r,factory:r.\u0275fac,providedIn:"root"});let t=r;return t})();function zc(t,r){if(t&1&&(o(0,"option",40),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),T(" ",e==null?null:e.village_name,"")}}function Uc(t,r){t&1&&(o(0,"button",41),u(1,"i",42),s(2," Downloading... "),n())}function Hc(t,r){if(t&1){let e=E();o(0,"button",44),x("click",function(){C(e);let a=p(2);return y(a.handleExport())}),u(1,"i",45),s(2,"Download "),n()}}function Yc(t,r){if(t&1&&h(0,Hc,3,0,"button",43),t&2){let e=p();m("ngIf",e.totalApplicants>0)}}function qc(t,r){if(t&1&&(o(0,"li",46),s(1),n()),t&2){let e=p();d(1),_(e.block_name)}}function Kc(t,r){if(t&1&&(o(0,"li",46),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function Jc(t,r){t&1&&(o(0,"div",47),u(1,"i",42),s(2," We are fetching the data, please wait. "),n())}function Xc(t,r){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td",55),s(8),n(),o(9,"td",55),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n()()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(2),_((e==null?null:e.village_name)||"N/A"),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(e==null?null:e.fetStatus),d(2),_(e==null?null:e.blockUlbStatus),d(2),_(a.appService.dateFormat(e==null?null:e.reviewed_date))}}function Qc(t,r){t&1&&(o(0,"span"),u(1,"i",42),s(2," Loading..."),n())}function Zc(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function em(t,r){if(t&1){let e=E();o(0,"div",56)(1,"button",57),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,Qc,3,0,"span",58)(3,Zc,2,0,"span",58),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function tm(t,r){if(t&1&&(o(0,"div",48)(1,"table",49)(2,"thead",50)(3,"tr")(4,"th",51),s(5,"SN"),n(),o(6,"th",51),s(7,"Village"),n(),o(8,"th",51),s(9,"Application No."),n(),o(10,"th",51),s(11,"Applicant Name"),n(),o(12,"th",51),s(13,"Father/Husband Name"),n(),o(14,"th",51),s(15,"FET Status"),n(),o(16,"th",51),s(17,"BLSC/ULSC Recommendation"),n(),o(18,"th",51),s(19," Approval Date"),n()()(),o(20,"tbody",52),h(21,Xc,17,8,"tr",53),n()()(),h(22,em,4,2,"div",54)),t&2){let e=p(2);d(21),m("ngForOf",e.fieldVerificationsList),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!==e.totalApplicants)}}function im(t,r){t&1&&(o(0,"h5",59),s(1," No Application Found "),n())}function nm(t,r){if(t&1&&(o(0,"div"),h(1,tm,23,2)(2,im,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}var xr=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.paginationService=F,this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.isDownloadingInProgress=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.ulb_name="",this.exportInProgress=!1,this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required]})}setTab(i){this.tab=i,this.page=1,this.selectedFieldVerificationId=[],this.searchValue="",this.selectedCategory="",this.selectedDate="",this.selectedVillage="",this.selectedStatus="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}setselectedImage(i){if(i.target.files[0]?.type=="application/pdf")this.selectedImage=i.target.files[0];else{this.toastService.error("Only PDF files are allowed."),this.selectedImage="",this.assignFieldOfficerForm.patchValue({document:""}),this.assignFieldOfficerForm.updateValueAndValidity();return}}setmoveStatus(i){this.moveStatus=i}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.gp_id=i.gp_id,this.block_id=i.block_id,this.district_id=i.district_id,this.district_name=$.data.find(c=>c?.id==this.district_id)?.district_name,this.block_name=be.data.find(c=>c?.id==this.block_id)?.block_name,this.gp_id&&this.fetchVillages(),this.gp_nameorWardNo=Ue.data.find(c=>String(c?.id)===this.gp_id)?.gp_name;let l=this.paginationService.getData("gp_id",this.gp_id,"ApprovedList",this.authService.userDetail.demography_id);l?(this.fieldVerificationsList=l.data,this.page=l.page,this.totalApplicants=l.totalCount):this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}),this.today=(0,vr.default)().format("YYYY-MM-DD")}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate))}goBack(){this.location.back()}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}fetchVillages(){let i=`/v1/fv/village-list?gp_id=${this.gp_id}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.villageList=a.data},a=>{this.villageList=[]})}handleExport(){this.isDownloadingInProgress=!0,this.page=1;let i="/v1/reviewed-list-pdf?type=eligible";this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.isDownloadingInProgress=!1,this.downloadFile(a,"approved_application.pdf")},a=>{this.isDownloadingInProgress=!1,console.error("File download failed:",a)})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/reviewed-list?type=eligible&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&review_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}let L="";return I.block_or_ulb_status==null?L=I.fv_status=="1"?"For Approval":"For Rejection":L=I.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},I),{fetStatus:F,blockUlbStatus:L})}),this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,1,"ApprovedList",this.authService.userDetail.demography_id,v.totalCount),this.eligibleCount=v.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/reviewed-list?type=eligible&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&review_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}let ee="";return L.block_or_ulb_status==null?ee=L.fv_status=="1"?"For Approval":"For Rejection":ee=L.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},L),{fetStatus:N,blockUlbStatus:ee})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F],this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,this.page,"ApprovedList",this.authService.userDetail.demography_id,I.totalCount)}this.eligibleCount=I.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}onStatusChange(i){this.selectedStatus=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-gp-approved-stats"]],decls:69,vars:12,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],[1,"form-control","form-select",3,"value","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["required","",1,"form-control","form-select",2,"text-transform","uppercase",3,"value","change"],["value","eligible"],["value","ineligible"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["class","btn px-2 py-2","style",`
                           background-color: #ffe8d0;
                           color: #fd7b03;
                           font-weight: 540;
                         `,"type","button","disabled",""],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],[3,"value"],["type","button","disabled","",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540"],[1,"fa","fa-spinner","fa-spin"],["class","btn px-2 py-2","style",`
                           background-color: #ffe8d0;
                           color: #fd7b03;
                           font-weight: 540;
                         `,"type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"table-responsive","mt-4"],[1,"table"],[2,"font-size","14px","font-weight","620"],[1,"text-nowrap"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],[2,"text-transform","uppercase"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16,"Village"),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.handleVillageChange(f)}),o(20,"option",16),s(21,"All"),n(),h(22,zc,2,2,"option",17),n()()(),o(23,"div",11)(24,"div",12)(25,"label",13),s(26," FET Status "),o(27,"span",14),s(28,"*"),n()(),o(29,"select",18),x("change",function(f){return l.onStatusChange(f)}),o(30,"option",16),s(31,"All"),n(),o(32,"option",19),s(33,"Eligible"),n(),o(34,"option",20),s(35,"Ineligible"),n()()()(),o(36,"div",11)(37,"div",12)(38,"label",13),s(39," Approval Date "),o(40,"span",14),s(41,"*"),n()(),o(42,"input",21),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(43,"div",22)(44,"div",23)(45,"div",24)(46,"div",25),s(47," Final Approved List "),n(),o(48,"div",26)(49,"div",27)(50,"input",28),x("change",function(f){return l.handleSearchChange(f)}),n(),u(51,"i",29),n(),h(52,Uc,3,0,"button",30)(53,Yc,1,1),n()(),o(54,"nav",31)(55,"ol",32)(56,"li",33),s(57),n(),h(58,qc,2,1,"li",34)(59,Kc,2,1,"li",34),n()(),o(60,"div",35)(61,"div",36)(62,"div",37)(63,"span"),s(64,"Total No. of Applications : "),n(),o(65,"span",38),s(66),n()()()(),h(67,Jc,3,0,"div",39)(68,nm,3,1),n()()()),a&2&&(d(19),m("value",l.selectedVillage),d(3),m("ngForOf",l.villageList),d(7),m("value",l.selectedStatus),d(13),m("value",l.selectedDate)("max",l.today),d(8),m("value",l.searchValue),d(2),w(52,l.isDownloadingInProgress?52:53),d(5),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.gp_nameorWardNo),d(7),T(" ",l.totalApplicants,""),d(1),w(67,l.isStatsLoading?67:68))},dependencies:[A,P,se,Ie,Te,le,Fe],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}"]});let t=r;return t})();var ko=B(ve()),Sr=B(Ut()),Cr=B(me());function om(t,r){t&1&&(o(0,"div",4),u(1,"i",5),s(2," We are fetching the data, please wait. "),n())}function am(t,r){if(t&1){let e=E();o(0,"div",14)(1,"input",15),x("ngModelChange",function(a){C(e);let l=p(2);return y(l.searchTerm=a)}),n(),u(2,"i",16),n()}if(t&2){let e=p(2);d(1),m("ngModel",e.searchTerm)}}function rm(t,r){if(t&1){let e=E();o(0,"button",17),x("click",function(){C(e);let a=p(2);return y(a.exportToPDF(a.filteredDistrictStats))}),u(1,"i",18),s(2,"Download "),n()}}function lm(t,r){t&1&&(o(0,"button",19),u(1,"i",20),s(2,"Downloading... "),n())}function sm(t,r){if(t&1&&(o(0,"a",28),s(1,"View Block"),n(),o(2,"a",29),s(3,"View ULB"),n()),t&2){let e=p(2).$implicit;Se("routerLink","/department/portal/approval-module/field-verified/district-stats/block-stats/",e==null?null:e.district_id,""),d(2),Se("routerLink","/department/portal/approval-module/field-verified/district-stats/ulb-stats/",e==null?null:e.district_id,"")}}function dm(t,r){t&1&&(o(0,"a",30),s(1,"View Block"),n(),o(2,"a",31),s(3,"View ULB"),n())}function cm(t,r){if(t&1&&(o(0,"td",27),h(1,sm,4,2)(2,dm,4,0),n()),t&2){let e=p().$implicit;d(1),w(1,e.total?1:2)}}function mm(t,r){if(t&1&&(o(0,"a",29),s(1,"View Ward"),n()),t&2){let e=p(2).$implicit;ce("routerLink","/department/portal/approval-module/field-verified/district-stats/ward-stats/",e.district_id,"/",e==null?null:e.ulb_id,"")}}function pm(t,r){t&1&&(o(0,"a",31),s(1,"View Ward"),n())}function um(t,r){if(t&1&&(o(0,"td",27),h(1,mm,2,2,"a",32)(2,pm,2,0),n()),t&2){let e=p().$implicit;d(1),w(1,e!=null&&e.total?1:2)}}function hm(t,r){if(t&1&&(o(0,"tr",25)(1,"td",22),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),h(13,cm,3,1,"td",26)(14,um,3,1,"td",26),n()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.district_name||e.ulb_name),d(2),_(e.total||"0"),d(2),_(e.eligible||"0"),d(2),_(e.ineligible||"0"),d(2),_(e.objections||"0"),d(1),m("ngIf",!e.ulb_id),d(1),m("ngIf",e.ulb_id)}}function fm(t,r){if(t&1&&(o(0,"tr",25),u(1,"td",22),o(2,"td",34),s(3,"GRAND TOTAL"),n(),o(4,"td",34),s(5),n(),o(6,"td",34),s(7),n(),o(8,"td",34),s(9),n(),o(10,"td",34),s(11),n(),u(12,"td"),n()),t&2){let e=p(4);d(5),T("",e.getGrandTotal("total")," "),d(2),_(e.getGrandTotal("eligible")),d(2),_(e.getGrandTotal("ineligible")),d(2),_(e.getGrandTotal("objections"))}}function _m(t,r){if(t&1&&h(0,fm,13,4,"tr",33),t&2){let e=p(3);m("ngIf",e.filteredDistrictStats==null?null:e.filteredDistrictStats.length)}}function gm(t,r){if(t&1&&(o(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),s(4,"SN"),n(),o(5,"th"),s(6,"DISTRICT/MC"),n(),o(7,"th"),s(8,"TOTAL"),n(),o(9,"th"),s(10,"ELIGIBLE"),n(),o(11,"th"),s(12,"INELIGIBLE"),n(),o(13,"th"),s(14,"OBJECTION"),n(),o(15,"th"),s(16,"ACTION"),n()()(),o(17,"tbody"),h(18,hm,15,8,"tr",23)(19,_m,1,1,"tr",24),n()()),t&2){let e=p(2);d(18),m("ngForOf",e.filteredDistrictStats),d(1),w(19,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)=="2"?19:-1)}}function bm(t,r){t&1&&(o(0,"h5",35),s(1," No Data Found "),n())}function vm(t,r){if(t&1&&(o(0,"div",6)(1,"div",6)(2,"div",7),s(3," FET Verified List (Non NFSA/SFSS) & Objections "),n(),o(4,"div",8),h(5,am,3,1,"div",9),o(6,"div",10),h(7,rm,3,0,"button",11)(8,lm,3,0),n()()(),o(9,"div",12),h(10,gm,20,2,"table",13)(11,bm,2,0),n()()),t&2){let e=p();d(5),w(5,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)=="2"?5:-1),d(2),w(7,e.isExportInProgress?8:7),d(3),w(10,e.filteredDistrictStats&&e.filteredDistrictStats.length>0?10:11)}}ko.default.vfs=Sr.default.pdfMake.vfs;var yr=(()=>{let r=class r{constructor(i,a,l,c){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm=""}ngOnInit(){this.route.queryParams.subscribe(i=>{this.type=+i.type}),this.fetchDrillDownList()}get filteredDistrictStats(){return this.searchTerm?this.drilldownStats.filter(i=>i?.district_name?.toLowerCase()?.includes(this?.searchTerm?.trim().toLowerCase())||i?.ulb_name?.toLowerCase()?.includes(this?.searchTerm?.trim()?.toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/district-wise/provisional-published-count?isAll=0`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=[...i?.data||[],...i?.ulbData||[]]},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPDF(i){this.isExportInProgress=!0;let a="FIELD VERIFIED LIST",l=new Date,c=`Timestamp: ${(0,Cr.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"District/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0},{text:"INELIGIBLE",fillColor:"#d3d3d3",bold:!0},{text:"ELIGIBLE",fillColor:"#d3d3d3",bold:!0},{text:"OBJECTION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.district_name||g.ulb_name||"",fontSize:9},{text:g.total||"0",fontSize:9},{text:g.ineligible||"0",fontSize:9},{text:g.eligible||"0",fontSize:9},{text:g.objections||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{body:f,widths:["15%","25%","15%","15%","15%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};ko.default.createPdf(S).download("field_verified_list.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredDistrictStats.reduce((l,c)=>l+c[i],0)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R))},r.\u0275cmp=D({type:r,selectors:[["app-field-verified-district-stats"]],decls:5,vars:1,consts:[[1,"container","my-4"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["class","search-box me-2","style","flex-grow: 1; max-width: 30%"],[1,"col-md-2","text-sm-end"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter District Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom"],[1,"tr-border-bottom"],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"],[1,"btn","btn-sm","btn-primary","ms-1",2,"white-space","nowrap",3,"routerLink"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary",2,"white-space","nowrap"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary","ms-1",2,"white-space","nowrap"],["style","white-space: nowrap;","class","btn btn-sm btn-primary ms-1",3,"routerLink"],["class","tr-border-bottom",4,"ngIf"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),h(3,om,3,0,"div",3)(4,vm,12,3),n()()()),a&2&&(d(3),w(3,l.isStatsLoading?3:4))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var wr=B(ve());var Er=B(me());function xm(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function Sm(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function Cm(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function ym(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/field-verified/district-stats/gp-stats/",i.district_id,"/",e==null?null:e.block_id,"")}}function wm(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function Em(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),h(14,ym,2,2,"a",35)(15,wm,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.block_name),d(2),_(e.total||"0"),d(2),_(e.eligible||"0"),d(2),_(e.ineligible||"0"),d(2),_(e.objections||"0"),d(2),m("ngIf",e==null?null:e.total),d(1),m("ngIf",!(e!=null&&e.total))}}function Im(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),o(6,"td",39),s(7),n(),o(8,"td",39),s(9),n(),o(10,"td",39),s(11),n(),u(12,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("total")," "),d(2),_(e.getGrandTotal("eligible")),d(2),_(e.getGrandTotal("ineligible")),d(2),_(e.getGrandTotal("objections"))}}function Tm(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN"),n(),o(5,"th",31),s(6,"BLOCK"),n(),o(7,"th"),s(8,"TOTAL"),n(),o(9,"th"),s(10,"ELIGIBLE"),n(),o(11,"th"),s(12,"INELIGIBLE"),n(),o(13,"th"),s(14,"OBJECTION"),n(),o(15,"th"),s(16,"ACTION"),n()()(),o(17,"tbody"),h(18,Em,16,8,"tr",32)(19,Im,13,4,"tr",33),n()()),t&2){let e=p(2);d(18),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function km(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function Lm(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," FET Verified List (Non NFSA/SFSS) & Objections "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,Sm,3,0,"button",22)(15,Cm,3,0),n()()(),o(16,"div",23),h(17,Tm,20,2,"table",24)(18,km,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var Ir=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.block_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/block-wise/provisional-published-count?isAll=0&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}exportToPdf(i){this.isExportInProgress=!0;let a="FIELD VERIFIED LIST",l=new Date,c=`Timestamp: ${(0,Er.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0},{text:"INELIGIBLE",fillColor:"#d3d3d3",bold:!0},{text:"ELIGIBLE",fillColor:"#d3d3d3",bold:!0},{text:"OBJECTION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.block_name||"",fontSize:9},{text:g.total||"0",fontSize:9},{text:g.ineligible||"0",fontSize:9},{text:g.eligible||"0",fontSize:9},{text:g.objections||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","15%","15%","15%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};wr.default.createPdf(S).download(`Field Verified List For ${this.district_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-field-verified-block-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["routerLink","/department/portal/approval-module/field-verified/district-stats","type","button",1,"me-2"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Block Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","20%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,xm,3,0,"div",9)(11,Lm,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Tr=B(ve());var Lo=B(me());function Fm(t,r){if(t&1&&(o(0,"div",30)(1,"a",31)(2,"button",32),u(3,"i",33),s(4," Back"),n()()()),t&2){let e=p();d(1),Se("routerLink","/department/portal/approval-module/field-verified/district-stats/block-stats/",e.district_id,"")}}function Dm(t,r){t&1&&(o(0,"div",34),u(1,"i",35),s(2," We are fetching the data, please wait. "),n())}function Am(t,r){if(t&1){let e=E();o(0,"button",52),x("click",function(){C(e);let a=p(2);return y(a.generateRandomList())}),s(1,` Random List
`),n()}if(t&2){let e=p(2);m("disabled",e.isGenerateButtonDisabled())}}function Vm(t,r){t&1&&(o(0,"button",53),u(1,"i",54),s(2,`Generating...
`),n())}function Pm(t,r){if(t&1){let e=E();o(0,"button",56),x("click",function(){C(e);let a=p(3);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",57),s(2,"Download "),n()}}function Mm(t,r){t&1&&(o(0,"button",58),u(1,"i",54),s(2,"Downloading... "),n())}function Rm(t,r){if(t&1&&(o(0,"div"),h(1,Pm,3,0,"button",55)(2,Mm,3,0),n()),t&2){let e=p(2);d(1),w(1,e.isExportInProgress?2:1)}}var Om=()=>({tab:1});function jm(t,r){if(t&1){let e=E();o(0,"a",66),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.gp_id))}),s(1,"View "),n()}if(t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/field-verified/district-stats/gp-stats/",i.district_id,"/",i.block_id,"/",e==null?null:e.gp_id,""),m("queryParams",$t(4,Om))}}function Bm(t,r){t&1&&(o(0,"a",67),s(1,"View "),n())}function $m(t,r){if(t&1&&(o(0,"tr",63)(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),h(14,jm,2,5,"a",64)(15,Bm,2,0,"a",65),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.gp_name),d(2),_(e.total||"0"),d(2),_(e.eligible||"0"),d(2),_(e.ineligible||"0"),d(2),_(e.total-(e.ineligible+e.eligible)||"0"),d(2),m("ngIf",e==null?null:e.total),d(1),m("ngIf",!(e!=null&&e.total))}}function Nm(t,r){if(t&1&&(o(0,"tr",63),u(1,"td",68),o(2,"td",69),s(3,"GRAND TOTAL"),n(),o(4,"td",69),s(5),n(),o(6,"td",69),s(7),n(),o(8,"td",69),s(9),n(),o(10,"td",69),s(11),n(),u(12,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("total")," "),d(2),_(e.getGrandTotal("eligible")),d(2),_(e.getGrandTotal("ineligible")),d(2),_(e.getGrandTotal("objections"))}}function Gm(t,r){if(t&1&&(o(0,"table",59)(1,"thead")(2,"tr")(3,"th"),s(4,"SN"),n(),o(5,"th",60),s(6,"GP"),n(),o(7,"th"),s(8,"TOTAL"),n(),o(9,"th"),s(10,"ELIGIBLE"),n(),o(11,"th"),s(12,"INELIGIBLE"),n(),o(13,"th"),s(14,"OBJECTION"),n(),o(15,"th"),s(16,"ACTION"),n()()(),o(17,"tbody"),h(18,$m,16,8,"tr",61)(19,Nm,13,4,"tr",62),n()()),t&2){let e=p(2);d(18),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function Wm(t,r){t&1&&(o(0,"h5",70),s(1," No Data Found "),n())}function zm(t,r){if(t&1){let e=E();o(0,"div",36)(1,"div",36)(2,"div",37)(3,"div",38),s(4," FET Verified List (Non NFSA/SFSS) & Objections "),n(),o(5,"nav",39)(6,"ol",40)(7,"li",41),s(8),n(),o(9,"li",42),s(10),n()()()(),o(11,"div",43)(12,"div",44)(13,"input",45),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",46),n(),h(15,Am,2,1,"button",47)(16,Vm,3,0,"button",48)(17,Rm,3,1,"div",49),n()(),o(18,"div",50),h(19,Gm,20,2,"table",51)(20,Wm,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.block_name," "),d(3),m("ngModel",e.searchTerm),d(2),m("ngIf",!e.generatingInProgress&&e.authService.userDetail.role.id=="5"),d(1),m("ngIf",e.generatingInProgress&&e.authService.userDetail.role.id=="5"),d(1),m("ngIf",e.filteredBlockStats.length),d(2),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}function Um(t,r){if(t&1&&(o(0,"option",74),s(1),n()),t&2){let e=r.$implicit;m("value",e==null?null:e.id),d(1),_(e==null?null:e.proceding_number)}}function Hm(t,r){if(t&1&&(o(0,"select",71)(1,"option",72),s(2,"Select Proceeding No."),n(),h(3,Um,2,2,"option",73),n()),t&2){let e=p();d(3),m("ngForOf",e.proceedingList)}}function Ym(t,r){if(t&1&&(o(0,"option",74),s(1),n()),t&2){let e=r.$implicit;m("value",e==null?null:e.id),d(1),_(e==null?null:e.proceding_number)}}function qm(t,r){if(t&1&&(o(0,"select",75)(1,"option",72),s(2,"Select Proceeding No."),n(),h(3,Ym,2,2,"option",73),n()),t&2){let e=p();d(3),m("ngForOf",e.proceedingList)}}function Km(t,r){t&1&&(o(0,"button",76),s(1," Recommend "),n())}function Jm(t,r){t&1&&(o(0,"button",77),s(1," Recommending... "),u(2,"i",78),n())}var Fo=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fb=S,this.toastService=g,this.formService=v,this.paginationService=I,this.generatingInProgress=!1,this.isStatsLoading=!1,this.isLoading=!1,this.isExportInProgress=!1,this.isFormSubmitInProgress=!1,this.drilldownStats=[],this.proceedingList=[],this.searchTerm="",this.district_id="",this.block_id="",this.district_name="",this.block_name="",this.selectedGpId="",this.selectedImage="",this.ulb_id="",this.today="",this.ulb_name="",this.recommedationForm=this.fb.group({remarks:["",k.required,[k.pattern(/.*\S.*/)]],meetingDate:["",k.required],proceedingNo:["",k.required]})}openModal(){this.recommedationForm.patchValue({remarks:"",meetingDate:"",proceedingNo:""}),this.recommedationForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.recommedationForm)}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.isLoading=!0;let a=`/proceeding/list?block_id=${this.block_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isLoading=!1,this.proceedingList=l.data},l=>{this.isLoading=!1,console.error("File download failed:",l)})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.block_id=i.block_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.block_name=be.data.find(a=>a.id==this.block_id)?.block_name,this.fetchDrillDownList()}),this.today=(0,Lo.default)().format("YYYY-MM-DD")}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetRecommedationForm();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetRecommedationForm();return}this.selectedImage=a}resetRecommedationForm(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity()}toggleWardSelection(i){if(i==this.selectedGpId){this.selectedGpId="";return}this.selectedGpId=i}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.gp_name?.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}getApplicationCounts(i){let a=this.drilldownStats.find(l=>l.gp_id==this.selectedGpId);if(i==="total")return a?.eligible+a?.ineligible;if(i==="eligible")return a?.eligible;if(i==="ineligible")return a?.ineligible}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/gp-wise/provisional-published-count?isAll=0&block_id=${this.block_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}generateRandomList(){this.generatingInProgress=!0;let i=`${this.appService.departmentBaseUrl}/v1/block/provisional-published-list-pdf?block_id=${this.block_id}&isAll=0`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.generatingInProgress=!1,this.downloadFile(a,"block_generate_random_list")},a=>{this.generatingInProgress=!1,this.toastService.error(a.error.message||"A random list of available applications has already been generated. The next random list will be downloaded once new applications are available.")})}handleViewClick(i){this.paginationService.setData("gp_id",i,null,1,"FieldVerifiedEligibleTab",this.authService.userDetail.demography_id,0)}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}exportToPdf(i){this.isExportInProgress=!0;let a="FIELD VERIFIED LIST",l=new Date,c=`Timestamp: ${(0,Lo.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"GP",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0},{text:"INELIGIBLE",fillColor:"#d3d3d3",bold:!0},{text:"ELIGIBLE",fillColor:"#d3d3d3",bold:!0},{text:"OBJECTION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.gp_name||"",fontSize:9},{text:g.total||"0",fontSize:9},{text:g.ineligible||"0",fontSize:9},{text:g.eligible||"0",fontSize:9},{text:g.objections||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.block_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","15%","15%","15%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Tr.default.createPdf(S).download(`Field Verified List For ${this.block_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}toggleGpSelection(i){if(i==this.selectedGpId){this.selectedGpId="";return}this.selectedGpId=i}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("proceeding_id",i.proceedingNo),a.append("remarks",i.remarks),a.append("meeting_date",i.meetingDate),a.append("category","1"),a.append("gp_id",this.selectedGpId),a.append("user_id",this.authService?.userDetail?.demography_id);let l="/v1/recommend-fv-for-ineligible",c="/v1/recommend-fv-for-eligible";this.isFormSubmitInProgress=!0,pt([this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}),this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,a,{headers:{Authorization:this.authService.authToken}})]).subscribe(([f,S])=>{this.isFormSubmitInProgress=!1,this.toastService.success(f?.message),document.getElementById("recommendModalClose")?.click(),this.selectedGpId="",this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}toggleSelectAll(){this.isAllSelected()?this.selectedGpId=[]:this.selectedGpId=this.filteredBlockStats?.map(i=>i?.id)}onSelect(i){this.selectedGpId.includes(i)?this.selectedGpId=[]:this.selectedGpId=[i]}isAllSelected(){if(!this.filteredBlockStats?.length)return!1;let i=!0;return this.filteredBlockStats.forEach(a=>{this.selectedGpId?.includes(a.id)||(i=!1)}),i}isGenerateButtonDisabled(){for(let i of this.filteredBlockStats)if(i.total>0)return!1;return!0}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G),b(Q),b(K),b(Z),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-field-verified-gp-stats"]],decls:67,vars:13,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],["id","recommendModal","tabindex","-1","aria-labelledby","recommendModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","recommendModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","recommendModalClose",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],[1,"text-danger"],[1,"d-flex","flex-column","gap-1","w-100"],["formControlName","meetingDate","type","date","id","meetingDate",1,"form-control",2,"text-transform","uppercase",3,"change"],[3,"field"],["class","form-control form-select","formControlName","proceedingNo","id","proceedingNo",4,"ngIf"],["class","form-control form-select","disabled","",4,"ngIf"],["formControlName","remarks","id","remarks","placeholder","200 Characters only","maxlength","200",1,"form-control",2,"resize","none","height","100px"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-8","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter GP ",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn btn-warning px-3 py-2 me-2 mb-2 mb-md-0","style","color: #fff; white-space: nowrap; background-color: #BA6500 !important; font-weight: 540;","type","button",3,"disabled","click",4,"ngIf"],["class","btn btn-warning px-3 py-2 me-2 mb-2 mb-md-0","style","color: #fff; white-space: nowrap; background-color: #BA6500 !important; font-weight: 540;","type","button","disabled","",4,"ngIf"],[4,"ngIf"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","btn-warning","px-3","py-2","me-2","mb-2","mb-md-0",2,"color","#fff","white-space","nowrap","background-color","#BA6500 !important","font-weight","540",3,"disabled","click"],["type","button","disabled","",1,"btn","btn-warning","px-3","py-2","me-2","mb-2","mb-md-0",2,"color","#fff","white-space","nowrap","background-color","#BA6500 !important","font-weight","540"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"table"],[2,"width","20%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink","queryParams","click",4,"ngIf"],["style","color: black !important;","disabled","","type","button",4,"ngIf"],[3,"routerLink","queryParams","click"],["disabled","","type","button",2,"color","black !important"],[2,"width","5%"],[1,"fw-bold"],[1,"mt-6","text-center"],["formControlName","proceedingNo","id","proceedingNo",1,"form-control","form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["disabled","",1,"form-control","form-select"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,Fm,5,1,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,Dm,3,0,"div",6)(7,zm,21,7),n()()(),o(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"h5",11),s(13,"Recommendation Form"),n(),u(14,"button",12),n(),o(15,"div",13)(16,"form",14),x("submit",function(){return l.handleRecomendationSubmit()}),o(17,"div",15)(18,"label",16),s(19,"Recommendation Date :"),n(),u(20,"input",17),n(),o(21,"div",15)(22,"label",16),s(23,"No. of Applications :"),n(),u(24,"input",18),n(),o(25,"div",15)(26,"label",16),s(27,"Recommended for Approval :"),n(),u(28,"input",18),n(),o(29,"div",15)(30,"label",16),s(31,"Recommended for Rejection :"),n(),u(32,"input",18),n(),o(33,"div",15)(34,"label",16),s(35,"Meeting Date "),o(36,"span",19),s(37,"*"),n(),s(38," :"),n(),o(39,"div",20)(40,"input",21),x("change",function(f){return l.onProceedingDateChange(f)}),n(),u(41,"app-form-error",22),n()(),o(42,"div",15)(43,"label",16),s(44,"Proceeding No. "),o(45,"span",19),s(46,"*"),n(),s(47," :"),n(),o(48,"div",20),h(49,Hm,4,1,"select",23)(50,qm,4,1,"select",24),u(51,"app-form-error",22),n()(),o(52,"div",15)(53,"label",16),s(54,"Remarks "),o(55,"span",19),s(56,"*"),n(),s(57," :"),n(),o(58,"div",20)(59,"textarea",25),s(60,"                    "),n(),u(61,"app-form-error",22),n()(),o(62,"div",26)(63,"div",27)(64,"div",28),h(65,Km,2,0,"button",29)(66,Jm,3,0),n()()()()()()()()),a&2){let c,f;d(3),w(3,l.authService.userDetail.demography_type!="3"?3:-1),d(3),w(6,l.isStatsLoading?6:7),d(10),m("formGroup",l.recommedationForm),d(4),m("value",l.today),d(4),m("value",l.getApplicationCounts("total")),d(4),m("value",l.getApplicationCounts("eligible")),d(4),m("value",l.getApplicationCounts("ineligible")),d(9),m("field",l.recommedationForm.get("meetingDate")),d(8),m("ngIf",(c=l.recommedationForm.get("meetingDate"))==null?null:c.value),d(1),m("ngIf",!((f=l.recommedationForm.get("meetingDate"))!=null&&f.value)),d(1),m("field",l.recommedationForm.get("proceedingNo")),d(10),m("field",l.recommedationForm.get("remarks")),d(4),w(65,l.isFormSubmitInProgress?66:65)}},dependencies:[A,P,W,se,Ie,Te,Y,ut,U,le,St,X,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var kr=B(ve());var Lr=B(me());function Xm(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function Qm(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function Zm(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function ep(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/field-verified/district-stats/ward-stats/",i.district_id,"/",e==null?null:e.ulb_id,"")}}function tp(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function ip(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),h(14,ep,2,2,"a",35)(15,tp,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.ulb_name),d(2),_(e.total||"0"),d(2),_(e.eligible||"0"),d(2),_(e.ineligible||"0"),d(2),_(e.objections||"0"),d(2),m("ngIf",e==null?null:e.total),d(1),m("ngIf",!(e!=null&&e.total))}}function np(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),o(6,"td",39),s(7),n(),o(8,"td",39),s(9),n(),o(10,"td",39),s(11),n(),u(12,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("total")," "),d(2),_(e.getGrandTotal("eligible")),d(2),_(e.getGrandTotal("ineligible")),d(2),_(e.getGrandTotal("objections"))}}function op(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN"),n(),o(5,"th",31),s(6,"ULB"),n(),o(7,"th"),s(8,"TOTAL"),n(),o(9,"th"),s(10,"ELIGIBLE"),n(),o(11,"th"),s(12,"INELIGIBLE"),n(),o(13,"th"),s(14,"OBJECTION"),n(),o(15,"th"),s(16,"Action"),n()()(),o(17,"tbody"),h(18,ip,16,8,"tr",32)(19,np,13,4,"tr",33),n()()),t&2){let e=p(2);d(18),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function ap(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function rp(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," FET Verified List (Non NFSA/SFSS) & Objections "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,Qm,3,0,"button",22)(15,Zm,3,0),n()()(),o(16,"div",23),h(17,op,20,2,"table",24)(18,ap,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var Fr=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ulb_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/ulb-wise/provisional-published-count?isAll=0&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="FIELD VERIFIED LIST",l=new Date,c=`Timestamp: ${(0,Lr.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"ULB",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0},{text:"INELIGIBLE",fillColor:"#d3d3d3",bold:!0},{text:"ELIGIBLE",fillColor:"#d3d3d3",bold:!0},{text:"OBJECTION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.ulb_name||"",fontSize:9},{text:g.total||"0",fontSize:9},{text:g.ineligible||"0",fontSize:9},{text:g.eligible||"0",fontSize:9},{text:g.objections||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","15%","15%","15%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};kr.default.createPdf(S).download(`Field Verified List For ${this.district_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-field-verified-ulb-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["routerLink","/department/portal/approval-module/field-verified/district-stats","type","button",1,"me-2"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter ULB Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","20%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,Xm,3,0,"div",9)(11,rp,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Ao=B(ve()),Dr=B(Ut()),Do=B(me());function lp(t,r){t&1&&(o(0,"div",28),u(1,"i",29),s(2," We are fetching the data, please wait. "),n())}function sp(t,r){if(t&1){let e=E();o(0,"div",40)(1,"input",41),x("ngModelChange",function(a){C(e);let l=p(2);return y(l.searchTerm=a)}),n(),u(2,"i",42),n()}if(t&2){let e=p(2);d(1),m("ngModel",e.searchTerm)}}function dp(t,r){if(t&1){let e=E();o(0,"button",43),x("click",function(){C(e);let a=p(2);return y(a.generateRandomList())}),s(1," Random List "),n()}}function cp(t,r){if(t&1){let e=E();o(0,"button",43),x("click",function(){C(e);let a=p(2);return y(a.generateRandomList())}),u(1,"i",44),s(2,"Generating... "),n()}}function mp(t,r){if(t&1){let e=E();o(0,"button",45),x("click",function(){C(e);let a=p(2);return y(a.exportToPDF(a.filteredDistrictStats))}),u(1,"i",46),s(2,"Download "),n()}}function pp(t,r){t&1&&(o(0,"button",47),u(1,"i",44),s(2,"Downloading... "),n())}function up(t,r){if(t&1&&(o(0,"a",56),s(1,"View Block"),n(),o(2,"a",57),s(3,"View ULB"),n()),t&2){let e=p(2).$implicit;Se("routerLink","/department/portal/approval-module/recommend-list/district-stats/block-stats/",e==null?null:e.district_id,""),d(2),Se("routerLink","/department/portal/approval-module/recommend-list/district-stats/ulb-stats/",e==null?null:e.district_id,"")}}function hp(t,r){t&1&&(o(0,"a",58),s(1,"View Block"),n(),o(2,"a",59),s(3,"View ULB"),n())}function fp(t,r){if(t&1&&(o(0,"td",55),h(1,up,4,2)(2,hp,4,0),n()),t&2){let e=p().$implicit;d(1),w(1,e.count?1:2)}}function _p(t,r){if(t&1&&(o(0,"a",57),s(1,"View Ward"),n()),t&2){let e=p(2).$implicit;ce("routerLink","/department/portal/approval-module/recommend-list/district-stats/ward-stats/",e.district_id,"/",e==null?null:e.ulb_id,"")}}function gp(t,r){t&1&&(o(0,"a",59),s(1,"View Ward"),n())}function bp(t,r){if(t&1&&(o(0,"td",55),h(1,_p,2,2,"a",60)(2,gp,2,0),n()),t&2){let e=p().$implicit;d(1),w(1,e!=null&&e.count?1:2)}}function vp(t,r){if(t&1&&(o(0,"tr",53)(1,"td",49),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),h(13,fp,3,1,"td",54)(14,bp,3,1,"td",54),n()),t&2){let e=r.$implicit,i=r.index;d(2),T(" ",i+1," "),d(2),_(e.district_name||e.ulb_name),d(2),_(e.count||"0"),d(2),_(e.eligible_count||"0"),d(2),_(e.ineligible_count||"0"),d(2),_(e.hold_count||"0"),d(1),m("ngIf",!e.ulb_id),d(1),m("ngIf",e.ulb_id)}}function xp(t,r){if(t&1&&(o(0,"tr",53),u(1,"td",49),o(2,"td",62),s(3,"GRAND TOTAL"),n(),o(4,"td",62),s(5),n(),o(6,"td",62),s(7),n(),o(8,"td",62),s(9),n(),o(10,"td",62),s(11),n(),u(12,"td"),n()),t&2){let e=p(4);d(5),T("",e.getGrandTotal("count")," "),d(2),_(e.getGrandTotal("eligible_count")),d(2),_(e.getGrandTotal("ineligible_count")),d(2),_(e.getGrandTotal("hold_count"))}}function Sp(t,r){if(t&1&&h(0,xp,13,4,"tr",61),t&2){let e=p(3);m("ngIf",e.filteredDistrictStats==null?null:e.filteredDistrictStats.length)}}function Cp(t,r){if(t&1&&(o(0,"table",48)(1,"thead")(2,"tr")(3,"th",49),s(4,"SN"),n(),o(5,"th",50),s(6,"District/MC"),n(),o(7,"th"),s(8,"TOTAL"),n(),o(9,"th"),s(10,"FOR APPROVAL"),n(),o(11,"th"),s(12,"FOR REJECTION"),n(),o(13,"th"),s(14,"FOR RECONSIDERATION"),n(),o(15,"th"),s(16,"Action"),n()()(),o(17,"tbody"),h(18,vp,15,8,"tr",51)(19,Sp,1,1,"tr",52),n()()),t&2){let e=p(2);d(18),m("ngForOf",e.filteredDistrictStats),d(1),w(19,(e.authService.userDetail==null||e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==2?19:-1)}}function yp(t,r){t&1&&(o(0,"h5",63),s(1," No Data Found "),n())}function wp(t,r){if(t&1&&(o(0,"div",30)(1,"div",31)(2,"div",32),s(3," List under Consideration by DLSC/MLSC "),n(),o(4,"div",33),h(5,sp,3,1,"div",34)(6,dp,2,0,"button",35)(7,cp,3,0,"button",35),o(8,"div",36),h(9,mp,3,0,"button",37)(10,pp,3,0),n()()(),o(11,"div",38),h(12,Cp,20,2,"table",39)(13,yp,2,0),n()()),t&2){let e=p();d(5),w(5,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)=="2"?5:-1),d(1),m("ngIf",!e.generatingInProgress&&e.authService.userDetail.role.id=="4"),d(1),m("ngIf",e.generatingInProgress&&e.authService.userDetail.role.id=="4"),d(2),w(9,e.isExportInProgress?10:9),d(3),w(12,e.filteredDistrictStats&&e.filteredDistrictStats.length>0?12:13)}}function Ep(t,r){if(t&1&&(o(0,"div",12)(1,"label",13),s(2,"Approve :"),n(),u(3,"input",15),n()),t&2){let e=p();d(3),m("value",e.getApplicationCounts("eligible"))}}function Ip(t,r){if(t&1&&(o(0,"div",12)(1,"label",13),s(2,"Reject :"),n(),u(3,"input",15),n()),t&2){let e=p();d(3),m("value",e.getApplicationCounts("ineligible"))}}function Tp(t,r){if(t&1&&(o(0,"option",67),s(1),n()),t&2){let e=r.$implicit;m("value",e==null?null:e.id),d(1),_(e==null?null:e.proceding_number)}}function kp(t,r){if(t&1&&(o(0,"select",64)(1,"option",65),s(2,"Select Proceeding No."),n(),h(3,Tp,2,2,"option",66),n()),t&2){let e=p();d(3),m("ngForOf",e.proceedingList)}}function Lp(t,r){if(t&1&&(o(0,"option",67),s(1),n()),t&2){let e=r.$implicit;m("value",e==null?null:e.id),d(1),_(e==null?null:e.proceding_number)}}function Fp(t,r){if(t&1&&(o(0,"select",68)(1,"option",65),s(2,"Select Proceeding No."),n(),h(3,Lp,2,2,"option",66),n()),t&2){let e=p();d(3),m("ngForOf",e.proceedingList)}}function Dp(t,r){t&1&&(o(0,"button",69),s(1," Submit "),n())}function Ap(t,r){t&1&&(o(0,"button",70),s(1," Submitting... "),u(2,"i",71),n())}Ao.default.vfs=Dr.default.pdfMake.vfs;var Ar=(()=>{let r=class r{constructor(i,a,l,c,f,S,g){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.toastService=f,this.formService=S,this.fb=g,this.isFormSubmitInProgress=!1,this.generatingInProgress=!1,this.fetchingProceedingList=!1,this.fieldVerificationsList=[],this.proceedingList=[],this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.moveStatus="",this.selectedImage="",this.selectedGpId="",this.today="",this.district_id="",this.approvalForm=this.fb.group({meetingDate:["",k.required],proceedingNo:["",k.required],remarks:["",[k.pattern(/.*\S.*/),k.required]]})}ngOnInit(){this.today=(0,Do.default)().format("YYYY-MM-DD"),this.route.queryParams.subscribe(i=>{this.type=+i.type}),this.fetchDrillDownList()}get filteredDistrictStats(){return this.searchTerm?this.drilldownStats.filter(i=>i?.district_name?.toLowerCase()?.includes(this?.searchTerm?.trim().toLowerCase())||i?.ulb_name?.toLowerCase()?.includes(this?.searchTerm?.trim()?.toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/recommended-district-count?isAll=0`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=[...i?.data||[],...i?.ulbData||[]]},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPDF(i){this.isExportInProgress=!0;let a="RECOMMENDED LIST",l=new Date,c=`Timestamp: ${(0,Do.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"District/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0},{text:"FOR APPROVAL",fillColor:"#d3d3d3",bold:!0},{text:"FOR REJECTION",fillColor:"#d3d3d3",bold:!0},{text:"FOR RECONSIDERATION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.district_name||g.ulb_name||"",fontSize:9},{text:g.count||"0",fontSize:9},{text:g.eligible_count||"0",fontSize:9},{text:g.ineligible_count||"0",fontSize:9},{text:g.hold_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{body:f,widths:["15%","25%","15%","15%","15%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Ao.default.createPdf(S).download("recommended_list.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[i]}getGrandTotal(i){return this.filteredDistrictStats.reduce((l,c)=>l+c[i],0)}generateRandomList(){if(!this.district_id&&this.drilldownStats.length>0&&(this.district_id=this.drilldownStats[0]?.district_id),!this.district_id){this.toastService.error("No district selected for generating the list.");return}this.generatingInProgress=!0;let i=`${this.appService.departmentBaseUrl}/v1/district/recommended-random-list-pdf?district_id=${this.district_id}`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.generatingInProgress=!1,this.downloadFile(a,"generate_random_list")},a=>{console.log("error",a),this.generatingInProgress=!1,this.toastService.error(a.error.message||"A random list of available applications has already been generated. The next random list will be downloaded once new applications are available.")})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetRecommedationForm();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetRecommedationForm();return}this.selectedImage=a}resetRecommedationForm(){this.selectedImage=""}setMoveStatus(i){this.moveStatus=i,this.approvalForm.patchValue({remarks:"",meetingDate:"",proceedingNo:""}),this.resetTouchedStatus(this.approvalForm)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.fetchingProceedingList=!0;let a=`/proceeding/list?block_id=${this.drilldownStats[0]?.district_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fetchingProceedingList=!1,this.proceedingList=l.data},l=>{this.fetchingProceedingList=!1,console.error("File download failed:",l)})}getApplicationCounts(i){let a=this.drilldownStats[0];if(i==="total")return a?.count;if(i==="eligible")return a?.eligible_count;if(i==="ineligible")return a?.ineligible_count}handleApprovalSubmit(){if(this.approvalForm.status==="INVALID"){this.formService.triggerFormValidation(this.approvalForm);return}let i=this.approvalForm.value,a=new FormData;a.append("meeting_date",i.meetingDate),a.append("remarks",i.remarks),a.append("category","1"),a.append("district_id",this.drilldownStats[0]?.district_id),a.append("proceeding_id",i.proceedingNo),a.append("user_id",this.authService?.userDetail?.demography_id);let l="";this.moveStatus=="approve"?l="/v1/review-approval-applications":l="/v1/review-rejection-applications",this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("approvalRejectModalClose")?.click(),this.selectedFieldVerificationId=[],this.approvalForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(K),b(Z),b(Q))},r.\u0275cmp=D({type:r,selectors:[["app-recommend-district-stats"]],decls:58,vars:14,consts:[[1,"container","my-4"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],["id","approvalRejectModal","tabindex","-1","aria-labelledby","approvalModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","approvalModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","id","approvalRejectModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],["class","mb-3 input_raw",4,"ngIf"],[1,"text-danger"],[1,"d-flex","flex-column","gap-1","w-100"],["formControlName","meetingDate","type","date","id","meetingDate",1,"form-control",2,"text-transform","uppercase",3,"change"],[3,"field"],["class","form-control form-select","formControlName","proceedingNo","id","proceedingNo",4,"ngIf"],["class","form-control form-select","disabled","",4,"ngIf"],["formControlName","remarks","id","remarks","placeholder","200 Characters only","maxlength","200",1,"form-control",2,"resize","none","height","100px"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"row","d-flex","align-items-center","header_container"],[1,"mb-2","mb-md-0","header-title",2,"color","#fd7b03","font-weight","640","font-size","large","white-space","nowrap"],[1,"d-flex","flex-wrap","justify-content-md-end","align-items-center","header-buttons"],["class","search-box me-2","style","flex-grow: 1; max-width: 30%"],["class","btn btn-warning px-3 py-2 me-2 mb-2 mb-md-0","style","color: #fff;background-color: #BA6500 !important; font-weight: 540;","type","button",3,"click",4,"ngIf"],[1,"col-md-2","text-sm-end"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter District Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["type","button",1,"btn","btn-warning","px-3","py-2","me-2","mb-2","mb-md-0",2,"color","#fff","background-color","#BA6500 !important","font-weight","540",3,"click"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"table"],[2,"width","5%"],[2,"width","20%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom"],[1,"tr-border-bottom"],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"],[1,"btn","btn-sm","btn-primary","ms-1",2,"white-space","nowrap",3,"routerLink"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary",2,"white-space","nowrap"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary","ms-1",2,"white-space","nowrap"],["style","white-space: nowrap;","class","btn btn-sm btn-primary ms-1",3,"routerLink"],["class","tr-border-bottom",4,"ngIf"],[1,"fw-bold"],[1,"mt-6","text-center"],["formControlName","proceedingNo","id","proceedingNo",1,"form-control","form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["disabled","",1,"form-control","form-select"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),h(3,lp,3,0,"div",3)(4,wp,14,5),n()()(),o(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5",8),s(10),n(),u(11,"button",9),n(),o(12,"div",10)(13,"form",11),x("submit",function(){return l.handleApprovalSubmit()}),o(14,"div",12)(15,"label",13),s(16),n(),u(17,"input",14),n(),o(18,"div",12)(19,"label",13),s(20,"No. of Applications :"),n(),u(21,"input",15),n(),h(22,Ep,4,1,"div",16)(23,Ip,4,1,"div",16),o(24,"div",12)(25,"label",13),s(26,"Meeting Date "),o(27,"span",17),s(28,"*"),n(),s(29," :"),n(),o(30,"div",18)(31,"input",19),x("change",function(f){return l.onProceedingDateChange(f)}),n(),u(32,"app-form-error",20),n()(),o(33,"div",12)(34,"label",13),s(35,"Proceeding No. "),o(36,"span",17),s(37,"*"),n(),s(38," :"),n(),o(39,"div",18),h(40,kp,4,1,"select",21)(41,Fp,4,1,"select",22),u(42,"app-form-error",20),n()(),o(43,"div",12)(44,"label",13),s(45,"Remarks "),o(46,"span",17),s(47,"*"),n(),s(48," :"),n(),o(49,"div",18)(50,"textarea",23),s(51,"                  "),n(),u(52,"app-form-error",20),n()(),o(53,"div",24)(54,"div",25)(55,"div",26),h(56,Dp,2,0,"button",27)(57,Ap,3,0),n()()()()()()()()),a&2){let c,f;d(3),w(3,l.isStatsLoading?3:4),d(7),_(l.moveStatus=="approve"?"Finally Approve Form":"Finally Reject Form"),d(3),m("formGroup",l.approvalForm),d(3),T("",l.moveStatus=="approve"?"Approval":"Rejection"," Date :"),d(1),m("value",l.today),d(4),m("value",l.getApplicationCounts("total")),d(1),m("ngIf",l.moveStatus=="approve"),d(1),m("ngIf",l.moveStatus=="reject"),d(9),m("field",l.approvalForm.get("meetingDate")),d(8),m("ngIf",(c=l.approvalForm.get("meetingDate"))==null?null:c.value),d(1),m("ngIf",!((f=l.approvalForm.get("meetingDate"))!=null&&f.value)),d(1),m("field",l.approvalForm.get("proceedingNo")),d(10),m("field",l.approvalForm.get("remarks")),d(4),w(56,l.isFormSubmitInProgress?57:56)}},dependencies:[A,P,W,se,Ie,Te,Y,ut,U,le,St,X,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.header_container[_ngcontent-%COMP%]{width:100%;display:flex!important}.header-title[_ngcontent-%COMP%]{width:15%}.header-buttons[_ngcontent-%COMP%]{width:85%}@media screen and (max-width: 480px){.header_container[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important}.header-title[_ngcontent-%COMP%], .header-buttons[_ngcontent-%COMP%]{width:100%}}"]});let t=r;return t})();var Vo=B(ve()),Vr=B(Ut()),Pr=B(me());function Vp(t,r){t&1&&(o(0,"div",4),u(1,"i",5),s(2," We are fetching the data, please wait. "),n())}function Pp(t,r){if(t&1){let e=E();o(0,"div",14)(1,"input",15),x("ngModelChange",function(a){C(e);let l=p(2);return y(l.searchTerm=a)}),n(),u(2,"i",16),n()}if(t&2){let e=p(2);d(1),m("ngModel",e.searchTerm)}}function Mp(t,r){if(t&1){let e=E();o(0,"button",17),x("click",function(){C(e);let a=p(2);return y(a.exportToPDF(a.filteredDistrictStats))}),u(1,"i",18),s(2,"Download "),n()}}function Rp(t,r){t&1&&(o(0,"button",19),u(1,"i",20),s(2,"Downloading... "),n())}function Op(t,r){if(t&1&&(o(0,"a",29),s(1,"View Block"),n(),o(2,"a",30),s(3,"View ULB"),n()),t&2){let e=p(2).$implicit;Se("routerLink","/department/portal/approval-module/rejected-list/district-stats/block-stats/",e==null?null:e.district_id,""),d(2),Se("routerLink","/department/portal/approval-module/rejected-list/district-stats/ulb-stats/",e==null?null:e.district_id,"")}}function jp(t,r){t&1&&(o(0,"a",31),s(1,"View Block"),n(),o(2,"a",32),s(3,"View ULB"),n())}function Bp(t,r){if(t&1&&(o(0,"td",28),h(1,Op,4,2)(2,jp,4,0),n()),t&2){let e=p().$implicit;d(1),w(1,e.count?1:2)}}function $p(t,r){if(t&1&&(o(0,"a",30),s(1,"View Ward"),n()),t&2){let e=p(2).$implicit;ce("routerLink","/department/portal/approval-module/rejected-list/district-stats/ward-stats/",e.district_id,"/",e==null?null:e.ulb_id,"")}}function Np(t,r){t&1&&(o(0,"a",32),s(1,"View Ward"),n())}function Gp(t,r){if(t&1&&(o(0,"td",28),h(1,$p,2,2,"a",33)(2,Np,2,0),n()),t&2){let e=p().$implicit;d(1),w(1,e!=null&&e.count?1:2)}}function Wp(t,r){if(t&1&&(o(0,"tr",26)(1,"td",22),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),h(7,Bp,3,1,"td",27)(8,Gp,3,1,"td",27),n()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.district_name||(e==null?null:e.ulb_name)),d(2),_(e.count||"0"),d(1),m("ngIf",!e.ulb_id),d(1),m("ngIf",e.ulb_id)}}function zp(t,r){if(t&1&&(o(0,"tr",26),u(1,"td",22),o(2,"td",35),s(3,"GRAND TOTAL"),n(),o(4,"td",35),s(5),n(),u(6,"td"),n()),t&2){let e=p(4);d(5),T("",e.getGrandTotal("count")," ")}}function Up(t,r){if(t&1&&h(0,zp,7,1,"tr",34),t&2){let e=p(3);m("ngIf",e.filteredDistrictStats==null?null:e.filteredDistrictStats.length)}}function Hp(t,r){if(t&1&&(o(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),s(4,"SN"),n(),o(5,"th",23),s(6,"District/MC"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,Wp,9,5,"tr",24)(13,Up,1,1,"tr",25),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredDistrictStats),d(1),w(13,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==2?13:-1)}}function Yp(t,r){t&1&&(o(0,"h5",36),s(1," No Data Found "),n())}function qp(t,r){if(t&1&&(o(0,"div",6)(1,"div",6)(2,"div",7),s(3," Final Rejected List "),n(),o(4,"div",8),h(5,Pp,3,1,"div",9),o(6,"div",10),h(7,Mp,3,0,"button",11)(8,Rp,3,0),n()()(),o(9,"div",12),h(10,Hp,14,2,"table",13)(11,Yp,2,0),n()()),t&2){let e=p();d(5),w(5,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)=="2"?5:-1),d(2),w(7,e.isExportInProgress?8:7),d(3),w(10,e.filteredDistrictStats&&e.filteredDistrictStats.length>0?10:11)}}Vo.default.vfs=Vr.default.pdfMake.vfs;var Mr=(()=>{let r=class r{constructor(i,a,l,c){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm=""}ngOnInit(){this.route.queryParams.subscribe(i=>{this.type=+i.type}),this.fetchDrillDownList()}getGrandTotal(i){return this.filteredDistrictStats.reduce((l,c)=>l+c[i],0)}get filteredDistrictStats(){return this.searchTerm?this.drilldownStats.filter(i=>i?.district_name?.toLowerCase()?.includes(this?.searchTerm?.trim().toLowerCase())||i?.ulb_name?.toLowerCase()?.includes(this?.searchTerm?.trim()?.toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/reviewed-district-count?status=ineligible`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=[...i?.data||[],...i?.ulbData||[]]},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPDF(i){this.isExportInProgress=!0;let a="REJECTED LIST",l=new Date,c=`Timestamp: ${(0,Pr.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"District/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.district_name||g.ulb_name||"",fontSize:9},{text:g.count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{body:f,widths:["20%","50%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Vo.default.createPdf(S).download("rejected_list.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R))},r.\u0275cmp=D({type:r,selectors:[["app-rejected-district-wise-stats"]],decls:5,vars:1,consts:[[1,"container","my-4"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["class","search-box me-2","style","flex-grow: 1; max-width: 30%"],[1,"col-md-2","text-sm-end"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter District Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom"],[1,"tr-border-bottom"],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"],[1,"btn","btn-sm","btn-primary","ms-1",2,"white-space","nowrap",3,"routerLink"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary",2,"white-space","nowrap"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary","ms-1",2,"white-space","nowrap"],["style","white-space: nowrap;","class","btn btn-sm btn-primary ms-1",3,"routerLink"],["class","tr-border-bottom",4,"ngIf"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),h(3,Vp,3,0,"div",3)(4,qp,12,3),n()()()),a&2&&(d(3),w(3,l.isStatsLoading?3:4))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Rr=B(ve());var Po=B(me());function Kp(t,r){if(t&1&&(o(0,"a",33)(1,"button",34),u(2,"i",35),s(3," Back"),n()()),t&2){let e=p(2);Se("routerLink","/department/portal/approval-module/field-verified/district-stats/ulb-stats/",e.district_id,"")}}function Jp(t,r){t&1&&(o(0,"a",36)(1,"button",34),u(2,"i",35),s(3," Back"),n()())}function Xp(t,r){if(t&1&&(o(0,"div",30),h(1,Kp,4,1,"a",31)(2,Jp,4,0,"a",32),n()),t&2){let e=p();d(1),m("ngIf",!e.isMcAvailable()),d(1),m("ngIf",e.isMcAvailable())}}function Qp(t,r){t&1&&(o(0,"div",37),u(1,"i",38),s(2," We are fetching the data, please wait. "),n())}function Zp(t,r){if(t&1){let e=E();o(0,"button",55),x("click",function(){C(e);let a=p(2);return y(a.generateRandomList())}),s(1," Random List "),n()}if(t&2){let e=p(2);m("disabled",e.isGenerateButtonDisabled())}}function e0(t,r){t&1&&(o(0,"button",56),u(1,"i",57),s(2,"Generating... "),n())}function t0(t,r){if(t&1){let e=E();o(0,"button",58),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",59),s(2,"Download "),n()}}function i0(t,r){t&1&&(o(0,"button",60),u(1,"i",57),s(2,"Downloading... "),n())}var Or=()=>({tab:1});function n0(t,r){if(t&1){let e=E();o(0,"a",69),x("click",function(){C(e);let a=p(2).$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.ward_id))}),s(1,"View "),n()}if(t&2){let e=p(2).$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/field-verified/district-stats/ward-field-verified-list/",i.district_id,"/",i.ulb_id,"/",e==null?null:e.ward_id,""),m("queryParams",$t(4,Or))}}function o0(t,r){t&1&&(o(0,"a",70),s(1,"View "),n())}function a0(t,r){if(t&1&&(o(0,"td"),h(1,n0,2,5,"a",67)(2,o0,2,0,"a",68),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e==null?null:e.total),d(1),m("ngIf",!(e!=null&&e.total))}}function r0(t,r){if(t&1){let e=E();o(0,"a",69),x("click",function(){C(e);let a=p(2).$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.ward_id))}),s(1,"View "),n()}if(t&2){let e=p(2).$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/field-verified/district-stats/ward-stats/",i.district_id,"/",i.ulb_id,"/",e==null?null:e.ward_id,""),m("queryParams",$t(4,Or))}}function l0(t,r){t&1&&(o(0,"a",70),s(1,"View "),n())}function s0(t,r){if(t&1&&(o(0,"td"),h(1,r0,2,5,"a",67)(2,l0,2,0,"a",68),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e==null?null:e.total),d(1),m("ngIf",!(e!=null&&e.total))}}function d0(t,r){if(t&1&&(o(0,"tr",65)(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),h(13,a0,3,2,"td",66)(14,s0,3,2,"td",66),n()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(2),_(e.ward_no),d(2),_(e.total||"0"),d(2),_(e.eligible||"0"),d(2),_(e.ineligible||"0"),d(2),_(e.total-(e.ineligible+e.eligible)||"0"),d(1),m("ngIf",(a.authService.userDetail==null?null:a.authService.userDetail.demography_type)!=5),d(1),m("ngIf",(a.authService.userDetail==null?null:a.authService.userDetail.demography_type)==5)}}function c0(t,r){if(t&1&&(o(0,"tr",65),u(1,"td",71),o(2,"td",72),s(3,"GRAND TOTAL"),n(),o(4,"td",72),s(5),n(),o(6,"td",72),s(7),n(),o(8,"td",72),s(9),n(),o(10,"td",72),s(11),n(),u(12,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("total")," "),d(2),_(e.getGrandTotal("eligible")),d(2),_(e.getGrandTotal("ineligible")),d(2),_(e.getGrandTotal("objections"))}}function m0(t,r){if(t&1&&(o(0,"table",61)(1,"thead")(2,"tr")(3,"th"),s(4,"SN"),n(),o(5,"th",62),s(6,"WARD"),n(),o(7,"th"),s(8,"TOTAL"),n(),o(9,"th"),s(10,"ELIGIBLE"),n(),o(11,"th"),s(12,"INELIGIBLE"),n(),o(13,"th"),s(14,"OBJECTION"),n(),o(15,"th"),s(16,"ACTION"),n()()(),o(17,"tbody"),h(18,d0,15,8,"tr",63)(19,c0,13,4,"tr",64),n()()),t&2){let e=p(2);d(18),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function p0(t,r){t&1&&(o(0,"h5",73),s(1," No Data Found "),n())}function u0(t,r){if(t&1){let e=E();o(0,"div",39)(1,"div",39)(2,"div",40)(3,"div",41),s(4," FET Verified List (Non NFSA/SFSS) & Objections "),n(),o(5,"nav",42)(6,"ol",43)(7,"li",44),s(8),n(),o(9,"li",45),s(10),n()()()(),o(11,"div",46)(12,"div",47)(13,"input",48),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",49),n(),h(15,Zp,2,1,"button",50)(16,e0,3,0,"button",51),o(17,"div"),h(18,t0,3,0,"button",52)(19,i0,3,0),n()()(),o(20,"div",53),h(21,m0,20,2,"table",54)(22,p0,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.ulb_name," "),d(3),m("ngModel",e.searchTerm),d(2),m("ngIf",!e.generatingInProgress&&e.authService.userDetail.role.id=="7"),d(1),m("ngIf",e.generatingInProgress&&e.authService.userDetail.role.id=="7"),d(2),w(18,e.isExportInProgress?19:18),d(3),w(21,e.filteredBlockStats&&e.filteredBlockStats.length>0?21:22)}}function h0(t,r){if(t&1&&(o(0,"option",77),s(1),n()),t&2){let e=r.$implicit;m("value",e==null?null:e.id),d(1),_(e==null?null:e.proceding_number)}}function f0(t,r){if(t&1&&(o(0,"select",74)(1,"option",75),s(2,"Select Proceeding No."),n(),h(3,h0,2,2,"option",76),n()),t&2){let e=p();d(3),m("ngForOf",e.proceedingList)}}function _0(t,r){if(t&1&&(o(0,"option",77),s(1),n()),t&2){let e=r.$implicit;m("value",e==null?null:e.id),d(1),_(e==null?null:e.proceding_number)}}function g0(t,r){if(t&1&&(o(0,"select",78)(1,"option",75),s(2,"Select Proceeding No."),n(),h(3,_0,2,2,"option",76),n()),t&2){let e=p();d(3),m("ngForOf",e.proceedingList)}}function b0(t,r){t&1&&(o(0,"button",79),s(1," Recommend "),n())}function v0(t,r){t&1&&(o(0,"button",80),s(1," Recommending... "),u(2,"i",81),n())}var jr=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fb=S,this.toastService=g,this.formService=v,this.paginationService=I,this.generatingInProgress=!1,this.isStatsLoading=!1,this.isFormSubmitInProgress=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.ulb_id="",this.district_name="",this.ulb_name="",this.selectedWardId="",this.selectedImage="",this.today="",this.mcIDS=Oe.MC_IDS,this.isMCRedirect=!1,this.proceedingList=[],this.isFetchProceedingInProgress=!1,this.recommedationForm=this.fb.group({remarks:["",k.required,[k.pattern(/.*\S.*/)]],meetingDate:["",k.required],proceedingNo:["",k.required]})}goBack(){this.location.back()}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetRecommedationForm();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetRecommedationForm();return}this.selectedImage=a}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}let a=`/proceeding/list?ulb_id=${this.ulb_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isFetchProceedingInProgress=!1,this.proceedingList=l.data},l=>{this.isFetchProceedingInProgress=!1,console.error("File download failed:",l)})}resetRecommedationForm(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity()}toggleWardSelection(i){if(i==this.selectedWardId){this.selectedWardId="";return}this.selectedWardId=i}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.ulb_id=i.ulb_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.ulb_name=he.data.find(a=>a.id==this.ulb_id)?.ulb_name,this.fetchDrillDownList()}),this.today=(0,Po.default)().format("YYYY-MM-DD")}isMcAvailable(){return this.mcIDS?.includes(Number(this.ulb_id))}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ward_no.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/ward-wise/provisional-published-count?isAll=0&ulb_id=${this.ulb_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}generateRandomList(){this.generatingInProgress=!0;let i=`${this.appService.departmentBaseUrl}/v1/ulb/provisional-published-list-pdf?ulb_id=${this.ulb_id}&isAll=0`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.generatingInProgress=!1,this.downloadFile(a,"ulb_generate_random_list")},a=>{this.generatingInProgress=!1,this.toastService.error(a.error.message||"A random list of available applications has already been generated. The next random list will be downloaded once new applications are available.")})}handleViewClick(i){this.paginationService.setData("ward_id",i,null,1,"FieldVerifiedEligibleTab",this.authService.userDetail.demography_id,0)}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}exportToPdf(i){this.isExportInProgress=!0;let a="FIELD VERIFIED LIST",l=new Date,c=`Timestamp: ${(0,Po.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"WARD",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0},{text:"INELIGIBLE",fillColor:"#d3d3d3",bold:!0},{text:"ELIGIBLE",fillColor:"#d3d3d3",bold:!0},{text:"OBJECTION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.ward_no||"",fontSize:9},{text:g.total||"0",fontSize:9},{text:g.ineligible||"0",fontSize:9},{text:g.eligible||"0",fontSize:9},{text:g.objections||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.ulb_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","20%","20%","20%","15%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Rr.default.createPdf(S).download(`Field Verified List For ${this.ulb_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}openModal(){this.recommedationForm.patchValue({remarks:"",meetingDate:"",proceedingNo:""}),this.recommedationForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.recommedationForm)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}getApplicationCounts(i){let a=this.drilldownStats.find(l=>l.ward_id==this.selectedWardId);if(i==="total")return a?.eligible+a?.ineligible;if(i==="eligible")return a?.eligible;if(i==="ineligible")return a?.ineligible}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("proceeding_id",i.proceedingNo),a.append("meeting_date",i.meetingDate),a.append("remarks",i.remarks),a.append("category","1"),a.append("ward_id",this.selectedWardId);let l="/v1/recommend-fv-for-ineligible",c="/v1/recommend-fv-for-eligible";this.isFormSubmitInProgress=!0,pt([this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}),this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,a,{headers:{Authorization:this.authService.authToken}})]).subscribe(([f,S])=>{this.isFormSubmitInProgress=!1,this.toastService.success(f?.message),document.getElementById("recommendModalClose")?.click(),this.selectedWardId="",this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}toggleSelectAll(){this.isAllSelected()?this.selectedWardId=[]:this.selectedWardId=this.filteredBlockStats?.map(i=>i?.id)}onSelect(i){this.selectedWardId.includes(i)?this.selectedWardId=[]:this.selectedWardId=[i]}isAllSelected(){if(!this.filteredBlockStats?.length)return!1;let i=!0;return this.filteredBlockStats.forEach(a=>{this.selectedWardId?.includes(a.id)||(i=!1)}),i}isGenerateButtonDisabled(){for(let i of this.filteredBlockStats)if(i.total>0)return!1;return!0}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G),b(Q),b(K),b(Z),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-field-verified-ward-stats"]],decls:67,vars:13,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],["id","recommendModal","tabindex","-1","aria-labelledby","recommendModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","recommendModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","recommendModalClose",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],[1,"text-danger"],[1,"d-flex","flex-column","gap-1","w-100"],["formControlName","meetingDate","type","date","id","meetingDate",1,"form-control",2,"text-transform","uppercase",3,"change"],[3,"field"],["class","form-control form-select","formControlName","proceedingNo","id","proceedingNo",4,"ngIf"],["class","form-control form-select","disabled","",4,"ngIf"],["formControlName","remarks","id","remarks","placeholder","200 Characters only","maxlength","200",1,"form-control",2,"resize","none","height","100px"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],[1,"col-md-5","d-flex","justify-content-end"],["type","button","class","me-2",3,"routerLink",4,"ngIf"],["routerLink","/department/portal/approval-module/field-verified/district-stats","type","button","class","me-2",4,"ngIf"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],["routerLink","/department/portal/approval-module/field-verified/district-stats","type","button",1,"me-2"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-8","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Ward",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn btn-warning px-3 py-2 me-2 mb-2 mb-md-0","style","color: #fff; white-space: nowrap; background-color: #BA6500 !important; font-weight: 540;","type","button",3,"disabled","click",4,"ngIf"],["class","btn btn-warning px-3 py-2 me-2 mb-2 mb-md-0","style","color: #fff; white-space: nowrap; background-color: #BA6500 !important; font-weight: 540;","type","button","disabled","",4,"ngIf"],["class","btn px-2","style","background-color: #ffe8d0; white-space: nowrap; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","btn-warning","px-3","py-2","me-2","mb-2","mb-md-0",2,"color","#fff","white-space","nowrap","background-color","#BA6500 !important","font-weight","540",3,"disabled","click"],["type","button","disabled","",1,"btn","btn-warning","px-3","py-2","me-2","mb-2","mb-md-0",2,"color","#fff","white-space","nowrap","background-color","#BA6500 !important","font-weight","540"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","white-space","nowrap","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","white-space","nowrap","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"table"],[2,"width","20%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[4,"ngIf"],[3,"routerLink","queryParams","click",4,"ngIf"],["style","color: black !important;","disabled","","type","button",4,"ngIf"],[3,"routerLink","queryParams","click"],["disabled","","type","button",2,"color","black !important"],[2,"width","5%"],[1,"fw-bold"],[1,"mt-6","text-center"],["formControlName","proceedingNo","id","proceedingNo",1,"form-control","form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["disabled","",1,"form-control","form-select"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,Xp,3,2,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,Qp,3,0,"div",6)(7,u0,23,7),n()()(),o(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"h5",11),s(13,"Recommendation Form"),n(),u(14,"button",12),n(),o(15,"div",13)(16,"form",14),x("submit",function(){return l.handleRecomendationSubmit()}),o(17,"div",15)(18,"label",16),s(19,"Recommendation Date :"),n(),u(20,"input",17),n(),o(21,"div",15)(22,"label",16),s(23,"No. of Applications :"),n(),u(24,"input",18),n(),o(25,"div",15)(26,"label",16),s(27,"Recommended for Approval :"),n(),u(28,"input",18),n(),o(29,"div",15)(30,"label",16),s(31,"Recommended for Rejection :"),n(),u(32,"input",18),n(),o(33,"div",15)(34,"label",16),s(35,"Meeting Date "),o(36,"span",19),s(37,"*"),n(),s(38," :"),n(),o(39,"div",20)(40,"input",21),x("change",function(f){return l.onProceedingDateChange(f)}),n(),u(41,"app-form-error",22),n()(),o(42,"div",15)(43,"label",16),s(44,"Proceeding No. "),o(45,"span",19),s(46,"*"),n(),s(47," :"),n(),o(48,"div",20),h(49,f0,4,1,"select",23)(50,g0,4,1,"select",24),u(51,"app-form-error",22),n()(),o(52,"div",15)(53,"label",16),s(54,"Remarks "),o(55,"span",19),s(56,"*"),n(),s(57," :"),n(),o(58,"div",20)(59,"textarea",25),s(60,"                        "),n(),u(61,"app-form-error",22),n()(),o(62,"div",26)(63,"div",27)(64,"div",28),h(65,b0,2,0,"button",29)(66,v0,3,0),n()()()()()()()()),a&2){let c,f;d(3),w(3,(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)!="7"?3:-1),d(3),w(6,l.isStatsLoading?6:7),d(10),m("formGroup",l.recommedationForm),d(4),m("value",l.today),d(4),m("value",l.getApplicationCounts("total")),d(4),m("value",l.getApplicationCounts("eligible")),d(4),m("value",l.getApplicationCounts("ineligible")),d(9),m("field",l.recommedationForm.get("meetingDate")),d(8),m("ngIf",(c=l.recommedationForm.get("meetingDate"))==null?null:c.value),d(1),m("ngIf",!((f=l.recommedationForm.get("meetingDate"))!=null&&f.value)),d(1),m("field",l.recommedationForm.get("proceedingNo")),d(10),m("field",l.recommedationForm.get("remarks")),d(4),w(65,l.isFormSubmitInProgress?66:65)}},dependencies:[A,P,W,se,Ie,Te,Y,ut,U,le,St,X,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var Tt=B(Ht());var as=B(me());var Xn={};gc(Xn,{afterMain:()=>zr,afterRead:()=>Nr,afterWrite:()=>Yr,applyStyles:()=>Bi,arrow:()=>Wn,auto:()=>sn,basePlacements:()=>Yt,beforeMain:()=>Gr,beforeRead:()=>Br,beforeWrite:()=>Ur,bottom:()=>tt,clippingParents:()=>Mo,computeStyles:()=>Ni,createPopper:()=>gn,createPopperBase:()=>il,createPopperLite:()=>nl,detectOverflow:()=>gt,end:()=>ri,eventListeners:()=>Gi,flip:()=>Yn,hide:()=>qn,left:()=>Ke,main:()=>Wr,modifierPhases:()=>Oo,offset:()=>Kn,placements:()=>cn,popper:()=>Ci,popperGenerator:()=>Fi,popperOffsets:()=>Ui,preventOverflow:()=>Jn,read:()=>$r,reference:()=>Ro,right:()=>Qe,start:()=>Wt,top:()=>Ye,variationPlacements:()=>Gn,viewport:()=>dn,write:()=>Hr});var Ye="top",tt="bottom",Qe="right",Ke="left",sn="auto",Yt=[Ye,tt,Qe,Ke],Wt="start",ri="end",Mo="clippingParents",dn="viewport",Ci="popper",Ro="reference",Gn=Yt.reduce(function(t,r){return t.concat([r+"-"+Wt,r+"-"+ri])},[]),cn=[].concat(Yt,[sn]).reduce(function(t,r){return t.concat([r,r+"-"+Wt,r+"-"+ri])},[]),Br="beforeRead",$r="read",Nr="afterRead",Gr="beforeMain",Wr="main",zr="afterMain",Ur="beforeWrite",Hr="write",Yr="afterWrite",Oo=[Br,$r,Nr,Gr,Wr,zr,Ur,Hr,Yr];function lt(t){return t?(t.nodeName||"").toLowerCase():null}function ze(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var r=t.ownerDocument;return r&&r.defaultView||window}return t}function Ft(t){var r=ze(t).Element;return t instanceof r||t instanceof Element}function nt(t){var r=ze(t).HTMLElement;return t instanceof r||t instanceof HTMLElement}function ji(t){if(typeof ShadowRoot>"u")return!1;var r=ze(t).ShadowRoot;return t instanceof r||t instanceof ShadowRoot}function x0(t){var r=t.state;Object.keys(r.elements).forEach(function(e){var i=r.styles[e]||{},a=r.attributes[e]||{},l=r.elements[e];!nt(l)||!lt(l)||(Object.assign(l.style,i),Object.keys(a).forEach(function(c){var f=a[c];f===!1?l.removeAttribute(c):l.setAttribute(c,f===!0?"":f)}))})}function S0(t){var r=t.state,e={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,e.popper),r.styles=e,r.elements.arrow&&Object.assign(r.elements.arrow.style,e.arrow),function(){Object.keys(r.elements).forEach(function(i){var a=r.elements[i],l=r.attributes[i]||{},c=Object.keys(r.styles.hasOwnProperty(i)?r.styles[i]:e[i]),f=c.reduce(function(S,g){return S[g]="",S},{});!nt(a)||!lt(a)||(Object.assign(a.style,f),Object.keys(l).forEach(function(S){a.removeAttribute(S)}))})}}var Bi={name:"applyStyles",enabled:!0,phase:"write",fn:x0,effect:S0,requires:["computeStyles"]};function st(t){return t.split("-")[0]}var Nt=Math.max,yi=Math.min,qt=Math.round;function $i(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function mn(){return!/^((?!chrome|android).)*safari/i.test($i())}function Dt(t,r,e){r===void 0&&(r=!1),e===void 0&&(e=!1);var i=t.getBoundingClientRect(),a=1,l=1;r&&nt(t)&&(a=t.offsetWidth>0&&qt(i.width)/t.offsetWidth||1,l=t.offsetHeight>0&&qt(i.height)/t.offsetHeight||1);var c=Ft(t)?ze(t):window,f=c.visualViewport,S=!mn()&&e,g=(i.left+(S&&f?f.offsetLeft:0))/a,v=(i.top+(S&&f?f.offsetTop:0))/l,I=i.width/a,F=i.height/l;return{width:I,height:F,top:v,right:g+I,bottom:v+F,left:g,x:g,y:v}}function wi(t){var r=Dt(t),e=t.offsetWidth,i=t.offsetHeight;return Math.abs(r.width-e)<=1&&(e=r.width),Math.abs(r.height-i)<=1&&(i=r.height),{x:t.offsetLeft,y:t.offsetTop,width:e,height:i}}function pn(t,r){var e=r.getRootNode&&r.getRootNode();if(t.contains(r))return!0;if(e&&ji(e)){var i=r;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function _t(t){return ze(t).getComputedStyle(t)}function jo(t){return["table","td","th"].indexOf(lt(t))>=0}function ct(t){return((Ft(t)?t.ownerDocument:t.document)||window.document).documentElement}function Kt(t){return lt(t)==="html"?t:t.assignedSlot||t.parentNode||(ji(t)?t.host:null)||ct(t)}function qr(t){return!nt(t)||_t(t).position==="fixed"?null:t.offsetParent}function C0(t){var r=/firefox/i.test($i()),e=/Trident/i.test($i());if(e&&nt(t)){var i=_t(t);if(i.position==="fixed")return null}var a=Kt(t);for(ji(a)&&(a=a.host);nt(a)&&["html","body"].indexOf(lt(a))<0;){var l=_t(a);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||r&&l.willChange==="filter"||r&&l.filter&&l.filter!=="none")return a;a=a.parentNode}return null}function Gt(t){for(var r=ze(t),e=qr(t);e&&jo(e)&&_t(e).position==="static";)e=qr(e);return e&&(lt(e)==="html"||lt(e)==="body"&&_t(e).position==="static")?r:e||C0(t)||r}function Ei(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ii(t,r,e){return Nt(t,yi(r,e))}function Kr(t,r,e){var i=Ii(t,r,e);return i>e?e:i}function un(){return{top:0,right:0,bottom:0,left:0}}function hn(t){return Object.assign({},un(),t)}function fn(t,r){return r.reduce(function(e,i){return e[i]=t,e},{})}var y0=function(r,e){return r=typeof r=="function"?r(Object.assign({},e.rects,{placement:e.placement})):r,hn(typeof r!="number"?r:fn(r,Yt))};function w0(t){var r,e=t.state,i=t.name,a=t.options,l=e.elements.arrow,c=e.modifiersData.popperOffsets,f=st(e.placement),S=Ei(f),g=[Ke,Qe].indexOf(f)>=0,v=g?"height":"width";if(!(!l||!c)){var I=y0(a.padding,e),F=wi(l),L=S==="y"?Ye:Ke,N=S==="y"?tt:Qe,ee=e.rects.reference[v]+e.rects.reference[S]-c[S]-e.rects.popper[v],Pe=c[S]-e.rects.reference[S],Ge=Gt(l),Je=Ge?S==="y"?Ge.clientHeight||0:Ge.clientWidth||0:0,Xe=ee/2-Pe/2,ke=I[L],je=Je-F[v]-I[N],Be=Je/2-F[v]/2+Xe,qe=Ii(ke,Be,je),dt=S;e.modifiersData[i]=(r={},r[dt]=qe,r.centerOffset=qe-Be,r)}}function E0(t){var r=t.state,e=t.options,i=e.element,a=i===void 0?"[data-popper-arrow]":i;a!=null&&(typeof a=="string"&&(a=r.elements.popper.querySelector(a),!a)||pn(r.elements.popper,a)&&(r.elements.arrow=a))}var Wn={name:"arrow",enabled:!0,phase:"main",fn:w0,effect:E0,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function At(t){return t.split("-")[1]}var I0={top:"auto",right:"auto",bottom:"auto",left:"auto"};function T0(t,r){var e=t.x,i=t.y,a=r.devicePixelRatio||1;return{x:qt(e*a)/a||0,y:qt(i*a)/a||0}}function Jr(t){var r,e=t.popper,i=t.popperRect,a=t.placement,l=t.variation,c=t.offsets,f=t.position,S=t.gpuAcceleration,g=t.adaptive,v=t.roundOffsets,I=t.isFixed,F=c.x,L=F===void 0?0:F,N=c.y,ee=N===void 0?0:N,Pe=typeof v=="function"?v({x:L,y:ee}):{x:L,y:ee};L=Pe.x,ee=Pe.y;var Ge=c.hasOwnProperty("x"),Je=c.hasOwnProperty("y"),Xe=Ke,ke=Ye,je=window;if(g){var Be=Gt(e),qe="clientHeight",dt="clientWidth";if(Be===ze(e)&&(Be=ct(e),_t(Be).position!=="static"&&f==="absolute"&&(qe="scrollHeight",dt="scrollWidth")),Be=Be,a===Ye||(a===Ke||a===Qe)&&l===ri){ke=tt;var ot=I&&Be===je&&je.visualViewport?je.visualViewport.height:Be[qe];ee-=ot-i.height,ee*=S?1:-1}if(a===Ke||(a===Ye||a===tt)&&l===ri){Xe=Qe;var it=I&&Be===je&&je.visualViewport?je.visualViewport.width:Be[dt];L-=it-i.width,L*=S?1:-1}}var mt=Object.assign({position:f},g&&I0),jt=v===!0?T0({x:L,y:ee},ze(e)):{x:L,y:ee};if(L=jt.x,ee=jt.y,S){var ht;return Object.assign({},mt,(ht={},ht[ke]=Je?"0":"",ht[Xe]=Ge?"0":"",ht.transform=(je.devicePixelRatio||1)<=1?"translate("+L+"px, "+ee+"px)":"translate3d("+L+"px, "+ee+"px, 0)",ht))}return Object.assign({},mt,(r={},r[ke]=Je?ee+"px":"",r[Xe]=Ge?L+"px":"",r.transform="",r))}function k0(t){var r=t.state,e=t.options,i=e.gpuAcceleration,a=i===void 0?!0:i,l=e.adaptive,c=l===void 0?!0:l,f=e.roundOffsets,S=f===void 0?!0:f,g={placement:st(r.placement),variation:At(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:a,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,Jr(Object.assign({},g,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:c,roundOffsets:S})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,Jr(Object.assign({},g,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:S})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}var Ni={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:k0,data:{}};var zn={passive:!0};function L0(t){var r=t.state,e=t.instance,i=t.options,a=i.scroll,l=a===void 0?!0:a,c=i.resize,f=c===void 0?!0:c,S=ze(r.elements.popper),g=[].concat(r.scrollParents.reference,r.scrollParents.popper);return l&&g.forEach(function(v){v.addEventListener("scroll",e.update,zn)}),f&&S.addEventListener("resize",e.update,zn),function(){l&&g.forEach(function(v){v.removeEventListener("scroll",e.update,zn)}),f&&S.removeEventListener("resize",e.update,zn)}}var Gi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:L0,data:{}};var F0={left:"right",right:"left",bottom:"top",top:"bottom"};function Wi(t){return t.replace(/left|right|bottom|top/g,function(r){return F0[r]})}var D0={start:"end",end:"start"};function Un(t){return t.replace(/start|end/g,function(r){return D0[r]})}function Ti(t){var r=ze(t),e=r.pageXOffset,i=r.pageYOffset;return{scrollLeft:e,scrollTop:i}}function ki(t){return Dt(ct(t)).left+Ti(t).scrollLeft}function Bo(t,r){var e=ze(t),i=ct(t),a=e.visualViewport,l=i.clientWidth,c=i.clientHeight,f=0,S=0;if(a){l=a.width,c=a.height;var g=mn();(g||!g&&r==="fixed")&&(f=a.offsetLeft,S=a.offsetTop)}return{width:l,height:c,x:f+ki(t),y:S}}function $o(t){var r,e=ct(t),i=Ti(t),a=(r=t.ownerDocument)==null?void 0:r.body,l=Nt(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=Nt(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),f=-i.scrollLeft+ki(t),S=-i.scrollTop;return _t(a||e).direction==="rtl"&&(f+=Nt(e.clientWidth,a?a.clientWidth:0)-l),{width:l,height:c,x:f,y:S}}function Li(t){var r=_t(t),e=r.overflow,i=r.overflowX,a=r.overflowY;return/auto|scroll|overlay|hidden/.test(e+a+i)}function Hn(t){return["html","body","#document"].indexOf(lt(t))>=0?t.ownerDocument.body:nt(t)&&Li(t)?t:Hn(Kt(t))}function li(t,r){var e;r===void 0&&(r=[]);var i=Hn(t),a=i===((e=t.ownerDocument)==null?void 0:e.body),l=ze(i),c=a?[l].concat(l.visualViewport||[],Li(i)?i:[]):i,f=r.concat(c);return a?f:f.concat(li(Kt(c)))}function zi(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function A0(t,r){var e=Dt(t,!1,r==="fixed");return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Xr(t,r,e){return r===dn?zi(Bo(t,e)):Ft(r)?A0(r,e):zi($o(ct(t)))}function V0(t){var r=li(Kt(t)),e=["absolute","fixed"].indexOf(_t(t).position)>=0,i=e&&nt(t)?Gt(t):t;return Ft(i)?r.filter(function(a){return Ft(a)&&pn(a,i)&&lt(a)!=="body"}):[]}function No(t,r,e,i){var a=r==="clippingParents"?V0(t):[].concat(r),l=[].concat(a,[e]),c=l[0],f=l.reduce(function(S,g){var v=Xr(t,g,i);return S.top=Nt(v.top,S.top),S.right=yi(v.right,S.right),S.bottom=yi(v.bottom,S.bottom),S.left=Nt(v.left,S.left),S},Xr(t,c,i));return f.width=f.right-f.left,f.height=f.bottom-f.top,f.x=f.left,f.y=f.top,f}function _n(t){var r=t.reference,e=t.element,i=t.placement,a=i?st(i):null,l=i?At(i):null,c=r.x+r.width/2-e.width/2,f=r.y+r.height/2-e.height/2,S;switch(a){case Ye:S={x:c,y:r.y-e.height};break;case tt:S={x:c,y:r.y+r.height};break;case Qe:S={x:r.x+r.width,y:f};break;case Ke:S={x:r.x-e.width,y:f};break;default:S={x:r.x,y:r.y}}var g=a?Ei(a):null;if(g!=null){var v=g==="y"?"height":"width";switch(l){case Wt:S[g]=S[g]-(r[v]/2-e[v]/2);break;case ri:S[g]=S[g]+(r[v]/2-e[v]/2);break;default:}}return S}function gt(t,r){r===void 0&&(r={});var e=r,i=e.placement,a=i===void 0?t.placement:i,l=e.strategy,c=l===void 0?t.strategy:l,f=e.boundary,S=f===void 0?Mo:f,g=e.rootBoundary,v=g===void 0?dn:g,I=e.elementContext,F=I===void 0?Ci:I,L=e.altBoundary,N=L===void 0?!1:L,ee=e.padding,Pe=ee===void 0?0:ee,Ge=hn(typeof Pe!="number"?Pe:fn(Pe,Yt)),Je=F===Ci?Ro:Ci,Xe=t.rects.popper,ke=t.elements[N?Je:F],je=No(Ft(ke)?ke:ke.contextElement||ct(t.elements.popper),S,v,c),Be=Dt(t.elements.reference),qe=_n({reference:Be,element:Xe,strategy:"absolute",placement:a}),dt=zi(Object.assign({},Xe,qe)),ot=F===Ci?dt:Be,it={top:je.top-ot.top+Ge.top,bottom:ot.bottom-je.bottom+Ge.bottom,left:je.left-ot.left+Ge.left,right:ot.right-je.right+Ge.right},mt=t.modifiersData.offset;if(F===Ci&&mt){var jt=mt[a];Object.keys(it).forEach(function(ht){var _i=[Qe,tt].indexOf(ht)>=0?1:-1,gi=[Ye,tt].indexOf(ht)>=0?"y":"x";it[ht]+=jt[gi]*_i})}return it}function Go(t,r){r===void 0&&(r={});var e=r,i=e.placement,a=e.boundary,l=e.rootBoundary,c=e.padding,f=e.flipVariations,S=e.allowedAutoPlacements,g=S===void 0?cn:S,v=At(i),I=v?f?Gn:Gn.filter(function(N){return At(N)===v}):Yt,F=I.filter(function(N){return g.indexOf(N)>=0});F.length===0&&(F=I);var L=F.reduce(function(N,ee){return N[ee]=gt(t,{placement:ee,boundary:a,rootBoundary:l,padding:c})[st(ee)],N},{});return Object.keys(L).sort(function(N,ee){return L[N]-L[ee]})}function P0(t){if(st(t)===sn)return[];var r=Wi(t);return[Un(t),r,Un(r)]}function M0(t){var r=t.state,e=t.options,i=t.name;if(!r.modifiersData[i]._skip){for(var a=e.mainAxis,l=a===void 0?!0:a,c=e.altAxis,f=c===void 0?!0:c,S=e.fallbackPlacements,g=e.padding,v=e.boundary,I=e.rootBoundary,F=e.altBoundary,L=e.flipVariations,N=L===void 0?!0:L,ee=e.allowedAutoPlacements,Pe=r.options.placement,Ge=st(Pe),Je=Ge===Pe,Xe=S||(Je||!N?[Wi(Pe)]:P0(Pe)),ke=[Pe].concat(Xe).reduce(function(Oi,ni){return Oi.concat(st(ni)===sn?Go(r,{placement:ni,boundary:v,rootBoundary:I,padding:g,flipVariations:N,allowedAutoPlacements:ee}):ni)},[]),je=r.rects.reference,Be=r.rects.popper,qe=new Map,dt=!0,ot=ke[0],it=0;it<ke.length;it++){var mt=ke[it],jt=st(mt),ht=At(mt)===Wt,_i=[Ye,tt].indexOf(jt)>=0,gi=_i?"width":"height",wt=gt(r,{placement:mt,boundary:v,rootBoundary:I,altBoundary:F,padding:g}),Bt=_i?ht?Qe:Ke:ht?tt:Ye;je[gi]>Be[gi]&&(Bt=Wi(Bt));var Fn=Wi(Bt),bi=[];if(l&&bi.push(wt[jt]<=0),f&&bi.push(wt[Bt]<=0,wt[Fn]<=0),bi.every(function(Oi){return Oi})){ot=mt,dt=!1;break}qe.set(mt,bi)}if(dt)for(var Dn=N?3:1,So=function(ni){var rn=ke.find(function(Vn){var vi=qe.get(Vn);if(vi)return vi.slice(0,ni).every(function(Co){return Co})});if(rn)return ot=rn,"break"},an=Dn;an>0;an--){var An=So(an);if(An==="break")break}r.placement!==ot&&(r.modifiersData[i]._skip=!0,r.placement=ot,r.reset=!0)}}var Yn={name:"flip",enabled:!0,phase:"main",fn:M0,requiresIfExists:["offset"],data:{_skip:!1}};function Qr(t,r,e){return e===void 0&&(e={x:0,y:0}),{top:t.top-r.height-e.y,right:t.right-r.width+e.x,bottom:t.bottom-r.height+e.y,left:t.left-r.width-e.x}}function Zr(t){return[Ye,Qe,tt,Ke].some(function(r){return t[r]>=0})}function R0(t){var r=t.state,e=t.name,i=r.rects.reference,a=r.rects.popper,l=r.modifiersData.preventOverflow,c=gt(r,{elementContext:"reference"}),f=gt(r,{altBoundary:!0}),S=Qr(c,i),g=Qr(f,a,l),v=Zr(S),I=Zr(g);r.modifiersData[e]={referenceClippingOffsets:S,popperEscapeOffsets:g,isReferenceHidden:v,hasPopperEscaped:I},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":I})}var qn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:R0};function O0(t,r,e){var i=st(t),a=[Ke,Ye].indexOf(i)>=0?-1:1,l=typeof e=="function"?e(Object.assign({},r,{placement:t})):e,c=l[0],f=l[1];return c=c||0,f=(f||0)*a,[Ke,Qe].indexOf(i)>=0?{x:f,y:c}:{x:c,y:f}}function j0(t){var r=t.state,e=t.options,i=t.name,a=e.offset,l=a===void 0?[0,0]:a,c=cn.reduce(function(v,I){return v[I]=O0(I,r.rects,l),v},{}),f=c[r.placement],S=f.x,g=f.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=S,r.modifiersData.popperOffsets.y+=g),r.modifiersData[i]=c}var Kn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:j0};function B0(t){var r=t.state,e=t.name;r.modifiersData[e]=_n({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}var Ui={name:"popperOffsets",enabled:!0,phase:"read",fn:B0,data:{}};function Wo(t){return t==="x"?"y":"x"}function $0(t){var r=t.state,e=t.options,i=t.name,a=e.mainAxis,l=a===void 0?!0:a,c=e.altAxis,f=c===void 0?!1:c,S=e.boundary,g=e.rootBoundary,v=e.altBoundary,I=e.padding,F=e.tether,L=F===void 0?!0:F,N=e.tetherOffset,ee=N===void 0?0:N,Pe=gt(r,{boundary:S,rootBoundary:g,padding:I,altBoundary:v}),Ge=st(r.placement),Je=At(r.placement),Xe=!Je,ke=Ei(Ge),je=Wo(ke),Be=r.modifiersData.popperOffsets,qe=r.rects.reference,dt=r.rects.popper,ot=typeof ee=="function"?ee(Object.assign({},r.rects,{placement:r.placement})):ee,it=typeof ot=="number"?{mainAxis:ot,altAxis:ot}:Object.assign({mainAxis:0,altAxis:0},ot),mt=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,jt={x:0,y:0};if(Be){if(l){var ht,_i=ke==="y"?Ye:Ke,gi=ke==="y"?tt:Qe,wt=ke==="y"?"height":"width",Bt=Be[ke],Fn=Bt+Pe[_i],bi=Bt-Pe[gi],Dn=L?-dt[wt]/2:0,So=Je===Wt?qe[wt]:dt[wt],an=Je===Wt?-dt[wt]:-qe[wt],An=r.elements.arrow,Oi=L&&An?wi(An):{width:0,height:0},ni=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:un(),rn=ni[_i],Vn=ni[gi],vi=Ii(0,qe[wt],Oi[wt]),Co=Xe?qe[wt]/2-Dn-vi-rn-it.mainAxis:So-vi-rn-it.mainAxis,mc=Xe?-qe[wt]/2+Dn+vi+Vn+it.mainAxis:an+vi+Vn+it.mainAxis,yo=r.elements.arrow&&Gt(r.elements.arrow),pc=yo?ke==="y"?yo.clientTop||0:yo.clientLeft||0:0,Xa=(ht=mt?.[ke])!=null?ht:0,uc=Bt+Co-Xa-pc,hc=Bt+mc-Xa,Qa=Ii(L?yi(Fn,uc):Fn,Bt,L?Nt(bi,hc):bi);Be[ke]=Qa,jt[ke]=Qa-Bt}if(f){var Za,fc=ke==="x"?Ye:Ke,_c=ke==="x"?tt:Qe,xi=Be[je],Pn=je==="y"?"height":"width",er=xi+Pe[fc],tr=xi-Pe[_c],wo=[Ye,Ke].indexOf(Ge)!==-1,ir=(Za=mt?.[je])!=null?Za:0,nr=wo?er:xi-qe[Pn]-dt[Pn]-ir+it.altAxis,or=wo?xi+qe[Pn]+dt[Pn]-ir-it.altAxis:tr,ar=L&&wo?Kr(nr,xi,or):Ii(L?nr:er,xi,L?or:tr);Be[je]=ar,jt[je]=ar-xi}r.modifiersData[i]=jt}}var Jn={name:"preventOverflow",enabled:!0,phase:"main",fn:$0,requiresIfExists:["offset"]};function zo(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Uo(t){return t===ze(t)||!nt(t)?Ti(t):zo(t)}function N0(t){var r=t.getBoundingClientRect(),e=qt(r.width)/t.offsetWidth||1,i=qt(r.height)/t.offsetHeight||1;return e!==1||i!==1}function Ho(t,r,e){e===void 0&&(e=!1);var i=nt(r),a=nt(r)&&N0(r),l=ct(r),c=Dt(t,a,e),f={scrollLeft:0,scrollTop:0},S={x:0,y:0};return(i||!i&&!e)&&((lt(r)!=="body"||Li(l))&&(f=Uo(r)),nt(r)?(S=Dt(r,!0),S.x+=r.clientLeft,S.y+=r.clientTop):l&&(S.x=ki(l))),{x:c.left+f.scrollLeft-S.x,y:c.top+f.scrollTop-S.y,width:c.width,height:c.height}}function G0(t){var r=new Map,e=new Set,i=[];t.forEach(function(l){r.set(l.name,l)});function a(l){e.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(f){if(!e.has(f)){var S=r.get(f);S&&a(S)}}),i.push(l)}return t.forEach(function(l){e.has(l.name)||a(l)}),i}function Yo(t){var r=G0(t);return Oo.reduce(function(e,i){return e.concat(r.filter(function(a){return a.phase===i}))},[])}function qo(t){var r;return function(){return r||(r=new Promise(function(e){Promise.resolve().then(function(){r=void 0,e(t())})})),r}}function Ko(t){var r=t.reduce(function(e,i){var a=e[i.name];return e[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,e},{});return Object.keys(r).map(function(e){return r[e]})}var el={placement:"bottom",modifiers:[],strategy:"absolute"};function tl(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return!r.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Fi(t){t===void 0&&(t={});var r=t,e=r.defaultModifiers,i=e===void 0?[]:e,a=r.defaultOptions,l=a===void 0?el:a;return function(f,S,g){g===void 0&&(g=l);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},el,l),modifiersData:{},elements:{reference:f,popper:S},attributes:{},styles:{}},I=[],F=!1,L={state:v,setOptions:function(Ge){var Je=typeof Ge=="function"?Ge(v.options):Ge;ee(),v.options=Object.assign({},l,v.options,Je),v.scrollParents={reference:Ft(f)?li(f):f.contextElement?li(f.contextElement):[],popper:li(S)};var Xe=Yo(Ko([].concat(i,v.options.modifiers)));return v.orderedModifiers=Xe.filter(function(ke){return ke.enabled}),N(),L.update()},forceUpdate:function(){if(!F){var Ge=v.elements,Je=Ge.reference,Xe=Ge.popper;if(tl(Je,Xe)){v.rects={reference:Ho(Je,Gt(Xe),v.options.strategy==="fixed"),popper:wi(Xe)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(it){return v.modifiersData[it.name]=Object.assign({},it.data)});for(var ke=0;ke<v.orderedModifiers.length;ke++){if(v.reset===!0){v.reset=!1,ke=-1;continue}var je=v.orderedModifiers[ke],Be=je.fn,qe=je.options,dt=qe===void 0?{}:qe,ot=je.name;typeof Be=="function"&&(v=Be({state:v,options:dt,name:ot,instance:L})||v)}}}},update:qo(function(){return new Promise(function(Pe){L.forceUpdate(),Pe(v)})}),destroy:function(){ee(),F=!0}};if(!tl(f,S))return L;L.setOptions(g).then(function(Pe){!F&&g.onFirstUpdate&&g.onFirstUpdate(Pe)});function N(){v.orderedModifiers.forEach(function(Pe){var Ge=Pe.name,Je=Pe.options,Xe=Je===void 0?{}:Je,ke=Pe.effect;if(typeof ke=="function"){var je=ke({state:v,name:Ge,instance:L,options:Xe}),Be=function(){};I.push(je||Be)}})}function ee(){I.forEach(function(Pe){return Pe()}),I=[]}return L}}var il=Fi();var W0=[Gi,Ui,Ni,Bi],nl=Fi({defaultModifiers:W0});var z0=[Gi,Ui,Ni,Bi,Kn,Yn,Jn,Wn,qn],gn=Fi({defaultModifiers:z0});var si=new Map,Jo={set(t,r,e){si.has(t)||si.set(t,new Map);let i=si.get(t);if(!i.has(r)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(r,e)},get(t,r){return si.has(t)&&si.get(t).get(r)||null},remove(t,r){if(!si.has(t))return;let e=si.get(t);e.delete(r),e.size===0&&si.delete(t)}},U0=1e6,H0=1e3,ma="transitionend",Al=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(r,e)=>`#${CSS.escape(e)}`)),t),Y0=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),q0=t=>{do t+=Math.floor(Math.random()*U0);while(document.getElementById(t));return t},K0=t=>{if(!t)return 0;let{transitionDuration:r,transitionDelay:e}=window.getComputedStyle(t),i=Number.parseFloat(r),a=Number.parseFloat(e);return!i&&!a?0:(r=r.split(",")[0],e=e.split(",")[0],(Number.parseFloat(r)+Number.parseFloat(e))*H0)},Vl=t=>{t.dispatchEvent(new Event(ma))},Jt=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),di=t=>Jt(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(Al(t)):null,Qi=t=>{if(!Jt(t)||t.getClientRects().length===0)return!1;let r=getComputedStyle(t).getPropertyValue("visibility")==="visible",e=t.closest("details:not([open])");if(!e)return r;if(e!==t){let i=t.closest("summary");if(i&&i.parentNode!==e||i===null)return!1}return r},ci=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Pl=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){let r=t.getRootNode();return r instanceof ShadowRoot?r:null}return t instanceof ShadowRoot?t:t.parentNode?Pl(t.parentNode):null},ro=()=>{},yn=t=>{t.offsetHeight},Ml=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Xo=[],J0=t=>{document.readyState==="loading"?(Xo.length||document.addEventListener("DOMContentLoaded",()=>{for(let r of Xo)r()}),Xo.push(t)):t()},Vt=()=>document.documentElement.dir==="rtl",Mt=t=>{J0(()=>{let r=Ml();if(r){let e=t.NAME,i=r.fn[e];r.fn[e]=t.jQueryInterface,r.fn[e].Constructor=t,r.fn[e].noConflict=()=>(r.fn[e]=i,t.jQueryInterface)}})},yt=(t,r=[],e=t)=>typeof t=="function"?t(...r):e,Rl=(t,r,e=!0)=>{if(!e){yt(t);return}let i=5,a=K0(r)+i,l=!1,c=({target:f})=>{f===r&&(l=!0,r.removeEventListener(ma,c),yt(t))};r.addEventListener(ma,c),setTimeout(()=>{l||Vl(r)},a)},_a=(t,r,e,i)=>{let a=t.length,l=t.indexOf(r);return l===-1?!e&&i?t[a-1]:t[0]:(l+=e?1:-1,i&&(l=(l+a)%a),t[Math.max(0,Math.min(l,a-1))])},X0=/[^.]*(?=\..*)\.|.*/,Q0=/\..*/,Z0=/::\d+$/,Qo={},ol=1,Ol={mouseenter:"mouseover",mouseleave:"mouseout"},eu=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function jl(t,r){return r&&`${r}::${ol++}`||t.uidEvent||ol++}function Bl(t){let r=jl(t);return t.uidEvent=r,Qo[r]=Qo[r]||{},Qo[r]}function tu(t,r){return function e(i){return ga(i,{delegateTarget:t}),e.oneOff&&z.off(t,i.type,r),r.apply(t,[i])}}function iu(t,r,e){return function i(a){let l=t.querySelectorAll(r);for(let{target:c}=a;c&&c!==this;c=c.parentNode)for(let f of l)if(f===c)return ga(a,{delegateTarget:c}),i.oneOff&&z.off(t,a.type,r,e),e.apply(c,[a])}}function $l(t,r,e=null){return Object.values(t).find(i=>i.callable===r&&i.delegationSelector===e)}function Nl(t,r,e){let i=typeof r=="string",a=i?e:r||e,l=Gl(t);return eu.has(l)||(l=t),[i,a,l]}function al(t,r,e,i,a){if(typeof r!="string"||!t)return;let[l,c,f]=Nl(r,e,i);r in Ol&&(c=(N=>function(ee){if(!ee.relatedTarget||ee.relatedTarget!==ee.delegateTarget&&!ee.delegateTarget.contains(ee.relatedTarget))return N.call(this,ee)})(c));let S=Bl(t),g=S[f]||(S[f]={}),v=$l(g,c,l?e:null);if(v){v.oneOff=v.oneOff&&a;return}let I=jl(c,r.replace(X0,"")),F=l?iu(t,e,c):tu(t,c);F.delegationSelector=l?e:null,F.callable=c,F.oneOff=a,F.uidEvent=I,g[I]=F,t.addEventListener(f,F,l)}function pa(t,r,e,i,a){let l=$l(r[e],i,a);l&&(t.removeEventListener(e,l,!!a),delete r[e][l.uidEvent])}function nu(t,r,e,i){let a=r[e]||{};for(let[l,c]of Object.entries(a))l.includes(i)&&pa(t,r,e,c.callable,c.delegationSelector)}function Gl(t){return t=t.replace(Q0,""),Ol[t]||t}var z={on(t,r,e,i){al(t,r,e,i,!1)},one(t,r,e,i){al(t,r,e,i,!0)},off(t,r,e,i){if(typeof r!="string"||!t)return;let[a,l,c]=Nl(r,e,i),f=c!==r,S=Bl(t),g=S[c]||{},v=r.startsWith(".");if(typeof l<"u"){if(!Object.keys(g).length)return;pa(t,S,c,l,a?e:null);return}if(v)for(let I of Object.keys(S))nu(t,S,I,r.slice(1));for(let[I,F]of Object.entries(g)){let L=I.replace(Z0,"");(!f||r.includes(L))&&pa(t,S,c,F.callable,F.delegationSelector)}},trigger(t,r,e){if(typeof r!="string"||!t)return null;let i=Ml(),a=Gl(r),l=r!==a,c=null,f=!0,S=!0,g=!1;l&&i&&(c=i.Event(r,e),i(t).trigger(c),f=!c.isPropagationStopped(),S=!c.isImmediatePropagationStopped(),g=c.isDefaultPrevented());let v=ga(new Event(r,{bubbles:f,cancelable:!0}),e);return g&&v.preventDefault(),S&&t.dispatchEvent(v),v.defaultPrevented&&c&&c.preventDefault(),v}};function ga(t,r={}){for(let[e,i]of Object.entries(r))try{t[e]=i}catch{Object.defineProperty(t,e,{configurable:!0,get(){return i}})}return t}function rl(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Zo(t){return t.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`)}var Xt={setDataAttribute(t,r,e){t.setAttribute(`data-bs-${Zo(r)}`,e)},removeDataAttribute(t,r){t.removeAttribute(`data-bs-${Zo(r)}`)},getDataAttributes(t){if(!t)return{};let r={},e=Object.keys(t.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(let i of e){let a=i.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1,a.length),r[a]=rl(t.dataset[i])}return r},getDataAttribute(t,r){return rl(t.getAttribute(`data-bs-${Zo(r)}`))}},Vi=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(r){return r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r}_mergeConfigObj(r,e){let i=Jt(e)?Xt.getDataAttribute(e,"config"):{};return H(H(H(H({},this.constructor.Default),typeof i=="object"?i:{}),Jt(e)?Xt.getDataAttributes(e):{}),typeof r=="object"?r:{})}_typeCheckConfig(r,e=this.constructor.DefaultType){for(let[i,a]of Object.entries(e)){let l=r[i],c=Jt(l)?"element":Y0(l);if(!new RegExp(a).test(c))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${c}" but expected type "${a}".`)}}},ou="5.3.3",Et=class extends Vi{constructor(r,e){super(),r=di(r),r&&(this._element=r,this._config=this._getConfig(e),Jo.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Jo.remove(this._element,this.constructor.DATA_KEY),z.off(this._element,this.constructor.EVENT_KEY);for(let r of Object.getOwnPropertyNames(this))this[r]=null}_queueCallback(r,e,i=!0){Rl(r,e,i)}_getConfig(r){return r=this._mergeConfigObj(r,this._element),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}static getInstance(r){return Jo.get(di(r),this.DATA_KEY)}static getOrCreateInstance(r,e={}){return this.getInstance(r)||new this(r,typeof e=="object"?e:null)}static get VERSION(){return ou}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(r){return`${r}${this.EVENT_KEY}`}},ea=t=>{let r=t.getAttribute("data-bs-target");if(!r||r==="#"){let e=t.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),r=e&&e!=="#"?e.trim():null}return r?r.split(",").map(e=>Al(e)).join(","):null},ue={find(t,r=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(r,t))},findOne(t,r=document.documentElement){return Element.prototype.querySelector.call(r,t)},children(t,r){return[].concat(...t.children).filter(e=>e.matches(r))},parents(t,r){let e=[],i=t.parentNode.closest(r);for(;i;)e.push(i),i=i.parentNode.closest(r);return e},prev(t,r){let e=t.previousElementSibling;for(;e;){if(e.matches(r))return[e];e=e.previousElementSibling}return[]},next(t,r){let e=t.nextElementSibling;for(;e;){if(e.matches(r))return[e];e=e.nextElementSibling}return[]},focusableChildren(t){let r=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(r,t).filter(e=>!ci(e)&&Qi(e))},getSelectorFromElement(t){let r=ea(t);return r&&ue.findOne(r)?r:null},getElementFromSelector(t){let r=ea(t);return r?ue.findOne(r):null},getMultipleElementsFromSelector(t){let r=ea(t);return r?ue.find(r):[]}},go=(t,r="hide")=>{let e=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;z.on(document,e,`[data-bs-dismiss="${i}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),ci(this))return;let l=ue.getElementFromSelector(this)||this.closest(`.${i}`);t.getOrCreateInstance(l)[r]()})},au="alert",ru="bs.alert",Wl=`.${ru}`,lu=`close${Wl}`,su=`closed${Wl}`,du="fade",cu="show",lo=class t extends Et{static get NAME(){return au}close(){if(z.trigger(this._element,lu).defaultPrevented)return;this._element.classList.remove(cu);let e=this._element.classList.contains(du);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),z.trigger(this._element,su),this.dispose()}static jQueryInterface(r){return this.each(function(){let e=t.getOrCreateInstance(this);if(typeof r=="string"){if(e[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);e[r](this)}})}};go(lo,"close");Mt(lo);var mu="button",pu="bs.button",uu=`.${pu}`,hu=".data-api",fu="active",ll='[data-bs-toggle="button"]',_u=`click${uu}${hu}`,so=class t extends Et{static get NAME(){return mu}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(fu))}static jQueryInterface(r){return this.each(function(){let e=t.getOrCreateInstance(this);r==="toggle"&&e[r]()})}};z.on(document,_u,ll,t=>{t.preventDefault();let r=t.target.closest(ll);so.getOrCreateInstance(r).toggle()});Mt(so);var gu="swipe",Zi=".bs.swipe",bu=`touchstart${Zi}`,vu=`touchmove${Zi}`,xu=`touchend${Zi}`,Su=`pointerdown${Zi}`,Cu=`pointerup${Zi}`,yu="touch",wu="pen",Eu="pointer-event",Iu=40,Tu={endCallback:null,leftCallback:null,rightCallback:null},ku={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"},co=class t extends Vi{constructor(r,e){super(),this._element=r,!(!r||!t.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Tu}static get DefaultType(){return ku}static get NAME(){return gu}dispose(){z.off(this._element,Zi)}_start(r){if(!this._supportPointerEvents){this._deltaX=r.touches[0].clientX;return}this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX)}_end(r){this._eventIsPointerPenTouch(r)&&(this._deltaX=r.clientX-this._deltaX),this._handleSwipe(),yt(this._config.endCallback)}_move(r){this._deltaX=r.touches&&r.touches.length>1?0:r.touches[0].clientX-this._deltaX}_handleSwipe(){let r=Math.abs(this._deltaX);if(r<=Iu)return;let e=r/this._deltaX;this._deltaX=0,e&&yt(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(z.on(this._element,Su,r=>this._start(r)),z.on(this._element,Cu,r=>this._end(r)),this._element.classList.add(Eu)):(z.on(this._element,bu,r=>this._start(r)),z.on(this._element,vu,r=>this._move(r)),z.on(this._element,xu,r=>this._end(r)))}_eventIsPointerPenTouch(r){return this._supportPointerEvents&&(r.pointerType===wu||r.pointerType===yu)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}},Lu="carousel",Fu="bs.carousel",ui=`.${Fu}`,zl=".data-api",Du="ArrowLeft",Au="ArrowRight",Vu=500,bn="next",Hi="prev",qi="left",oo="right",Pu=`slide${ui}`,ta=`slid${ui}`,Mu=`keydown${ui}`,Ru=`mouseenter${ui}`,Ou=`mouseleave${ui}`,ju=`dragstart${ui}`,Bu=`load${ui}${zl}`,$u=`click${ui}${zl}`,Ul="carousel",Qn="active",Nu="slide",Gu="carousel-item-end",Wu="carousel-item-start",zu="carousel-item-next",Uu="carousel-item-prev",Hl=".active",Yl=".carousel-item",Hu=Hl+Yl,Yu=".carousel-item img",qu=".carousel-indicators",Ku="[data-bs-slide], [data-bs-slide-to]",Ju='[data-bs-ride="carousel"]',Xu={[Du]:oo,[Au]:qi},Qu={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Zu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"},xn=class t extends Et{constructor(r,e){super(r,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ue.findOne(qu,this._element),this._addEventListeners(),this._config.ride===Ul&&this.cycle()}static get Default(){return Qu}static get DefaultType(){return Zu}static get NAME(){return Lu}next(){this._slide(bn)}nextWhenVisible(){!document.hidden&&Qi(this._element)&&this.next()}prev(){this._slide(Hi)}pause(){this._isSliding&&Vl(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){z.one(this._element,ta,()=>this.cycle());return}this.cycle()}}to(r){let e=this._getItems();if(r>e.length-1||r<0)return;if(this._isSliding){z.one(this._element,ta,()=>this.to(r));return}let i=this._getItemIndex(this._getActive());if(i===r)return;let a=r>i?bn:Hi;this._slide(a,e[r])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(r){return r.defaultInterval=r.interval,r}_addEventListeners(){this._config.keyboard&&z.on(this._element,Mu,r=>this._keydown(r)),this._config.pause==="hover"&&(z.on(this._element,Ru,()=>this.pause()),z.on(this._element,Ou,()=>this._maybeEnableCycle())),this._config.touch&&co.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let i of ue.find(Yu,this._element))z.on(i,ju,a=>a.preventDefault());let e={leftCallback:()=>this._slide(this._directionToOrder(qi)),rightCallback:()=>this._slide(this._directionToOrder(oo)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Vu+this._config.interval))}};this._swipeHelper=new co(this._element,e)}_keydown(r){if(/input|textarea/i.test(r.target.tagName))return;let e=Xu[r.key];e&&(r.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(r){return this._getItems().indexOf(r)}_setActiveIndicatorElement(r){if(!this._indicatorsElement)return;let e=ue.findOne(Hl,this._indicatorsElement);e.classList.remove(Qn),e.removeAttribute("aria-current");let i=ue.findOne(`[data-bs-slide-to="${r}"]`,this._indicatorsElement);i&&(i.classList.add(Qn),i.setAttribute("aria-current","true"))}_updateInterval(){let r=this._activeElement||this._getActive();if(!r)return;let e=Number.parseInt(r.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(r,e=null){if(this._isSliding)return;let i=this._getActive(),a=r===bn,l=e||_a(this._getItems(),i,a,this._config.wrap);if(l===i)return;let c=this._getItemIndex(l),f=L=>z.trigger(this._element,L,{relatedTarget:l,direction:this._orderToDirection(r),from:this._getItemIndex(i),to:c});if(f(Pu).defaultPrevented||!i||!l)return;let g=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(c),this._activeElement=l;let v=a?Wu:Gu,I=a?zu:Uu;l.classList.add(I),yn(l),i.classList.add(v),l.classList.add(v);let F=()=>{l.classList.remove(v,I),l.classList.add(Qn),i.classList.remove(Qn,I,v),this._isSliding=!1,f(ta)};this._queueCallback(F,i,this._isAnimated()),g&&this.cycle()}_isAnimated(){return this._element.classList.contains(Nu)}_getActive(){return ue.findOne(Hu,this._element)}_getItems(){return ue.find(Yl,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(r){return Vt()?r===qi?Hi:bn:r===qi?bn:Hi}_orderToDirection(r){return Vt()?r===Hi?qi:oo:r===Hi?oo:qi}static jQueryInterface(r){return this.each(function(){let e=t.getOrCreateInstance(this,r);if(typeof r=="number"){e.to(r);return}if(typeof r=="string"){if(e[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);e[r]()}})}};z.on(document,$u,Ku,function(t){let r=ue.getElementFromSelector(this);if(!r||!r.classList.contains(Ul))return;t.preventDefault();let e=xn.getOrCreateInstance(r),i=this.getAttribute("data-bs-slide-to");if(i){e.to(i),e._maybeEnableCycle();return}if(Xt.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});z.on(window,Bu,()=>{let t=ue.find(Ju);for(let r of t)xn.getOrCreateInstance(r)});Mt(xn);var eh="collapse",th="bs.collapse",wn=`.${th}`,ih=".data-api",nh=`show${wn}`,oh=`shown${wn}`,ah=`hide${wn}`,rh=`hidden${wn}`,lh=`click${wn}${ih}`,ia="show",Ji="collapse",Zn="collapsing",sh="collapsed",dh=`:scope .${Ji} .${Ji}`,ch="collapse-horizontal",mh="width",ph="height",uh=".collapse.show, .collapse.collapsing",ua='[data-bs-toggle="collapse"]',hh={parent:null,toggle:!0},fh={parent:"(null|element)",toggle:"boolean"},mo=class t extends Et{constructor(r,e){super(r,e),this._isTransitioning=!1,this._triggerArray=[];let i=ue.find(ua);for(let a of i){let l=ue.getSelectorFromElement(a),c=ue.find(l).filter(f=>f===this._element);l!==null&&c.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return hh}static get DefaultType(){return fh}static get NAME(){return eh}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let r=[];if(this._config.parent&&(r=this._getFirstLevelChildren(uh).filter(f=>f!==this._element).map(f=>t.getOrCreateInstance(f,{toggle:!1}))),r.length&&r[0]._isTransitioning||z.trigger(this._element,nh).defaultPrevented)return;for(let f of r)f.hide();let i=this._getDimension();this._element.classList.remove(Ji),this._element.classList.add(Zn),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let a=()=>{this._isTransitioning=!1,this._element.classList.remove(Zn),this._element.classList.add(Ji,ia),this._element.style[i]="",z.trigger(this._element,oh)},c=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[i]=`${this._element[c]}px`}hide(){if(this._isTransitioning||!this._isShown()||z.trigger(this._element,ah).defaultPrevented)return;let e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,yn(this._element),this._element.classList.add(Zn),this._element.classList.remove(Ji,ia);for(let a of this._triggerArray){let l=ue.getElementFromSelector(a);l&&!this._isShown(l)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;let i=()=>{this._isTransitioning=!1,this._element.classList.remove(Zn),this._element.classList.add(Ji),z.trigger(this._element,rh)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(r=this._element){return r.classList.contains(ia)}_configAfterMerge(r){return r.toggle=!!r.toggle,r.parent=di(r.parent),r}_getDimension(){return this._element.classList.contains(ch)?mh:ph}_initializeChildren(){if(!this._config.parent)return;let r=this._getFirstLevelChildren(ua);for(let e of r){let i=ue.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(r){let e=ue.find(dh,this._config.parent);return ue.find(r,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(r,e){if(r.length)for(let i of r)i.classList.toggle(sh,!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(r){let e={};return typeof r=="string"&&/show|hide/.test(r)&&(e.toggle=!1),this.each(function(){let i=t.getOrCreateInstance(this,e);if(typeof r=="string"){if(typeof i[r]>"u")throw new TypeError(`No method named "${r}"`);i[r]()}})}};z.on(document,lh,ua,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(let r of ue.getMultipleElementsFromSelector(this))mo.getOrCreateInstance(r,{toggle:!1}).toggle()});Mt(mo);var sl="dropdown",_h="bs.dropdown",Pi=`.${_h}`,ba=".data-api",gh="Escape",dl="Tab",bh="ArrowUp",cl="ArrowDown",vh=2,xh=`hide${Pi}`,Sh=`hidden${Pi}`,Ch=`show${Pi}`,yh=`shown${Pi}`,ql=`click${Pi}${ba}`,Kl=`keydown${Pi}${ba}`,wh=`keyup${Pi}${ba}`,Ki="show",Eh="dropup",Ih="dropend",Th="dropstart",kh="dropup-center",Lh="dropdown-center",Di='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Fh=`${Di}.${Ki}`,ao=".dropdown-menu",Dh=".navbar",Ah=".navbar-nav",Vh=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ph=Vt()?"top-end":"top-start",Mh=Vt()?"top-start":"top-end",Rh=Vt()?"bottom-end":"bottom-start",Oh=Vt()?"bottom-start":"bottom-end",jh=Vt()?"left-start":"right-start",Bh=Vt()?"right-start":"left-start",$h="top",Nh="bottom",Gh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Wh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"},mi=class t extends Et{constructor(r,e){super(r,e),this._popper=null,this._parent=this._element.parentNode,this._menu=ue.next(this._element,ao)[0]||ue.prev(this._element,ao)[0]||ue.findOne(ao,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Gh}static get DefaultType(){return Wh}static get NAME(){return sl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ci(this._element)||this._isShown())return;let r={relatedTarget:this._element};if(!z.trigger(this._element,Ch,r).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Ah))for(let i of[].concat(...document.body.children))z.on(i,"mouseover",ro);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ki),this._element.classList.add(Ki),z.trigger(this._element,yh,r)}}hide(){if(ci(this._element)||!this._isShown())return;let r={relatedTarget:this._element};this._completeHide(r)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(r){if(!z.trigger(this._element,xh,r).defaultPrevented){if("ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))z.off(i,"mouseover",ro);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ki),this._element.classList.remove(Ki),this._element.setAttribute("aria-expanded","false"),Xt.removeDataAttribute(this._menu,"popper"),z.trigger(this._element,Sh,r)}}_getConfig(r){if(r=super._getConfig(r),typeof r.reference=="object"&&!Jt(r.reference)&&typeof r.reference.getBoundingClientRect!="function")throw new TypeError(`${sl.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return r}_createPopper(){if(typeof Xn>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let r=this._element;this._config.reference==="parent"?r=this._parent:Jt(this._config.reference)?r=di(this._config.reference):typeof this._config.reference=="object"&&(r=this._config.reference);let e=this._getPopperConfig();this._popper=gn(r,this._menu,e)}_isShown(){return this._menu.classList.contains(Ki)}_getPlacement(){let r=this._parent;if(r.classList.contains(Ih))return jh;if(r.classList.contains(Th))return Bh;if(r.classList.contains(kh))return $h;if(r.classList.contains(Lh))return Nh;let e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return r.classList.contains(Eh)?e?Mh:Ph:e?Oh:Rh}_detectNavbar(){return this._element.closest(Dh)!==null}_getOffset(){let{offset:r}=this._config;return typeof r=="string"?r.split(",").map(e=>Number.parseInt(e,10)):typeof r=="function"?e=>r(e,this._element):r}_getPopperConfig(){let r={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Xt.setDataAttribute(this._menu,"popper","static"),r.modifiers=[{name:"applyStyles",enabled:!1}]),H(H({},r),yt(this._config.popperConfig,[r]))}_selectMenuItem({key:r,target:e}){let i=ue.find(Vh,this._menu).filter(a=>Qi(a));i.length&&_a(i,e,r===cl,!i.includes(e)).focus()}static jQueryInterface(r){return this.each(function(){let e=t.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof e[r]>"u")throw new TypeError(`No method named "${r}"`);e[r]()}})}static clearMenus(r){if(r.button===vh||r.type==="keyup"&&r.key!==dl)return;let e=ue.find(Fh);for(let i of e){let a=t.getInstance(i);if(!a||a._config.autoClose===!1)continue;let l=r.composedPath(),c=l.includes(a._menu);if(l.includes(a._element)||a._config.autoClose==="inside"&&!c||a._config.autoClose==="outside"&&c||a._menu.contains(r.target)&&(r.type==="keyup"&&r.key===dl||/input|select|option|textarea|form/i.test(r.target.tagName)))continue;let f={relatedTarget:a._element};r.type==="click"&&(f.clickEvent=r),a._completeHide(f)}}static dataApiKeydownHandler(r){let e=/input|textarea/i.test(r.target.tagName),i=r.key===gh,a=[bh,cl].includes(r.key);if(!a&&!i||e&&!i)return;r.preventDefault();let l=this.matches(Di)?this:ue.prev(this,Di)[0]||ue.next(this,Di)[0]||ue.findOne(Di,r.delegateTarget.parentNode),c=t.getOrCreateInstance(l);if(a){r.stopPropagation(),c.show(),c._selectMenuItem(r);return}c._isShown()&&(r.stopPropagation(),c.hide(),l.focus())}};z.on(document,Kl,Di,mi.dataApiKeydownHandler);z.on(document,Kl,ao,mi.dataApiKeydownHandler);z.on(document,ql,mi.clearMenus);z.on(document,wh,mi.clearMenus);z.on(document,ql,Di,function(t){t.preventDefault(),mi.getOrCreateInstance(this).toggle()});Mt(mi);var Jl="backdrop",zh="fade",ml="show",pl=`mousedown.bs.${Jl}`,Uh={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Hh={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"},po=class extends Vi{constructor(r){super(),this._config=this._getConfig(r),this._isAppended=!1,this._element=null}static get Default(){return Uh}static get DefaultType(){return Hh}static get NAME(){return Jl}show(r){if(!this._config.isVisible){yt(r);return}this._append();let e=this._getElement();this._config.isAnimated&&yn(e),e.classList.add(ml),this._emulateAnimation(()=>{yt(r)})}hide(r){if(!this._config.isVisible){yt(r);return}this._getElement().classList.remove(ml),this._emulateAnimation(()=>{this.dispose(),yt(r)})}dispose(){this._isAppended&&(z.off(this._element,pl),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let r=document.createElement("div");r.className=this._config.className,this._config.isAnimated&&r.classList.add(zh),this._element=r}return this._element}_configAfterMerge(r){return r.rootElement=di(r.rootElement),r}_append(){if(this._isAppended)return;let r=this._getElement();this._config.rootElement.append(r),z.on(r,pl,()=>{yt(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(r){Rl(r,this._getElement(),this._config.isAnimated)}},Yh="focustrap",qh="bs.focustrap",uo=`.${qh}`,Kh=`focusin${uo}`,Jh=`keydown.tab${uo}`,Xh="Tab",Qh="forward",ul="backward",Zh={autofocus:!0,trapElement:null},ef={autofocus:"boolean",trapElement:"element"},ho=class extends Vi{constructor(r){super(),this._config=this._getConfig(r),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Zh}static get DefaultType(){return ef}static get NAME(){return Yh}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),z.off(document,uo),z.on(document,Kh,r=>this._handleFocusin(r)),z.on(document,Jh,r=>this._handleKeydown(r)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,z.off(document,uo))}_handleFocusin(r){let{trapElement:e}=this._config;if(r.target===document||r.target===e||e.contains(r.target))return;let i=ue.focusableChildren(e);i.length===0?e.focus():this._lastTabNavDirection===ul?i[i.length-1].focus():i[0].focus()}_handleKeydown(r){r.key===Xh&&(this._lastTabNavDirection=r.shiftKey?ul:Qh)}},hl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",fl=".sticky-top",eo="padding-right",_l="margin-right",Sn=class{constructor(){this._element=document.body}getWidth(){let r=document.documentElement.clientWidth;return Math.abs(window.innerWidth-r)}hide(){let r=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,eo,e=>e+r),this._setElementAttributes(hl,eo,e=>e+r),this._setElementAttributes(fl,_l,e=>e-r)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,eo),this._resetElementAttributes(hl,eo),this._resetElementAttributes(fl,_l)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(r,e,i){let a=this.getWidth(),l=c=>{if(c!==this._element&&window.innerWidth>c.clientWidth+a)return;this._saveInitialAttribute(c,e);let f=window.getComputedStyle(c).getPropertyValue(e);c.style.setProperty(e,`${i(Number.parseFloat(f))}px`)};this._applyManipulationCallback(r,l)}_saveInitialAttribute(r,e){let i=r.style.getPropertyValue(e);i&&Xt.setDataAttribute(r,e,i)}_resetElementAttributes(r,e){let i=a=>{let l=Xt.getDataAttribute(a,e);if(l===null){a.style.removeProperty(e);return}Xt.removeDataAttribute(a,e),a.style.setProperty(e,l)};this._applyManipulationCallback(r,i)}_applyManipulationCallback(r,e){if(Jt(r)){e(r);return}for(let i of ue.find(r,this._element))e(i)}},tf="modal",nf="bs.modal",Pt=`.${nf}`,of=".data-api",af="Escape",rf=`hide${Pt}`,lf=`hidePrevented${Pt}`,Xl=`hidden${Pt}`,Ql=`show${Pt}`,sf=`shown${Pt}`,df=`resize${Pt}`,cf=`click.dismiss${Pt}`,mf=`mousedown.dismiss${Pt}`,pf=`keydown.dismiss${Pt}`,uf=`click${Pt}${of}`,gl="modal-open",hf="fade",bl="show",na="modal-static",ff=".modal.show",_f=".modal-dialog",gf=".modal-body",bf='[data-bs-toggle="modal"]',vf={backdrop:!0,focus:!0,keyboard:!0},xf={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"},j=class t extends Et{constructor(r,e){super(r,e),this._dialog=ue.findOne(_f,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Sn,this._addEventListeners()}static get Default(){return vf}static get DefaultType(){return xf}static get NAME(){return tf}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){this._isShown||this._isTransitioning||z.trigger(this._element,Ql,{relatedTarget:r}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(gl),this._adjustDialog(),this._backdrop.show(()=>this._showElement(r)))}hide(){!this._isShown||this._isTransitioning||z.trigger(this._element,rf).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(bl),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){z.off(window,Pt),z.off(this._dialog,Pt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new po({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new ho({trapElement:this._element})}_showElement(r){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let e=ue.findOne(gf,this._dialog);e&&(e.scrollTop=0),yn(this._element),this._element.classList.add(bl);let i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,z.trigger(this._element,sf,{relatedTarget:r})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){z.on(this._element,pf,r=>{if(r.key===af){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),z.on(window,df,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),z.on(this._element,mf,r=>{z.one(this._element,cf,e=>{if(!(this._element!==r.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(gl),this._resetAdjustments(),this._scrollBar.reset(),z.trigger(this._element,Xl)})}_isAnimated(){return this._element.classList.contains(hf)}_triggerBackdropTransition(){if(z.trigger(this._element,lf).defaultPrevented)return;let e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(na)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(na),this._queueCallback(()=>{this._element.classList.remove(na),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let r=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!r){let a=Vt()?"paddingLeft":"paddingRight";this._element.style[a]=`${e}px`}if(!i&&r){let a=Vt()?"paddingRight":"paddingLeft";this._element.style[a]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(r,e){return this.each(function(){let i=t.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof i[r]>"u")throw new TypeError(`No method named "${r}"`);i[r](e)}})}};z.on(document,uf,bf,function(t){let r=ue.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),z.one(r,Ql,a=>{a.defaultPrevented||z.one(r,Xl,()=>{Qi(this)&&this.focus()})});let e=ue.findOne(ff);e&&j.getInstance(e).hide(),j.getOrCreateInstance(r).toggle(this)});go(j);Mt(j);var Sf="offcanvas",Cf="bs.offcanvas",Qt=`.${Cf}`,Zl=".data-api",yf=`load${Qt}${Zl}`,wf="Escape",vl="show",xl="showing",Sl="hiding",Ef="offcanvas-backdrop",es=".offcanvas.show",If=`show${Qt}`,Tf=`shown${Qt}`,kf=`hide${Qt}`,Cl=`hidePrevented${Qt}`,ts=`hidden${Qt}`,Lf=`resize${Qt}`,Ff=`click${Qt}${Zl}`,Df=`keydown.dismiss${Qt}`,Af='[data-bs-toggle="offcanvas"]',Vf={backdrop:!0,keyboard:!0,scroll:!1},Pf={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"},pi=class t extends Et{constructor(r,e){super(r,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Vf}static get DefaultType(){return Pf}static get NAME(){return Sf}toggle(r){return this._isShown?this.hide():this.show(r)}show(r){if(this._isShown||z.trigger(this._element,If,{relatedTarget:r}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Sn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(xl);let i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(vl),this._element.classList.remove(xl),z.trigger(this._element,Tf,{relatedTarget:r})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||z.trigger(this._element,kf).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Sl),this._backdrop.hide();let e=()=>{this._element.classList.remove(vl,Sl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Sn().reset(),z.trigger(this._element,ts)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let r=()=>{if(this._config.backdrop==="static"){z.trigger(this._element,Cl);return}this.hide()},e=!!this._config.backdrop;return new po({className:Ef,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?r:null})}_initializeFocusTrap(){return new ho({trapElement:this._element})}_addEventListeners(){z.on(this._element,Df,r=>{if(r.key===wf){if(this._config.keyboard){this.hide();return}z.trigger(this._element,Cl)}})}static jQueryInterface(r){return this.each(function(){let e=t.getOrCreateInstance(this,r);if(typeof r=="string"){if(e[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);e[r](this)}})}};z.on(document,Ff,Af,function(t){let r=ue.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),ci(this))return;z.one(r,ts,()=>{Qi(this)&&this.focus()});let e=ue.findOne(es);e&&e!==r&&pi.getInstance(e).hide(),pi.getOrCreateInstance(r).toggle(this)});z.on(window,yf,()=>{for(let t of ue.find(es))pi.getOrCreateInstance(t).show()});z.on(window,Lf,()=>{for(let t of ue.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&pi.getOrCreateInstance(t).hide()});go(pi);Mt(pi);var Mf=/^aria-[\w-]*$/i,is={"*":["class","dir","id","lang","role",Mf],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Rf=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Of=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,jf=(t,r)=>{let e=t.nodeName.toLowerCase();return r.includes(e)?Rf.has(e)?!!Of.test(t.nodeValue):!0:r.filter(i=>i instanceof RegExp).some(i=>i.test(e))};function Bf(t,r,e){if(!t.length)return t;if(e&&typeof e=="function")return e(t);let a=new window.DOMParser().parseFromString(t,"text/html"),l=[].concat(...a.body.querySelectorAll("*"));for(let c of l){let f=c.nodeName.toLowerCase();if(!Object.keys(r).includes(f)){c.remove();continue}let S=[].concat(...c.attributes),g=[].concat(r["*"]||[],r[f]||[]);for(let v of S)jf(v,g)||c.removeAttribute(v.nodeName)}return a.body.innerHTML}var $f="TemplateFactory",Nf={allowList:is,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Gf={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Wf={entry:"(string|element|function|null)",selector:"(string|element)"},ha=class extends Vi{constructor(r){super(),this._config=this._getConfig(r)}static get Default(){return Nf}static get DefaultType(){return Gf}static get NAME(){return $f}getContent(){return Object.values(this._config.content).map(r=>this._resolvePossibleFunction(r)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(r){return this._checkContent(r),this._config.content=H(H({},this._config.content),r),this}toHtml(){let r=document.createElement("div");r.innerHTML=this._maybeSanitize(this._config.template);for(let[a,l]of Object.entries(this._config.content))this._setContent(r,l,a);let e=r.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(r){super._typeCheckConfig(r),this._checkContent(r.content)}_checkContent(r){for(let[e,i]of Object.entries(r))super._typeCheckConfig({selector:e,entry:i},Wf)}_setContent(r,e,i){let a=ue.findOne(i,r);if(a){if(e=this._resolvePossibleFunction(e),!e){a.remove();return}if(Jt(e)){this._putElementInTemplate(di(e),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(e);return}a.textContent=e}}_maybeSanitize(r){return this._config.sanitize?Bf(r,this._config.allowList,this._config.sanitizeFn):r}_resolvePossibleFunction(r){return yt(r,[this])}_putElementInTemplate(r,e){if(this._config.html){e.innerHTML="",e.append(r);return}e.textContent=r.textContent}},zf="tooltip",Uf=new Set(["sanitize","allowList","sanitizeFn"]),oa="fade",Hf="modal",to="show",Yf=".tooltip-inner",yl=`.${Hf}`,wl="hide.bs.modal",vn="hover",aa="focus",qf="click",Kf="manual",Jf="hide",Xf="hidden",Qf="show",Zf="shown",e_="inserted",t_="click",i_="focusin",n_="focusout",o_="mouseenter",a_="mouseleave",r_={AUTO:"auto",TOP:"top",RIGHT:Vt()?"left":"right",BOTTOM:"bottom",LEFT:Vt()?"right":"left"},l_={allowList:is,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},s_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"},Xi=class t extends Et{constructor(r,e){if(typeof Xn>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(r,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return l_}static get DefaultType(){return s_}static get NAME(){return zf}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),z.off(this._element.closest(yl),wl,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let r=z.trigger(this._element,this.constructor.eventName(Qf)),i=(Pl(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(r.defaultPrevented||!i)return;this._disposePopper();let a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));let{container:l}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(l.append(a),z.trigger(this._element,this.constructor.eventName(e_))),this._popper=this._createPopper(a),a.classList.add(to),"ontouchstart"in document.documentElement)for(let f of[].concat(...document.body.children))z.on(f,"mouseover",ro);let c=()=>{z.trigger(this._element,this.constructor.eventName(Zf)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(c,this.tip,this._isAnimated())}hide(){if(!this._isShown()||z.trigger(this._element,this.constructor.eventName(Jf)).defaultPrevented)return;if(this._getTipElement().classList.remove(to),"ontouchstart"in document.documentElement)for(let a of[].concat(...document.body.children))z.off(a,"mouseover",ro);this._activeTrigger[qf]=!1,this._activeTrigger[aa]=!1,this._activeTrigger[vn]=!1,this._isHovered=null;let i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),z.trigger(this._element,this.constructor.eventName(Xf)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(r){let e=this._getTemplateFactory(r).toHtml();if(!e)return null;e.classList.remove(oa,to),e.classList.add(`bs-${this.constructor.NAME}-auto`);let i=q0(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(oa),e}setContent(r){this._newContent=r,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(r){return this._templateFactory?this._templateFactory.changeContent(r):this._templateFactory=new ha(J(H({},this._config),{content:r,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[Yf]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(r){return this.constructor.getOrCreateInstance(r.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(oa)}_isShown(){return this.tip&&this.tip.classList.contains(to)}_createPopper(r){let e=yt(this._config.placement,[this,r,this._element]),i=r_[e.toUpperCase()];return gn(this._element,r,this._getPopperConfig(i))}_getOffset(){let{offset:r}=this._config;return typeof r=="string"?r.split(",").map(e=>Number.parseInt(e,10)):typeof r=="function"?e=>r(e,this._element):r}_resolvePossibleFunction(r){return yt(r,[this._element])}_getPopperConfig(r){let e={placement:r,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return H(H({},e),yt(this._config.popperConfig,[e]))}_setListeners(){let r=this._config.trigger.split(" ");for(let e of r)if(e==="click")z.on(this._element,this.constructor.eventName(t_),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(e!==Kf){let i=e===vn?this.constructor.eventName(o_):this.constructor.eventName(i_),a=e===vn?this.constructor.eventName(a_):this.constructor.eventName(n_);z.on(this._element,i,this._config.selector,l=>{let c=this._initializeOnDelegatedTarget(l);c._activeTrigger[l.type==="focusin"?aa:vn]=!0,c._enter()}),z.on(this._element,a,this._config.selector,l=>{let c=this._initializeOnDelegatedTarget(l);c._activeTrigger[l.type==="focusout"?aa:vn]=c._element.contains(l.relatedTarget),c._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},z.on(this._element.closest(yl),wl,this._hideModalHandler)}_fixTitle(){let r=this._element.getAttribute("title");r&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",r),this._element.setAttribute("data-bs-original-title",r),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(r,e){clearTimeout(this._timeout),this._timeout=setTimeout(r,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(r){let e=Xt.getDataAttributes(this._element);for(let i of Object.keys(e))Uf.has(i)&&delete e[i];return r=H(H({},e),typeof r=="object"&&r?r:{}),r=this._mergeConfigObj(r),r=this._configAfterMerge(r),this._typeCheckConfig(r),r}_configAfterMerge(r){return r.container=r.container===!1?document.body:di(r.container),typeof r.delay=="number"&&(r.delay={show:r.delay,hide:r.delay}),typeof r.title=="number"&&(r.title=r.title.toString()),typeof r.content=="number"&&(r.content=r.content.toString()),r}_getDelegateConfig(){let r={};for(let[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(r[e]=i);return r.selector=!1,r.trigger="manual",r}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(r){return this.each(function(){let e=t.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof e[r]>"u")throw new TypeError(`No method named "${r}"`);e[r]()}})}};Mt(Xi);var d_="popover",c_=".popover-header",m_=".popover-body",p_=J(H({},Xi.Default),{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),u_=J(H({},Xi.DefaultType),{content:"(null|string|element|function)"}),fa=class t extends Xi{static get Default(){return p_}static get DefaultType(){return u_}static get NAME(){return d_}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[c_]:this._getTitle(),[m_]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(r){return this.each(function(){let e=t.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof e[r]>"u")throw new TypeError(`No method named "${r}"`);e[r]()}})}};Mt(fa);var h_="scrollspy",f_="bs.scrollspy",va=`.${f_}`,__=".data-api",g_=`activate${va}`,El=`click${va}`,b_=`load${va}${__}`,v_="dropdown-item",Yi="active",x_='[data-bs-spy="scroll"]',ra="[href]",S_=".nav, .list-group",Il=".nav-link",C_=".nav-item",y_=".list-group-item",w_=`${Il}, ${C_} > ${Il}, ${y_}`,E_=".dropdown",I_=".dropdown-toggle",T_={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},k_={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"},fo=class t extends Et{constructor(r,e){super(r,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return T_}static get DefaultType(){return k_}static get NAME(){return h_}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let r of this._observableSections.values())this._observer.observe(r)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(r){return r.target=di(r.target)||document.body,r.rootMargin=r.offset?`${r.offset}px 0px -30%`:r.rootMargin,typeof r.threshold=="string"&&(r.threshold=r.threshold.split(",").map(e=>Number.parseFloat(e))),r}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(z.off(this._config.target,El),z.on(this._config.target,El,ra,r=>{let e=this._observableSections.get(r.target.hash);if(e){r.preventDefault();let i=this._rootElement||window,a=e.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:a,behavior:"smooth"});return}i.scrollTop=a}}))}_getNewObserver(){let r={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),r)}_observerCallback(r){let e=c=>this._targetLinks.get(`#${c.target.id}`),i=c=>{this._previousScrollData.visibleEntryTop=c.target.offsetTop,this._process(e(c))},a=(this._rootElement||document.documentElement).scrollTop,l=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(let c of r){if(!c.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(c));continue}let f=c.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(l&&f){if(i(c),!a)return;continue}!l&&!f&&i(c)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let r=ue.find(ra,this._config.target);for(let e of r){if(!e.hash||ci(e))continue;let i=ue.findOne(decodeURI(e.hash),this._element);Qi(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(r){this._activeTarget!==r&&(this._clearActiveClass(this._config.target),this._activeTarget=r,r.classList.add(Yi),this._activateParents(r),z.trigger(this._element,g_,{relatedTarget:r}))}_activateParents(r){if(r.classList.contains(v_)){ue.findOne(I_,r.closest(E_)).classList.add(Yi);return}for(let e of ue.parents(r,S_))for(let i of ue.prev(e,w_))i.classList.add(Yi)}_clearActiveClass(r){r.classList.remove(Yi);let e=ue.find(`${ra}.${Yi}`,r);for(let i of e)i.classList.remove(Yi)}static jQueryInterface(r){return this.each(function(){let e=t.getOrCreateInstance(this,r);if(typeof r=="string"){if(e[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);e[r]()}})}};z.on(window,b_,()=>{for(let t of ue.find(x_))fo.getOrCreateInstance(t)});Mt(fo);var L_="tab",F_="bs.tab",Mi=`.${F_}`,D_=`hide${Mi}`,A_=`hidden${Mi}`,V_=`show${Mi}`,P_=`shown${Mi}`,M_=`click${Mi}`,R_=`keydown${Mi}`,O_=`load${Mi}`,j_="ArrowLeft",Tl="ArrowRight",B_="ArrowUp",kl="ArrowDown",la="Home",Ll="End",Ai="active",Fl="fade",sa="show",$_="dropdown",ns=".dropdown-toggle",N_=".dropdown-menu",da=`:not(${ns})`,G_='.list-group, .nav, [role="tablist"]',W_=".nav-item, .list-group-item",z_=`.nav-link${da}, .list-group-item${da}, [role="tab"]${da}`,os='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ca=`${z_}, ${os}`,U_=`.${Ai}[data-bs-toggle="tab"], .${Ai}[data-bs-toggle="pill"], .${Ai}[data-bs-toggle="list"]`,Cn=class t extends Et{constructor(r){super(r),this._parent=this._element.closest(G_),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),z.on(this._element,R_,e=>this._keydown(e)))}static get NAME(){return L_}show(){let r=this._element;if(this._elemIsActive(r))return;let e=this._getActiveElem(),i=e?z.trigger(e,D_,{relatedTarget:r}):null;z.trigger(r,V_,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,r),this._activate(r,e))}_activate(r,e){if(!r)return;r.classList.add(Ai),this._activate(ue.getElementFromSelector(r));let i=()=>{if(r.getAttribute("role")!=="tab"){r.classList.add(sa);return}r.removeAttribute("tabindex"),r.setAttribute("aria-selected",!0),this._toggleDropDown(r,!0),z.trigger(r,P_,{relatedTarget:e})};this._queueCallback(i,r,r.classList.contains(Fl))}_deactivate(r,e){if(!r)return;r.classList.remove(Ai),r.blur(),this._deactivate(ue.getElementFromSelector(r));let i=()=>{if(r.getAttribute("role")!=="tab"){r.classList.remove(sa);return}r.setAttribute("aria-selected",!1),r.setAttribute("tabindex","-1"),this._toggleDropDown(r,!1),z.trigger(r,A_,{relatedTarget:e})};this._queueCallback(i,r,r.classList.contains(Fl))}_keydown(r){if(![j_,Tl,B_,kl,la,Ll].includes(r.key))return;r.stopPropagation(),r.preventDefault();let e=this._getChildren().filter(a=>!ci(a)),i;if([la,Ll].includes(r.key))i=e[r.key===la?0:e.length-1];else{let a=[Tl,kl].includes(r.key);i=_a(e,r.target,a,!0)}i&&(i.focus({preventScroll:!0}),t.getOrCreateInstance(i).show())}_getChildren(){return ue.find(ca,this._parent)}_getActiveElem(){return this._getChildren().find(r=>this._elemIsActive(r))||null}_setInitialAttributes(r,e){this._setAttributeIfNotExists(r,"role","tablist");for(let i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(r){r=this._getInnerElement(r);let e=this._elemIsActive(r),i=this._getOuterElement(r);r.setAttribute("aria-selected",e),i!==r&&this._setAttributeIfNotExists(i,"role","presentation"),e||r.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(r,"role","tab"),this._setInitialAttributesOnTargetPanel(r)}_setInitialAttributesOnTargetPanel(r){let e=ue.getElementFromSelector(r);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),r.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${r.id}`))}_toggleDropDown(r,e){let i=this._getOuterElement(r);if(!i.classList.contains($_))return;let a=(l,c)=>{let f=ue.findOne(l,i);f&&f.classList.toggle(c,e)};a(ns,Ai),a(N_,sa),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(r,e,i){r.hasAttribute(e)||r.setAttribute(e,i)}_elemIsActive(r){return r.classList.contains(Ai)}_getInnerElement(r){return r.matches(ca)?r:ue.findOne(ca,r)}_getOuterElement(r){return r.closest(W_)||r}static jQueryInterface(r){return this.each(function(){let e=t.getOrCreateInstance(this);if(typeof r=="string"){if(e[r]===void 0||r.startsWith("_")||r==="constructor")throw new TypeError(`No method named "${r}"`);e[r]()}})}};z.on(document,M_,os,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!ci(this)&&Cn.getOrCreateInstance(this).show()});z.on(window,O_,()=>{for(let t of ue.find(U_))Cn.getOrCreateInstance(t)});Mt(Cn);var H_="toast",Y_="bs.toast",hi=`.${Y_}`,q_=`mouseover${hi}`,K_=`mouseout${hi}`,J_=`focusin${hi}`,X_=`focusout${hi}`,Q_=`hide${hi}`,Z_=`hidden${hi}`,e1=`show${hi}`,t1=`shown${hi}`,i1="fade",Dl="hide",io="show",no="showing",n1={animation:"boolean",autohide:"boolean",delay:"number"},o1={animation:!0,autohide:!0,delay:5e3},_o=class t extends Et{constructor(r,e){super(r,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return o1}static get DefaultType(){return n1}static get NAME(){return H_}show(){if(z.trigger(this._element,e1).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(i1);let e=()=>{this._element.classList.remove(no),z.trigger(this._element,t1),this._maybeScheduleHide()};this._element.classList.remove(Dl),yn(this._element),this._element.classList.add(io,no),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||z.trigger(this._element,Q_).defaultPrevented)return;let e=()=>{this._element.classList.add(Dl),this._element.classList.remove(no,io),z.trigger(this._element,Z_)};this._element.classList.add(no),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(io),super.dispose()}isShown(){return this._element.classList.contains(io)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(r,e){switch(r.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}let i=r.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){z.on(this._element,q_,r=>this._onInteraction(r,!0)),z.on(this._element,K_,r=>this._onInteraction(r,!1)),z.on(this._element,J_,r=>this._onInteraction(r,!0)),z.on(this._element,X_,r=>this._onInteraction(r,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(r){return this.each(function(){let e=t.getOrCreateInstance(this,r);if(typeof r=="string"){if(typeof e[r]>"u")throw new TypeError(`No method named "${r}"`);e[r](this)}})}};go(_o);Mt(_o);function a1(t,r){if(t&1&&(o(0,"option",123),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),T(" ",e==null?null:e.village_name,"")}}function r1(t,r){if(t&1){let e=E();o(0,"button",131),x("click",function(){C(e);let a=p(2);return y(a.setmoveStatus("ineligible"))}),s(1," Move to Ineligible "),n()}}function l1(t,r){if(t&1){let e=E();o(0,"button",132),x("click",function(){C(e);let a=p(2);return y(a.handleMoveBack())}),s(1," Move Back "),n()}}function s1(t,r){if(t&1){let e=E();o(0,"button",131),x("click",function(){C(e);let a=p(2);return y(a.setmoveStatus("eligible"))}),s(1," Move to Eligible "),n()}}function d1(t,r){if(t&1){let e=E();o(0,"button",132),x("click",function(){C(e);let a=p(2);return y(a.handleMoveBack())}),s(1," Move Back "),n()}}function c1(t,r){t&1&&(o(0,"button",133),s(1," Move to Ineligible "),n())}function m1(t,r){t&1&&(o(0,"button",133),s(1," Move to Eligible "),n())}function p1(t,r){if(t&1){let e=E();o(0,"button",134),x("click",function(){C(e);let a=p(2);return y(a.openModal())}),s(1,`
Recommend
`),n()}if(t&2){let e=p(2);m("disabled",!e.isAllSelected())}}function u1(t,r){t&1&&(o(0,"button",135),s(1,`
Recommend
`),n())}function h1(t,r){if(t&1){let e=E();o(0,"button",136),x("click",function(){C(e);let a=p(2);return y(a.openDisposeModal())}),s(1," Dispose "),n()}}function f1(t,r){t&1&&(o(0,"button",137),s(1," Dispose "),n())}function _1(t,r){if(t&1&&h(0,r1,2,0,"button",124)(1,l1,2,0,"button",125)(2,s1,2,0,"button",124)(3,d1,2,0,"button",125)(4,c1,2,0,"button",126)(5,m1,2,0,"button",126)(6,p1,2,1,"button",127)(7,u1,2,0,"button",128)(8,h1,2,0,"button",129)(9,f1,2,0,"button",130),t&2){let e=p();m("ngIf",e.selectedFieldVerificationId.length==1&&e.tab==1&&e.fieldVerificationsList.length>0&&!e.showMoveBackButton()),d(1),m("ngIf",e.selectedFieldVerificationId.length==1&&e.tab==1&&e.fieldVerificationsList.length>0&&e.showMoveBackButton()),d(1),m("ngIf",e.selectedFieldVerificationId.length==1&&e.tab==2&&e.fieldVerificationsList.length>0&&!e.showMoveBackButton()),d(1),m("ngIf",e.selectedFieldVerificationId.length==1&&e.tab==2&&e.fieldVerificationsList.length>0&&e.showMoveBackButton()),d(1),m("ngIf",(e.selectedFieldVerificationId.length==0||e.selectedFieldVerificationId.length>1)&&e.tab==1&&e.fieldVerificationsList.length>0),d(1),m("ngIf",(e.selectedFieldVerificationId.length==0||e.selectedFieldVerificationId.length>1)&&e.tab==2&&e.fieldVerificationsList.length>0),d(1),m("ngIf",e.tab!=3&&e.fieldVerificationsList.length>0&&e.totalApplicants>0),d(1),m("ngIf",e.tab!=3&&e.fieldVerificationsList.length===0&&e.totalApplicants>0),d(1),m("ngIf",e.tab==3&&e.selectedFieldVerificationId.length==1&&e.fieldVerificationsList.length>0),d(1),m("ngIf",(!e.selectedFieldVerificationId.length||e.selectedFieldVerificationId.length>1)&&e.tab==3&&e.fieldVerificationsList.length>0)}}function g1(t,r){t&1&&(o(0,"button",138),u(1,"i",139),s(2," Downloading.. "),n())}function b1(t,r){if(t&1){let e=E();o(0,"button",141),x("click",function(){C(e);let a=p(2);return y(a.handleExport())}),u(1,"i",142),s(2,"Download "),n()}}function v1(t,r){if(t&1&&h(0,b1,3,0,"button",140),t&2){let e=p();m("ngIf",e.totalApplicants>0)}}function x1(t,r){if(t&1&&(o(0,"li",143),s(1),n()),t&2){let e=p();d(1),_(e.block_name)}}function S1(t,r){if(t&1&&(o(0,"li",143),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function C1(t,r){if(t&1){let e=E();o(0,"button",144),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," Eligible "),n()}}function y1(t,r){if(t&1){let e=E();o(0,"button",145),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," Ineligible "),n()}}function w1(t,r){if(t&1){let e=E();o(0,"button",144),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," Objection "),n()}}function E1(t,r){if(t&1){let e=E();o(0,"button",145),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," Eligible "),n()}}function I1(t,r){if(t&1){let e=E();o(0,"button",144),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," Ineligible "),n()}}function T1(t,r){if(t&1){let e=E();o(0,"button",144),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," Objection "),n()}}function k1(t,r){if(t&1){let e=E();o(0,"button",144),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," Eligible "),n()}}function L1(t,r){if(t&1){let e=E();o(0,"button",144),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," Ineligible "),n()}}function F1(t,r){if(t&1){let e=E();o(0,"button",145),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," Objection "),n()}}function D1(t,r){t&1&&(o(0,"div",146),u(1,"i",139),s(2," We are fetching the data, please wait. "),n())}function A1(t,r){if(t&1){let e=E();o(0,"th",152)(1,"input",154),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function V1(t,r){if(t&1){let e=E();o(0,"td",152)(1,"input",159),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function P1(t,r){if(t&1){let e=E();o(0,"a",163),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function M1(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function R1(t,r){if(t&1&&(o(0,"td",160),h(1,P1,2,1,"a",161)(2,M1,2,1,"span",162),n()),t&2){let e=p().$implicit;d(1),m("ngIf",(e==null?null:e.block_or_ulb_status)&&(e==null?null:e.log_status)==1),d(1),m("ngIf",!(e!=null&&e.block_or_ulb_status)||(e==null?null:e.log_status)==0||!e.log_status)}}function O1(t,r){if(t&1){let e=E();o(0,"a",163),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function j1(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function B1(t,r){if(t&1&&(o(0,"td"),h(1,O1,2,1,"a",161)(2,j1,2,1,"span",162),n()),t&2){let e=p().$implicit;d(1),m("ngIf",(e==null?null:e.block_or_ulb_status)&&(e==null?null:e.log_status)==1),d(1),m("ngIf",!(e!=null&&e.block_or_ulb_status)||(e==null?null:e.log_status)==0||!e.log_status)}}var $1="/department/portal/approval-module/field-verified/district-stats/field-verification-report",xa=t=>[$1,t],bo=t=>({"disabled-link":t});function N1(t,r){if(t&1&&(o(0,"tr"),h(1,V1,2,1,"td",151),o(2,"td"),s(3),n(),o(4,"td"),s(5),n(),h(6,R1,3,2,"td",155)(7,B1,3,2),o(8,"td",156),s(9),n(),o(10,"td",156),s(11),n(),o(12,"td"),s(13),n(),o(14,"td",157)(15,"a",158),x("click",function(i){return i.preventDefault()}),n()()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==5),d(2),_(i+1),d(2),_((e==null?null:e.village_name)||"N/A"),d(1),w(6,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?6:7),d(3),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.fv_status_date)),d(2),et("pointer-events",e!=null&&e.id?"auto":"none"),m("routerLink",e!=null&&e.id?_e(12,xa,+(e==null?null:e.id)):null)("ngClass",_e(14,bo,!(e!=null&&e.id))),Ze("aria-disabled",!(e!=null&&e.id))}}function G1(t,r){if(t&1&&(o(0,"table",105)(1,"thead",150)(2,"tr"),h(3,A1,2,1,"th",151),o(4,"th",152),s(5," SN "),n(),o(6,"th",106),s(7,"Village"),n(),o(8,"th",106),s(9,"Application No."),n(),o(10,"th",106),s(11,"Applicant Name"),n(),o(12,"th",106),s(13,"Father/Husband Name"),n(),o(14,"th",106),s(15,"FET Date"),n(),o(16,"th",106),s(17,"FET Report"),n()()(),o(18,"tbody",153),h(19,N1,16,16,"tr",107),n()()),t&2){let e=p(3);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==5),d(16),m("ngForOf",e.fieldVerificationsList)}}function W1(t,r){if(t&1){let e=E();o(0,"th",152)(1,"input",154),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function z1(t,r){if(t&1){let e=E();o(0,"td",152)(1,"input",159),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function U1(t,r){if(t&1){let e=E();o(0,"a",163),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function H1(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function Y1(t,r){if(t&1&&(o(0,"td",160),h(1,U1,2,1,"a",161)(2,H1,2,1,"span",162),n()),t&2){let e=p().$implicit;d(1),m("ngIf",(e==null?null:e.block_or_ulb_status)&&(e==null?null:e.log_status)==1),d(1),m("ngIf",!(e!=null&&e.block_or_ulb_status)||(e==null?null:e.log_status)==0||!e.log_status)}}function q1(t,r){if(t&1){let e=E();o(0,"a",163),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function K1(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function J1(t,r){if(t&1&&(o(0,"td"),h(1,q1,2,1,"a",161)(2,K1,2,1,"span",162),n()),t&2){let e=p().$implicit;d(1),m("ngIf",(e==null?null:e.block_or_ulb_status)&&(e==null?null:e.log_status)==1),d(1),m("ngIf",!(e!=null&&e.block_or_ulb_status)||(e==null?null:e.log_status)==0||!e.log_status)}}function X1(t,r){if(t&1&&(o(0,"tr"),h(1,z1,2,1,"td",151),o(2,"td"),s(3),n(),o(4,"td"),s(5),n(),h(6,Y1,3,2,"td",155)(7,J1,3,2),o(8,"td",156),s(9),n(),o(10,"td",156),s(11),n(),o(12,"td"),s(13),n(),o(14,"td",157)(15,"a",158),x("click",function(i){return i.preventDefault()}),n()()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==5),d(2),_(i+1),d(2),_((e==null?null:e.village_name)||"N/A"),d(1),w(6,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?6:7),d(3),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.fv_status_date)),d(2),et("pointer-events",e!=null&&e.id?"auto":"none"),m("routerLink",e!=null&&e.id?_e(12,xa,+(e==null?null:e.id)):null)("ngClass",_e(14,bo,!(e!=null&&e.id))),Ze("aria-disabled",!(e!=null&&e.id))}}function Q1(t,r){if(t&1&&(o(0,"table",105)(1,"thead",150)(2,"tr"),h(3,W1,2,1,"th",151),o(4,"th",152),s(5," SN "),n(),o(6,"th",106),s(7,"Village"),n(),o(8,"th",106),s(9,"Application No."),n(),o(10,"th",106),s(11,"Applicant Name"),n(),o(12,"th",106),s(13,"Father/Husband Name"),n(),o(14,"th",106),s(15,"FET Date"),n(),o(16,"th",106),s(17,"FET Report"),n()()(),o(18,"tbody",153),h(19,X1,16,16,"tr",107),n()()),t&2){let e=p(3);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==5),d(16),m("ngForOf",e.fieldVerificationsList)}}function Z1(t,r){if(t&1){let e=E();o(0,"th",152)(1,"input",154),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function eg(t,r){if(t&1){let e=E();o(0,"td",152)(1,"input",159),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function tg(t,r){if(t&1&&(o(0,"td",160),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.application_number)}}function ig(t,r){if(t&1&&(o(0,"td"),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.application_number)}}function ng(t,r){if(t&1){let e=E();o(0,"tr"),h(1,eg,2,1,"td",151),o(2,"td"),s(3),n(),o(4,"td"),s(5),n(),h(6,tg,2,1,"td",155)(7,ig,2,1),o(8,"td",156),s(9),n(),o(10,"td",156),s(11),n(),o(12,"td"),s(13),n(),o(14,"td"),s(15),n(),o(16,"td",157)(17,"a",158),x("click",function(a){return a.preventDefault()}),n()(),o(18,"td",157)(19,"button",164),x("click",function(){let l=C(e).$implicit,c=p(4);return y(c.openObjectionsModal(l==null?null:l.application_number))}),n()()()}if(t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==5),d(2),_(i+1),d(2),_((e==null?null:e.village_name)||"N/A"),d(1),w(6,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?6:7),d(3),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.fv_status_date)),d(2),_(e==null?null:e.fetStatus),d(2),et("pointer-events",e!=null&&e.id?"auto":"none"),m("routerLink",e!=null&&e.id?_e(13,xa,+(e==null?null:e.id)):null)("ngClass",_e(15,bo,!(e!=null&&e.id))),Ze("aria-disabled",!(e!=null&&e.id))}}function og(t,r){if(t&1&&(o(0,"table",105)(1,"thead",150)(2,"tr"),h(3,Z1,2,1,"th",151),o(4,"th",152),s(5," SN "),n(),o(6,"th",106),s(7,"Village"),n(),o(8,"th",106),s(9,"Application No."),n(),o(10,"th",106),s(11,"Applicant Name"),n(),o(12,"th",106),s(13,"Father/Husband Name"),n(),o(14,"th",106),s(15,"FET Date"),n(),o(16,"th",106),s(17,"FET Status"),n(),o(18,"th",106),s(19,"FET Report"),n(),o(20,"th",106),s(21,"Objections"),n()()(),o(22,"tbody",153),h(23,ng,20,17,"tr",107),n()()),t&2){let e=p(3);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==5),d(20),m("ngForOf",e.fieldVerificationsList)}}function ag(t,r){t&1&&(o(0,"span"),u(1,"i",139),s(2," Loading..."),n())}function rg(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function lg(t,r){if(t&1){let e=E();o(0,"div",165)(1,"button",166),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,ag,3,0,"span",162)(3,rg,2,0,"span",162),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function sg(t,r){if(t&1&&(o(0,"div",147),h(1,G1,20,2,"table",148)(2,Q1,20,2,"table",148)(3,og,24,2,"table",148),n(),h(4,lg,4,2,"div",149)),t&2){let e=p(2);d(1),m("ngIf",e.tab===1),d(1),m("ngIf",e.tab===2),d(1),m("ngIf",e.tab===3),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!==e.totalApplicants)}}function dg(t,r){t&1&&(o(0,"h5",167),s(1," No Application Found "),n())}function cg(t,r){if(t&1&&(o(0,"div"),h(1,sg,5,4)(2,dg,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}function mg(t,r){if(t&1&&(o(0,"div")(1,"label",168)(2,"label",168),s(3),n()()()),t&2){let e=r.$implicit,i=r.index,a=p(2);d(1),m("for","reason"+i),d(1),m("for","reason"+i),d(1),$e(" ",e.id,". ",a.getDeclarationLabel(e==null?null:e.id)," ")}}function pg(t,r){if(t&1&&(o(0,"div",57)(1,"label",58),s(2," FET Reasons for Ineligibility : "),n(),h(3,mg,4,4,"div",107),n()),t&2){let e=p();d(3),m("ngForOf",e.ineligibleReasons)}}function ug(t,r){if(t&1){let e=E();o(0,"input",172),x("change",function(a){C(e);let l=p().$implicit,c=p();return y(c.onReasonChange(a,l.reason_id))}),n()}if(t&2){let e=p().$implicit,i=p();m("checked",i.selectedReasons.includes(e.reason_id))}}function hg(t,r){t&1&&u(0,"input",173)}function fg(t,r){if(t&1&&(o(0,"div",169),h(1,ug,1,1,"input",170)(2,hg,1,0,"input",171),o(3,"label",168)(4,"label",168),s(5),n()()()),t&2){let e=r.$implicit,i=r.index,a=p();d(1),m("ngIf",a.moveStatus==="ineligible"),d(1),m("ngIf",a.moveStatus==="eligible"),d(1),m("for","reason"+i),d(1),m("for","reason"+i),d(1),$e(" ",i+1,". ",e.eligible_reasons||e.ineligible_reasons," ")}}function _g(t,r){t&1&&(o(0,"button",174),s(1," Move "),n())}function gg(t,r){t&1&&(o(0,"button",175),s(1," Moving... "),u(2,"i",176),n())}function bg(t,r){t&1&&(o(0,"button",174),s(1," Dispose "),n())}function vg(t,r){t&1&&(o(0,"button",177),s(1," Dispossing... "),u(2,"i",176),n())}function xg(t,r){if(t&1&&(o(0,"div",67)(1,"label",68),s(2,"Recommending for Approval :"),n(),u(3,"input",69),n()),t&2){let e=p();d(3),m("value",e.totalApplicants)}}function Sg(t,r){if(t&1&&(o(0,"div",67)(1,"label",68),s(2,"Recommending for Rejection :"),n(),u(3,"input",69),n()),t&2){let e=p();d(3),m("value",e.totalApplicants)}}function Cg(t,r){t&1&&(o(0,"button",174),s(1," Recommend "),n())}function yg(t,r){t&1&&(o(0,"button",177),s(1," Recommending... "),u(2,"i",176),n())}function wg(t,r){t&1&&u(0,"input",173)}function Eg(t,r){if(t&1){let e=E();o(0,"input",172),x("change",function(a){C(e);let l=p().$implicit,c=p(2);return y(c.onReasonChange(a,l.reason_id))}),n()}if(t&2){let e=p().$implicit,i=p(2);m("checked",i.selectedReasons.includes(e.reason_id))}}function Ig(t,r){if(t&1&&(o(0,"div",169),h(1,wg,1,0,"input",171)(2,Eg,1,1,"input",170),o(3,"label",168),s(4),n()()),t&2){let e=r.$implicit,i=r.index,a=p(2);d(1),m("ngIf",a.disposalForm.value.recommendFor==="eligible"),d(1),m("ngIf",a.disposalForm.value.recommendFor==="ineligible"),d(1),m("for","reason"+i),d(1),$e(" ",i+1,". ",e.eligible_reasons||e.ineligible_reasons," ")}}function Tg(t,r){if(t&1&&(o(0,"div",57)(1,"label",58),s(2),o(3,"span",14),s(4,"*"),n(),s(5,": "),n(),h(6,Ig,5,5,"div",59),n()),t&2){let e=p();d(2),T(" Reasons for ",e.disposalForm.value.recommendFor==="eligible"?"Eligibility":"Ineligibility",""),d(4),m("ngForOf",e.disposalForm.value.recommendFor==="eligible"?e.reasonsForEligibility.slice().reverse():e.reasonsForInEligibility.slice().reverse())}}function kg(t,r){t&1&&(o(0,"button",174),s(1," Dispose "),n())}function Lg(t,r){t&1&&(o(0,"button",175),s(1," Disposing... "),u(2,"i",176),n())}function Fg(t,r){if(t&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td",157)(12,"a",178),x("click",function(){let l=C(e).$implicit,c=p();return y(c.handleRedirect(l==null?null:l.grievance_ref_no))}),n()(),o(13,"td"),s(14,"Pending"),n()()}if(t&2){let e=r.$implicit,i=r.index,a=p();d(2),_(i+1),d(2),_(a.appService.dateFormat(e.created_at)),d(2),T("GR-",e.grievance_ref_no,""),d(2),_(e.submitted_by),d(2),_(a.getGrievanceTypeName(e.grievance_remark_type_id))}}function Dg(t,r){if(t&1&&(o(0,"div",169)(1,"label",168)(2,"label",168),s(3),n()()()),t&2){let e=r.$implicit,i=r.index;d(1),m("for","reason"+i),d(1),m("for","reason"+i),d(1),$e(" ",i+1,". ",e.eligible_reasons||e.ineligible_reasons," ")}}function Ag(t,r){if(t&1){let e=E();o(0,"button",179),x("click",function(){C(e);let a=p();return y(a.handleRecommendApprove())}),s(1,"Yes"),n()}}function Vg(t,r){t&1&&(o(0,"button",180),s(1," Yes "),u(2,"i",176),n())}var Sa=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F,L,N){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.router=F,this.paginationService=L,this.sanitizer=N,this.displayReasons=!1,this.reasonsForEligibility=[{reason_id:"13",eligible_reasons:"She is alive."},{reason_id:"12",eligible_reasons:"She is a female."},{reason_id:"11",eligible_reasons:"Her family\u2019s income is not more than Rs. 2.50 lakhs."},{reason_id:"10",eligible_reasons:"Her family does not owns a four-wheeler motor vehicle."},{reason_id:"9",eligible_reasons:"Her family does not owns more than 5 acres of irrigated or 10 acres of non-irrigated land."},{reason_id:"8",eligible_reasons:"She or any family member is not a member in a Govt. PSU/Board/Organization."},{reason_id:"7",eligible_reasons:"She or any family member is not employed with a Govt. Organization or receiving pension."},{reason_id:"6",eligible_reasons:"She or any family member is not an elected representative in an ULB/PRI."},{reason_id:"5",eligible_reasons:"She or any family member is not an Income Tax Payee."},{reason_id:"4",eligible_reasons:"She or any family member is not a current/former MP or MLA."},{reason_id:"3",eligible_reasons:"She does not receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Govt."},{reason_id:"2",eligible_reasons:"She is 21 years or above and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"1",eligible_reasons:"She is a resident of Odisha."}],this.reasonsForInEligibility=[{reason_id:"32",ineligible_reasons:"She is not alive."},{reason_id:"31",ineligible_reasons:"She is not a female."},{reason_id:"30",ineligible_reasons:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{reason_id:"29",ineligible_reasons:"Her family owns a four-wheeler motor vehicle."},{reason_id:"28",ineligible_reasons:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{reason_id:"27",ineligible_reasons:"She or a family member is a member in a Government PSU/Board/Organization."},{reason_id:"26",ineligible_reasons:"She or a family member is employed with a Government Organization or receives a pension."},{reason_id:"25",ineligible_reasons:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{reason_id:"24",ineligible_reasons:"She or a family member is an Income Tax Payee."},{reason_id:"23",ineligible_reasons:"She or a family member is a current/former MP or MLA."},{reason_id:"22",ineligible_reasons:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{reason_id:"21",ineligible_reasons:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"20",ineligible_reasons:"She is not a resident of Odisha."}],this.alreadySelectedReasons=[],this.reasonsList=[],this.fieldVerificationData="",this.selectedReasons=[],this.selectedItem=null,this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.isDownloadingInProgress=!1,this.isDataLoading=!1,this.objectionsList=[],this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.recommendConfirmationModalstage=1,this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.ineligibleReasons=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.proceedingList=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.ulb_name="",this.exportInProgress=!1,this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({reasons:this.fb.group({})}),this.redressForm=this.fb.group({recommendFor:["",k.required]}),this.recommedationForm=this.fb.group({}),this.disposalForm=this.fb.group({reasons:this.fb.group({}),recommendFor:["",k.required]})}setTab(i){this.tab=i,this.page=1,this.selectedFieldVerificationId=[],this.searchValue="",this.selectedCategory="",this.selectedDate="",this.selectedVillage="",this.router.navigate([],{relativeTo:this.route,queryParams:{tab:i},queryParamsHandling:"merge"}),this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&this.tab==1&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.tab=1,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate))}isSelectedInRandomList(i){return!!(Number(i)==1&&Oe?.consent_random_list_change)}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}let a=`/proceeding/list?block_id=${this.block_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDownloadingInProgress=!1,this.proceedingList=l.data},l=>{this.isDownloadingInProgress=!1,console.error("File download failed:",l)})}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetForms();return}this.selectedImage=a}setSmallselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=600*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 600Kb."),this.resetForms();return}this.selectedImage=a}resetForms(){this.selectedImage="",this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.disposalForm.patchValue({document:""}),this.redressForm.patchValue({document:""}),this.assignFieldOfficerForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity(),this.disposalForm.updateValueAndValidity(),this.redressForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedReasons=[]}setmoveStatus(i){this.moveStatus=i,this.assignFieldOfficerForm.patchValue({remarks:"",meetingDate:"",reasons:""}),i=="eligible"?(this.selectedReasons=this.reasonsForEligibility.map(a=>a?.reason_id),this.fetchFieldVerificationDetails()):this.selectedReasons=[],this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.assignFieldOfficerForm)}fetchFieldVerificationDetails(){let i=`${this.appService.departmentBaseUrl}/v1/fv-completed-details?fvId=${this.selectedFieldVerificationId[0]}`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{let l=a.data[0],c=JSON.parse(l.declaration_ids);c&&(this.ineligibleReasons=c?.filter(f=>f.status==0))},a=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}getDeclarationLabel(i){return[{id:1,remark:"She is not a resident of Odisha."},{id:2,remark:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{id:3,remark:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{id:4,remark:"She or a family member is a current/former MP or MLA."},{id:5,remark:"She or a family member is an Income Tax Payee."},{id:6,remark:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{id:7,remark:"She or a family member is employed with a Government Organization or receives a pension."},{id:8,remark:"She or a family member is a member in a Government PSU/Board/Organization."},{id:9,remark:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{id:10,remark:"Her family owns a four-wheeler motor vehicle."},{id:11,remark:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{id:12,remark:"She is not a female."},{id:13,remark:"She is not alive."}].find(l=>Number(l?.id)===Number(i))?.remark}openModal(){this.disposalForm.patchValue({remarks:"",reasons:"",recommendFor:"",meetingDate:""}),this.selectedReasons=[],this.redressForm.patchValue({remarks:"",meetingDate:"",recommendFor:""}),this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.assignFieldOfficerForm.patchValue({remarks:"",meetingDate:"",reasons:""}),this.selectedImage="",this.redressForm.updateValueAndValidity(),this.recommedationForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.disposalForm.updateValueAndValidity(),this.resetTouchedStatus(this.disposalForm),this.resetTouchedStatus(this.redressForm),this.resetTouchedStatus(this.recommedationForm),this.resetTouchedStatus(this.assignFieldOfficerForm)}openDisposeModal(){this.disposalForm.patchValue({remarks:"",reasons:"",recommendFor:"",meetingDate:""}),this.disposalForm.updateValueAndValidity(),this.resetTouchedStatus(this.disposalForm);let i=document.getElementById("disposalModal");i&&(j.getInstance(i)||new j(i)).show()}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.gp_id=i.gp_id,this.block_id=i.block_id,this.district_id=i.district_id,this.district_name=$.data.find(l=>l?.id==this.district_id)?.district_name,this.block_name=be.data.find(l=>l?.id==this.block_id)?.block_name,this.gp_id&&this.fetchVillages(),this.gp_nameorWardNo=Ue.data.find(l=>String(l?.id)===this.gp_id)?.gp_name,this.route.queryParams.subscribe(l=>{l.tab?this.tab=Number(l.tab):(this.tab=1,this.router.navigate([],{relativeTo:this.route,queryParams:{tab:1},queryParamsHandling:"merge"}));let c=this.paginationService.getData("gp_id",this.gp_id,this.tab==1?"FieldVerifiedEligibleTab":this.tab==2?"FieldVerifiedIneligibleTab":"FieldVerifiedHoldTab",this.authService.userDetail.demography_id);!c&&this.tab==1?(console.log("Came....................."),this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)):(this.fieldVerificationsList=c.data,this.page=c.page,this.totalApplicants=c.totalCount)})}),this.today=(0,as.default)().format("YYYY-MM-DD")}goBack(){this.location.back()}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}document.getElementById("recommendFormClose")?.click();let a=document.getElementById("recommendationConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("recommendationConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("recommendModal");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){let a="";return i=="heading"&&(a=this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?"),i=="body"&&(a=this.recommendConfirmationModalstage==1?`You have selected <b>${this.totalApplicants}</b> application(s) to be recommended for ${this.tab==1?"Approval":"Rejection"}. Are you sure to proceed ahead with these application(s) ?`:`<b>${this.totalApplicants}</b> no. of applications recommended for ${this.tab==1?"Approval":"Rejection"} are matching up with the proceedings of BLSC/ULSC/MLSC. <b  style="color:red;">This decision is final and no further changes can be made</b>.`),this.sanitizer.bypassSecurityTrustHtml(a)}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.recommedationForm.value,a=this.fieldVerificationsList?.find(f=>f?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("category","1"),l.append("gp_id",this.gp_id);let c="";this.tab==2&&(c="/v1/recommend-fv-for-ineligible"),this.tab==1&&(c="/v1/recommend-fv-for-eligible"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(f=>{this.isFormSubmitInProgress=!1,this.toastService.success(f.message);let S=document.getElementById("recommendationConfirmationModal");S&&((j.getInstance(S)||new j(S)).hide(),document.getElementById("recommendFormClose")?.click()),this.recommendConfirmationModalstage=1,this.selectedFieldVerificationId=[],this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate),this.resetForms()},f=>{console.error("Error:",f),this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message),this.resetForms()})}handleEligibleIneligible(){this.disposalForm.get("recommendFor")?.value=="eligible"?this.selectedReasons=this.reasonsForEligibility.slice().reverse()?.map(a=>a?.reason_id):this.selectedReasons=[]}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}fetchVillages(){let i=`/v1/fv/village-list?gp_id=${this.gp_id}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.villageList=a.data},a=>{this.villageList=[]})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/provisional-published-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}return J(H({},I),{fetStatus:F})}),this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,1,this.tab==1?"FieldVerifiedEligibleTab":this.tab==2?"FieldVerifiedIneligibleTab":"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,v.totalCount),this.eligibleCount=v.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}fetchApplicationListTabWise(i,a,l,c,f,S){this.page=1;let g=`/v1/provisional-published-list?isAll=0&type=${S==1?"eligible":S==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{let I=v.data.map(F=>{let L="";switch(F.fv_status){case"1":L="Eligible";break;case"0":case"3":L="Ineligible";break;default:L="N/A"}return J(H({},F),{fetStatus:L})});this.paginationService.setData("gp_id",this.gp_id,I,1,S==1?"FieldVerifiedEligibleTab":S==2?"FieldVerifiedIneligibleTab":"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,v.totalCount),this.isStatsLoading=!1},v=>{this.isStatsLoading=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/provisional-published-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}return J(H({},L),{fetStatus:N})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F],this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,this.page,this.tab==1?"FieldVerifiedEligibleTab":this.tab==2?"FieldVerifiedIneligibleTab":"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,I.totalCount)}this.eligibleCount=I.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleSubmit(){if(this.assignFieldOfficerForm.invalid){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}if(!this.selectedReasons.length){this.toastService.error("Please select reasons to move.");return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);if(!a){this.toastService.error("Selected field verification details are missing.");return}Tt.default.fire({title:"Are You sure ?",html:`You want to move <b>${a.applicant_name}</b>, from ${this.tab===2?"<b>Ineligible</b>":"<b>Eligible</b>"} to ${this.tab===2?"<b>Eligible</b>":"<b>Ineligible</b>"}.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Tt.default.showLoading();let l=new FormData;l.append("application_id",a?.application_id||""),l.append("field_verification_id",a?.id||""),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="eligible"?"3":"4"),this.moveStatus==="eligible"?l.append("eligible_reasons",this.selectedReasons.join(",")):l.append("ineligible_reasons",this.selectedReasons.join(",")),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/move-field-verification-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),Tt.default.close(),document.getElementById("BtnClose")?.click(),this.resetFormState(),this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1)),this.resetForms()},c=>{this.isFormSubmitInProgress=!1;let f=c?.error?.message||"An error occurred while processing your request.";this.toastService.error(f),this.resetForms()})}}).then(l=>{l.dismiss,Tt.default.DismissReason.cancel})}resetFormState(){this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.reset({remarks:"",document:"",meetingDate:""}),this.selectedImage=null}handleRedirect(i){let a=`/department/portal/department-grievance/grievance-aadhar-verify/user-grievance-details/${i}`;window.open(a,"_blank")}handleRedressSubmit(){if(this.redressForm.status==="INVALID"){this.formService.triggerFormValidation(this.redressForm);return}let i=this.redressForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("status",i.recommendFor),l.append("application_id",a?.application_id),l.append("gp_id",this.gp_id),l.append("category","1"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/redress-objected-application`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("redressModalClose")?.click(),this.selectedFieldVerificationId=[],this.redressForm.patchValue({remarks:"",document:"",recommendFor:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}getFETStatus(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.fetStatus:""}handleExport(){this.isDownloadingInProgress=!0,this.page=1;let i=`/v1/provisional-published-list-pdf?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.searchValue&&(i+=`&search=${this.searchValue}`),this.selectedVillage&&(i+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(i+=`&fv_status_date=${this.selectedDate}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.isDownloadingInProgress=!1,this.downloadFile(a,this.tab==1?"eligible_application.pdf":this.tab==2?"ineligible_application.pdf":"objected_applications.pdf")},a=>{this.isDownloadingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=[i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}openInnerObjectionsModal(i){if(!i){console.error("Application number is required");return}let a=document.getElementById("disposeModalClose");if(a){a?.click();let c=document.getElementById("objectionsModal");(j.getInstance(c)||new j(c,{backdrop:"static",keyboard:!1})).show()}let l=`${this.appService.departmentBaseUrl}/v1/objection-list/by-application-number?application_number=${i}`;this.isDataLoading=!0,this.httpClient.get(l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isDataLoading=!1,this.objectionsList=c.data||[]},c=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}closeObjectionModal(){let i=document.getElementById("objectionsModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.querySelector(".modal-backdrop");l&&l.remove()}}handleFieldVerificationRedirect(i){let a=`/department/portal/approval-module/field-verified/district-stats/field-verification-report/${i}`;window.open(a,"_blank")}handleDisposalSubmit(){if(this.disposalForm.invalid){this.formService.triggerFormValidation(this.disposalForm);return}if(!this.selectedReasons?.length){this.toastService.error("Please select reason to dispose");return}let i=this.disposalForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);Tt.default.fire({title:"Are You sure ?",html:`You want to dispose the application of <b>${a.applicant_name}</b> as ${i.recommendFor==="eligible"?"<b>Eligible</b>":"<b>Ineligible</b>"} for Subhadra.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Tt.default.showLoading();let l=new FormData;if(l.append("status",i.recommendFor),l.append("application_id",a?.application_id),l.append("gp_id",this.gp_id),l.append("category","1"),i.recommendFor==="eligible")if(this.selectedReasons&&this.selectedReasons.length>0)l.append("eligible_reasons",this.selectedReasons.join(","));else{this.toastService.error("Please select valid reasons for eligibility."),this.isFormSubmitInProgress=!1;return}else if(i.recommendFor==="ineligible")if(this.selectedReasons&&this.selectedReasons.length>0)l.append("ineligible_reasons",this.selectedReasons.join(","));else{this.toastService.error("Please select valid reasons for ineligibility."),this.isFormSubmitInProgress=!1;return}this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/redress-objected-application`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("disposeModalClose")?.click(),Tt.default.close(),this.selectedFieldVerificationId=[],this.disposalForm.patchValue({remarks:"",reasons:"",recommendFor:"",meetingDate:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.resetForms()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message),this.resetForms()})}}).then(l=>{l.dismiss,Tt.default.DismissReason.cancel})}getSelectedReasons(i){return i.filter((a,l)=>this.disposalForm.get(`reason${l}`)?.value).map(a=>a.reason_id)}openObjectionsModal(i){if(!i){console.error("Application number is required");return}let a=`${this.appService.departmentBaseUrl}/v1/objection-list/by-application-number?application_number=${i}`;this.isDataLoading=!0,this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDataLoading=!1,this.objectionsList=l.data||[]},l=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}onReasonChange(i,a){if(i.target.checked)this.selectedReasons.push(a);else{let l=this.selectedReasons.indexOf(a);l!==-1&&this.selectedReasons.splice(l,1)}}onRecommendationChange(i){this.displayReasons=!0,i!==this.disposalForm.value.recommendFor&&this.disposalForm.reset()}showMoveBackButton(){if(this.selectedFieldVerificationId[0]){let i=this.fieldVerificationsList.find(a=>a.id===this.selectedFieldVerificationId[0]);return!!(i?.block_or_ulb_status&&i?.log_status==1)}return!1}getGrievanceTypeName(i){let a=[{id:1,reason:"Unable to submit application"},{id:2,reason:"Application status not updated"},{id:3,reason:"Application details incorrect"},{id:4,reason:"Application details incorrect"},{id:5,reason:"Application details incorrect"},{id:6,reason:"Verification Pending*"},{id:7,reason:"Wrongly marked ineligible/rejected & appeal against rejection"},{id:8,reason:"Haven\u2019t received the benefit yet"},{id:9,reason:"Wrongly marked eligible & appeal against approval"},{id:10,reason:"Benefit transferred to ineligible applicant"},{id:11,reason:"Benefit transferred to non-applicant"},{id:12,reason:"Application details incorrect"},{id:13,reason:"Application details incorrect"},{id:14,reason:"Application details incorrect"},{id:15,reason:"Application details incorrect"},{id:16,reason:"Application details incorrect"},{id:17,reason:"Application details incorrect"}];return i?a?.find(l=>l?.id==i)?.reason:"N/A"}handleMoveBack(){let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);Tt.default.fire({title:"Are You Sure ?",html:`You want to move <b>${i.applicant_name}</b> back to ${this.tab==1?"Ineligible":"Eligible"}.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Tt.default.showLoading(),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/revert-field-verification-status-log?log_id=${i?.log_id}`,{},{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.isFormSubmitInProgress=!1,this.toastService.success(a.message),Tt.default.close(),this.resetFormState(),this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1)),this.resetForms()},a=>{this.isFormSubmitInProgress=!1;let l=a?.error?.message||"An error occurred while processing your request.";this.toastService.error(l),this.resetForms()})}}).then(a=>{a.dismiss,Tt.default.DismissReason.cancel})}openHyperlinkModal(i){let a=`${this.appService.departmentBaseUrl}/v1/field-verification/move-log?field_verification_id=${i}`;this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fieldVerificationData=J(H({},l),{application_number:this.fieldVerificationsList.find(g=>g.application_id==l?.application_id)?.application_number});let c=[];this.fieldVerificationData?.eligible_reasons&&(c=this.fieldVerificationData?.eligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForEligibility.filter(g=>c.includes(g.reason_id))),this.fieldVerificationData?.ineligible_reasons&&(c=this.fieldVerificationData?.ineligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForInEligibility.filter(g=>c.includes(g.reason_id))),document.getElementById("hyperlinkModalClose")?.click();let S=document.getElementById("hyperlinkModal");S?new j(S).show():console.error("Modal element 'hyperlinkModal' not found.")},l=>{console.error("Error fetching data:",l)})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(Ne),b(fe),b(Lt))},r.\u0275cmp=D({type:r,selectors:[["app-gp-field-verified-list"]],decls:284,vars:66,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],[1,"form-control","form-select",3,"value","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["class","btn px-2 py-2","style",`
                             background-color: #ffe8d0;
                             color: #fd7b03;
                             font-weight: 540;
                           `,"type","button","disabled",""],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"d-flex","justify-content-between","pr-5"],[1,"col-md-8","row","mt-3","mb-3"],[1,"col-md-3","text-sm","d-flex","gap-2"],["type","button","class","btn btn-light text-black fw-regular",3,"click",4,"ngIf"],["type","button","class","btn btn-warning text-white fw-bold",3,"click",4,"ngIf"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["id","moveEligibleIneligible","tabindex","-1","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["id","modal1",1,"modal-dialog","modal-dialog-centered",2,"max-width","60%!important","left","0%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","BtnClose",1,"btn-close"],[1,"modal-body",2,"max-height","70vh","overflow-y","scroll"],[3,"formGroup","ngSubmit"],[1,"d-flex","gap-3"],["id","input_raw",1,"mb-3","input_raw","flex-grow-1"],["for","applicationNo",1,"form-label"],["type","text","id","applicationNo","disabled","",1,"form-control",3,"value"],["for","date",1,"form-label"],["type","date","id","date","disabled","",1,"form-control",3,"value"],["class","mb-3",4,"ngIf"],[1,"mb-3"],[1,"form-label","fw-bold"],["class","form-check",4,"ngFor","ngForOf"],[1,"modal-footer","d-flex","justify-content-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center",4,"ngIf"],["type","button","disabled","","class","btn bg-btn d-flex justify-content-center align-items-center",4,"ngIf"],["id","redressModal","tabindex","-1","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],["type","button","id","redressModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],[1,"d-flex","flex-column","gap-1","w-100"],[1,"d-flex","flex-column","gap-3","align-items-start",2,"gap","28px"],[1,"d-flex","gap-2"],["type","radio","id","recommendFor","formControlName","recommendFor","name","recommendFor","value","eligible",1,"radio-green",3,"change"],["for","html",2,"color","green"],["type","radio","id","recommendFor","formControlName","recommendFor","name","recommendFor","value","ineligible",3,"change"],["for","css",2,"color","red"],[3,"field"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],["id","recommendModal","tabindex","-1","aria-labelledby","recommendModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content",2,"max-height","90vh"],["id","recommendModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","recommendFormClose",1,"btn-close"],[1,"modal-body"],["class","mb-3 input_raw",4,"ngIf"],[1,"w-100","text-center"],["id","disposalModal","tabindex","-1","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["id","modal1",1,"modal-dialog","modal-dialog-centered",2,"max-width","60%","left","0%"],["type","button","id","disposeModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","myForm",3,"formGroup","ngSubmit"],["type","button",1,"far","fa-file-alt",3,"ngClass","click"],["type","button",1,"btn","btn-link","fas","fa-eye","text-left",2,"cursor","pointer","color","#007bff","border","none","background","transparent","text-align","left",3,"click"],["for","recommendFor",1,"form-label"],["type","radio","id","recommendForEligible","formControlName","recommendFor","name","recommendFor","value","eligible",1,"radio-green",3,"change"],["for","recommendForEligible",2,"color","green"],["type","radio","id","recommendForIneligible","formControlName","recommendFor","name","recommendFor","value","ineligible",3,"change"],["for","recommendForIneligible",2,"color","red"],["id","objectionsModal","tabindex","-1","aria-labelledby","objectionsModalLabel","aria-hidden","true",1,"modal","fade","custom-modal-position"],[1,"modal-dialog","modal-xl",2,"max-width","70%","left","0%"],["id","objectionsModalLabel",1,"modal-title","text-center","w-100",2,"color","#fd7b03","width","100%","text-align","center"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","objectionModalClose",1,"btn-close",3,"click"],[1,"table-responsive"],[1,"table"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],["id","hyperlinkModal","tabindex","-1","aria-labelledby","hyperlinkModalLabel","aria-hidden","true",1,"modal","fade"],["id","modal2",1,"modal-dialog","modal-dialog-centered",2,"max-width","60%","left","0%"],[1,"modal-content",2,"margin-top","150px"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","hyperlinkModalClose",1,"btn-close"],["id","recommendationConfirmationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-warning"],[1,"modal-content","shadow-lg"],[1,"modal-body","text-center","py-4",2,"display","flex","flex-direction","column","gap","15px"],[1,"fa-solid","fa-circle-exclamation","fa-3x","text-warning","mb-3",2,"color","#ff9003"],["id","exampleModalLongTitle",1,"modal-title",3,"innerHTML"],[1,"mb-0",3,"innerHTML"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","px-4",3,"click"],["type","button","class","btn btn-primary px-4",3,"click",4,"ngIf","ngIfElse"],["loadingButton",""],[3,"value"],["class","btn px-2 py-2 me-2","style",`
                        background-color: #B80003;
                        color: #f8f8f8;
                        font-weight: 540;
                        border-radius: 7px !important;
                      `,"type","button","data-bs-toggle","modal","data-bs-target","#moveEligibleIneligible",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                        background-color: #B80003;
                        color: #f8f8f8;
                        font-weight: 540;
                        border-radius: 7px !important;
                      `,"type","button",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                        background-color: #f9383b;
                        color: #f8f8f8;
                        font-weight: 540;
                        border-radius: 7px !important;
                      `,"type","button","disabled","",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
  background-color: #1778ff80;
  color: #fff;
  font-weight: 540;
  border-radius: 7px !important;
`,"type","button","data-bs-toggle","modal","data-bs-target","#recommendModal",3,"disabled","click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
  background-color: #428cf580;
  color: #f8f8f8;
  font-weight: 540;
  border-radius: 7px !important;
`,"type","button","disabled","",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                        background-color: rgba(81, 164, 31, 0.5);
                        color: #fff;
                        font-weight: 540;
                        border-radius: 7px !important;
                      `,"type","button","data-bs-toggle","modal","data-bs-target","#disposalModal",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                        background-color: rgba(81, 164, 31, 0.5);
                        color: #f8f8f8;
                        font-weight: 540;
                        border-radius: 7px !important;
                      `,"disabled","","type","button",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#moveEligibleIneligible",1,"btn","px-2","py-2","me-2",2,"background-color","#B80003","color","#f8f8f8","font-weight","540","border-radius","7px !important",3,"click"],["type","button",1,"btn","px-2","py-2","me-2",2,"background-color","#B80003","color","#f8f8f8","font-weight","540","border-radius","7px !important",3,"click"],["type","button","disabled","",1,"btn","px-2","py-2","me-2",2,"background-color","#f9383b","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["type","button","data-bs-toggle","modal","data-bs-target","#recommendModal",1,"btn","px-2","py-2","me-2",2,"background-color","#1778ff80","color","#fff","font-weight","540","border-radius","7px !important",3,"disabled","click"],["type","button","disabled","",1,"btn","px-2","py-2","me-2",2,"background-color","#428cf580","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["type","button","data-bs-toggle","modal","data-bs-target","#disposalModal",1,"btn","px-2","py-2","me-2",2,"background-color","rgba(81, 164, 31, 0.5)","color","#fff","font-weight","540","border-radius","7px !important",3,"click"],["disabled","","type","button",1,"btn","px-2","py-2","me-2",2,"background-color","rgba(81, 164, 31, 0.5)","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["type","button","disabled","",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540"],[1,"fa","fa-spinner","fa-spin"],["class","btn px-2 py-2","style",`
                             background-color: #ffe8d0;
                             color: #fd7b03;
                             font-weight: 540;
                           `,"type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["aria-current","page",1,"breadcrumb-item","active"],["type","button",1,"btn","btn-light","text-black","fw-regular",3,"click"],["type","button",1,"btn","btn-warning","text-white","fw-bold",3,"click"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"table-responsive","mt-4"],["class","table",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[2,"font-size","14px","font-weight","620"],["style","width: 5%;",4,"ngIf"],[2,"width","5%"],[2,"font-size","14px"],["type","checkbox",3,"checked","change"],["style","color:rgb(255, 149, 0);"],[2,"text-transform","uppercase"],[1,"text-center"],[1,"far","fa-file-alt",3,"routerLink","ngClass","click"],["type","checkbox",2,"cursor","pointer",3,"checked","change"],[2,"color","rgb(255, 149, 0)"],["href","javascript:void(0)",3,"click",4,"ngIf"],[4,"ngIf"],["href","javascript:void(0)",3,"click"],["data-bs-toggle","modal","data-bs-target","#objectionsModal",1,"btn","btn-link","fas","fa-eye",2,"cursor","pointer","color","#007bff","border","none","background","transparent",3,"click"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"mt-6","text-center"],[1,"form-check-label",3,"for"],[1,"form-check"],["class","form-check-input","type","checkbox",3,"checked","change",4,"ngIf"],["class","form-check-input","type","checkbox","checked","","disabled","",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"checked","change"],["type","checkbox","checked","","disabled","",1,"form-check-input"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],["type","button",1,"fas","fa-file",2,"cursor","pointer","color","#007bff",3,"click"],["type","button",1,"btn","btn-primary","px-4",3,"click"],["type","button",1,"btn","btn-primary","px-4"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16,"Village"),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.handleVillageChange(f)}),o(20,"option",16),s(21,"All"),n(),h(22,a1,2,2,"option",17),n()()(),o(23,"div",11)(24,"div",12)(25,"label",13),s(26," FET Date "),o(27,"span",14),s(28,"*"),n()(),o(29,"input",18),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(30,"div",19)(31,"div",20)(32,"div",21)(33,"div",22),s(34," FET Verified List (Non NFSA/SFSS) & Objections "),n(),o(35,"div",23)(36,"div",24)(37,"input",25),x("change",function(f){return l.handleSearchChange(f)}),n(),u(38,"i",26),n(),h(39,_1,10,10)(40,g1,3,0,"button",27)(41,v1,1,1),n()(),o(42,"nav",28)(43,"ol",29)(44,"li",30),s(45),n(),h(46,x1,2,1,"li",31)(47,S1,2,1,"li",31),n()(),o(48,"div",32)(49,"div",33)(50,"div",34),h(51,C1,2,0,"button",35)(52,y1,2,0,"button",36)(53,w1,2,0,"button",35)(54,E1,2,0,"button",36)(55,I1,2,0,"button",35)(56,T1,2,0,"button",35)(57,k1,2,0,"button",35)(58,L1,2,0,"button",35)(59,F1,2,0,"button",36),n()()(),o(60,"div",37)(61,"div",38)(62,"div",39)(63,"span"),s(64,"Total No. of Applications : "),n(),o(65,"span",40),s(66),n()()()(),h(67,D1,3,0,"div",41)(68,cg,3,1),n()(),o(69,"div",42)(70,"div",43)(71,"div",44)(72,"div",45)(73,"h5",46),s(74),n(),u(75,"button",47),n(),o(76,"div",48)(77,"form",49),x("ngSubmit",function(){return l.handleSubmit()}),o(78,"div",50)(79,"div",51)(80,"label",52),s(81,"Application No. :"),n(),u(82,"input",53),n(),o(83,"div",51)(84,"label",54),s(85,"Date :"),n(),u(86,"input",55),n()(),h(87,pg,4,1,"div",56),o(88,"div",57)(89,"label",58),s(90),o(91,"span",14),s(92,"*"),n(),s(93,": "),n(),h(94,fg,6,6,"div",59),n(),o(95,"div",60),h(96,_g,2,0,"button",61)(97,gg,3,0,"button",62),n()()()()()(),o(98,"div",63)(99,"div",64)(100,"div",44)(101,"div",45)(102,"h5",46),s(103,"Objection Disposal Form"),n(),u(104,"button",65),n(),o(105,"div",48)(106,"form",66),x("submit",function(){return l.handleRedressSubmit()}),o(107,"div",67)(108,"label",68),s(109,"Application No. :"),n(),u(110,"input",69),n(),o(111,"div",67)(112,"label",68),s(113,"Date :"),n(),u(114,"input",70),n(),o(115,"div",67)(116,"label",68),s(117,"BLSC Recommendation "),o(118,"span",14),s(119,"*"),n(),s(120," :"),n(),o(121,"div",71)(122,"div",72)(123,"div",73)(124,"input",74),x("change",function(){return l.handleEligibleIneligible()}),n(),o(125,"label",75),s(126,"Eligible For Subhadra"),n(),u(127,"br"),n(),o(128,"div",73)(129,"input",76),x("change",function(){return l.handleEligibleIneligible()}),n(),o(130,"label",77),s(131,"Ineligible For Subhadra"),n(),u(132,"br"),n()(),u(133,"app-form-error",78),n()(),o(134,"div",60)(135,"div",79)(136,"div",80),h(137,bg,2,0,"button",81)(138,vg,3,0),n()()()()()()()(),o(139,"div",82)(140,"div",64)(141,"div",83)(142,"div",45)(143,"h5",84),s(144,"Recommendation Form"),n(),u(145,"button",85),n(),o(146,"div",86)(147,"form",66),x("submit",function(){return l.handleRecomendationSubmit()}),o(148,"div",67)(149,"label",68),s(150,"Recommendation Date :"),n(),u(151,"input",70),n(),o(152,"div",67)(153,"label",68),s(154,"No. of Applications :"),n(),u(155,"input",69),n(),h(156,xg,4,1,"div",87)(157,Sg,4,1,"div",87),o(158,"div",60)(159,"div",79)(160,"div",88),h(161,Cg,2,0,"button",81)(162,yg,3,0),n()()()()()()()(),o(163,"div",89)(164,"div",90)(165,"div",44)(166,"div",45)(167,"h5",46),s(168,"Objection Disposal Form"),n(),u(169,"button",91),n(),o(170,"div",48)(171,"form",92),x("ngSubmit",function(){return l.handleDisposalSubmit()}),o(172,"div",50)(173,"div",51)(174,"label",52),s(175,"Application No. :"),n(),u(176,"input",53),n(),o(177,"div",51)(178,"label",54),s(179,"Date :"),n(),u(180,"input",55),n()(),o(181,"div",50)(182,"div",51)(183,"label",54),s(184,"FET Status :"),n(),o(185,"span"),s(186),n()(),o(187,"div",51)(188,"label",54),s(189,"FET Report :"),n(),o(190,"a",93),x("click",function(){return l.handleFieldVerificationRedirect(l.selectedFieldVerificationId[0])}),n()(),o(191,"div",51)(192,"label",54),s(193,"Objections :"),n(),o(194,"button",94),x("click",function(){return l.openInnerObjectionsModal(l.getApplicationNumber())}),n()()(),o(195,"div",67)(196,"label",95),s(197,"BLSC Recommendation "),o(198,"span",14),s(199,"*"),n(),s(200," :"),n(),o(201,"div",71)(202,"div",72)(203,"div",73)(204,"input",96),x("change",function(){return l.handleEligibleIneligible()})("change",function(){return l.onRecommendationChange("eligible")}),n(),o(205,"label",97),s(206,"Eligible For Subhadra"),n(),u(207,"br"),n(),o(208,"div",73)(209,"input",98),x("change",function(){return l.handleEligibleIneligible()})("change",function(){return l.onRecommendationChange("ineligible")}),n(),o(210,"label",99),s(211,"Ineligible For Subhadra"),n(),u(212,"br"),n()(),u(213,"app-form-error",78),n()(),h(214,Tg,7,2,"div",56),o(215,"div",60)(216,"div",79)(217,"div",80),h(218,kg,2,0,"button",61)(219,Lg,3,0,"button",62),n()()()()()()()(),o(220,"div",100)(221,"div",101)(222,"div",44)(223,"div",45)(224,"h5",102),s(225,"Objections"),n(),o(226,"button",103),x("click",function(){return l.closeObjectionModal()}),n()(),o(227,"div",48)(228,"div",104)(229,"table",105)(230,"thead")(231,"tr")(232,"th"),s(233,"SN"),n(),o(234,"th",106),s(235,"Objection Date"),n(),o(236,"th",106),s(237,"Objection Ref. No."),n(),o(238,"th",106),s(239,"Objection Filed By"),n(),o(240,"th",106),s(241,"Objection Reasons"),n(),o(242,"th",106),s(243,"Objection Details"),n(),o(244,"th",106),s(245,"Status"),n()()(),o(246,"tbody"),h(247,Fg,15,5,"tr",107),n()()()()()()(),o(248,"div",108)(249,"div",109)(250,"div",110)(251,"div",45),u(252,"button",111),n(),o(253,"div",48)(254,"form")(255,"div",50)(256,"div",51)(257,"label",52),s(258,"Application No. :"),n(),u(259,"input",53),n(),o(260,"div",51)(261,"label",54),s(262,"Date :"),n(),u(263,"input",55),n()(),o(264,"div",57)(265,"label",58),s(266),o(267,"span",14),s(268,"*"),n(),s(269,": "),n(),h(270,Dg,4,4,"div",59),n()()()()()(),o(271,"div",112)(272,"div",113)(273,"div",114)(274,"div",115),u(275,"i",116)(276,"h2",117)(277,"p",118),n(),o(278,"div",119)(279,"button",120),x("click",function(){return l.closeModal()}),s(280,"No"),n(),h(281,Ag,2,0,"button",121)(282,Vg,3,0,"ng-template",null,122,ge),n()()()()()),a&2){let c=bt(283),f;d(4),ce("routerLink","/department/portal/approval-module/field-verified/district-stats/gp-stats/",l.district_id,"/",l.block_id,""),d(15),m("value",l.selectedVillage),d(3),m("ngForOf",l.villageList),d(7),m("value",l.selectedDate)("max",l.today),d(8),m("value",l.searchValue),d(2),w(39,l.authService.userDetail.role.id=="5"?39:-1),d(1),w(40,l.isDownloadingInProgress?40:41),d(5),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.gp_nameorWardNo),d(4),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===3),d(1),m("ngIf",l.tab===3),d(1),m("ngIf",l.tab===3),d(7),T(" ",l.totalApplicants,""),d(1),w(67,l.isStatsLoading?67:68),d(7),T(" ",l.moveStatus==="eligible"?"Move to Eligible Form ":"Move to Ineligible Form "," "),d(3),m("formGroup",l.assignFieldOfficerForm),d(5),m("value",l.getApplicationNumber()),d(4),m("value",l.today),d(1),m("ngIf",l.moveStatus=="eligible"),d(3),T(" Reasons for ",l.moveStatus==="eligible"?"Eligibility":"Ineligibility"," "),d(4),m("ngForOf",l.moveStatus==="eligible"?l.reasonsForEligibility.slice().reverse():l.reasonsForInEligibility.slice().reverse()),d(2),m("ngIf",!l.isFormSubmitInProgress),d(1),m("ngIf",l.isFormSubmitInProgress),d(9),m("formGroup",l.redressForm),d(4),m("value",l.getApplicationNumber()),d(4),m("value",l.today),d(19),m("field",l.redressForm.get("recommendFor")),d(4),w(137,l.isFormSubmitInProgress?138:137),d(10),m("formGroup",l.recommedationForm),d(4),m("value",l.today),d(4),m("value",l.totalApplicants),d(1),m("ngIf",l.tab==1),d(1),m("ngIf",l.tab==2),d(4),w(161,l.isFormSubmitInProgress?162:161),d(10),m("formGroup",l.disposalForm),d(5),m("value",l.getApplicationNumber()),d(4),m("value",l.today),d(6),_(l.getFETStatus()),d(4),et("pointer-events",l.selectedFieldVerificationId[0]?"auto":"none"),m("ngClass",_e(64,bo,!l.selectedFieldVerificationId[0])),Ze("aria-disabled",!l.selectedFieldVerificationId[0]),d(23),m("field",l.disposalForm.get("recommendFor")),d(1),m("ngIf",(f=l.disposalForm.get("recommendFor"))==null?null:f.value),d(4),m("ngIf",!l.isFormSubmitInProgress),d(1),m("ngIf",l.isFormSubmitInProgress),d(28),m("ngForOf",l.objectionsList),d(12),m("value",l.fieldVerificationData==null?null:l.fieldVerificationData.application_number),d(4),m("value",l.today),d(3),T(" Reasons for ",l.fieldVerificationData!=null&&l.fieldVerificationData.eligible_reasons?"Eligibility":"Ineligibility",""),d(4),m("ngForOf",l.alreadySelectedReasons),d(6),m("innerHTML",l.getLabel("heading"),at),d(1),m("innerHTML",l.getLabel("body"),at),d(4),m("ngIf",!l.isFormSubmitInProgress)("ngIfElse",c)}},dependencies:[xt,A,P,W,se,Ie,Te,Y,ai,U,le,Fe,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:63%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}.modal-xl[_ngcontent-%COMP%]{max-width:78%}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}@media (max-width: 768px){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;padding:.5rem}}.table-responsive[_ngcontent-%COMP%]{overflow-x:scroll}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}.custom-modal-position[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{top:22%;left:8.5%;transform:translateY(-50%);position:relative}#modal1[_ngcontent-%COMP%]{max-width:80%;left:8.5%}.input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#input_raw[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}#input_raw[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px;border:1px solid #ccc;border-radius:4px;padding:0 10px;font-size:14px;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#fd7b03;box-shadow:0 0 4px #fd7b0380;outline:none}#input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#modal2[_ngcontent-%COMP%]{max-width:80%;top:-22%;left:7.5%}textarea[_ngcontent-%COMP%]{resize:none}"]});let t=r;return t})();var Rt=B(Ht());var rs=B(me());function Pg(t,r){if(t&1){let e=E();o(0,"button",119),x("click",function(){C(e);let a=p(2);return y(a.setmoveStatus("ineligible"))}),s(1," Move to Ineligible "),n()}}function Mg(t,r){if(t&1){let e=E();o(0,"button",120),x("click",function(){C(e);let a=p(2);return y(a.handleMoveBack())}),s(1," Move Back "),n()}}function Rg(t,r){if(t&1){let e=E();o(0,"button",119),x("click",function(){C(e);let a=p(2);return y(a.setmoveStatus("eligible"))}),s(1," Move to Eligible "),n()}}function Og(t,r){if(t&1){let e=E();o(0,"button",120),x("click",function(){C(e);let a=p(2);return y(a.handleMoveBack())}),s(1," Move Back "),n()}}function jg(t,r){t&1&&(o(0,"button",121),s(1," Move to Ineligible "),n())}function Bg(t,r){t&1&&(o(0,"button",121),s(1," Move to Eligible "),n())}function $g(t,r){if(t&1){let e=E();o(0,"button",122),x("click",function(){C(e);let a=p(2);return y(a.openModal())}),s(1,`
Recommend
`),n()}if(t&2){let e=p(2);m("disabled",!e.isAllSelected())}}function Ng(t,r){t&1&&(o(0,"button",123),s(1,`
Recommend
`),n())}function Gg(t,r){if(t&1){let e=E();o(0,"button",124),x("click",function(){C(e);let a=p(2);return y(a.openDisposeModal())}),s(1," Dispose "),n()}}function Wg(t,r){t&1&&(o(0,"button",125),s(1," Dispose "),n())}function zg(t,r){if(t&1&&h(0,Pg,2,0,"button",112)(1,Mg,2,0,"button",113)(2,Rg,2,0,"button",112)(3,Og,2,0,"button",113)(4,jg,2,0,"button",114)(5,Bg,2,0,"button",114)(6,$g,2,1,"button",115)(7,Ng,2,0,"button",116)(8,Gg,2,0,"button",117)(9,Wg,2,0,"button",118),t&2){let e=p();m("ngIf",e.selectedFieldVerificationId.length==1&&e.tab==1&&e.fieldVerificationsList.length>0&&!e.showMoveBackButton()),d(1),m("ngIf",e.selectedFieldVerificationId.length==1&&e.tab==1&&e.fieldVerificationsList.length>0&&e.showMoveBackButton()),d(1),m("ngIf",e.selectedFieldVerificationId.length==1&&e.tab==2&&e.fieldVerificationsList.length>0&&!e.showMoveBackButton()),d(1),m("ngIf",e.selectedFieldVerificationId.length==1&&e.tab==2&&e.fieldVerificationsList.length>0&&e.showMoveBackButton()),d(1),m("ngIf",(e.selectedFieldVerificationId.length==0||e.selectedFieldVerificationId.length>1)&&e.tab==1&&e.fieldVerificationsList.length>0),d(1),m("ngIf",(e.selectedFieldVerificationId.length==0||e.selectedFieldVerificationId.length>1)&&e.tab==2&&e.fieldVerificationsList.length>0),d(1),m("ngIf",e.tab!=3&&e.fieldVerificationsList.length>0&&e.totalApplicants>0),d(1),m("ngIf",e.tab!=3&&e.fieldVerificationsList.length===0&&e.totalApplicants>0),d(1),m("ngIf",e.tab==3&&e.selectedFieldVerificationId.length==1&&e.fieldVerificationsList.length>0),d(1),m("ngIf",(!e.selectedFieldVerificationId.length||e.selectedFieldVerificationId.length>1)&&e.tab==3&&e.fieldVerificationsList.length>0)}}function Ug(t,r){t&1&&(o(0,"button",126),u(1,"i",127),s(2," Downloading.. "),n())}function Hg(t,r){if(t&1){let e=E();o(0,"button",129),x("click",function(){C(e);let a=p(2);return y(a.handleExport())}),u(1,"i",130),s(2,"Download "),n()}}function Yg(t,r){if(t&1&&h(0,Hg,3,0,"button",128),t&2){let e=p();m("ngIf",e.totalApplicants>0)}}function qg(t,r){if(t&1&&(o(0,"li",131),s(1),n()),t&2){let e=p();d(1),_(e.ulb_name)}}function Kg(t,r){if(t&1&&(o(0,"li",131),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function Jg(t,r){if(t&1){let e=E();o(0,"button",132),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," Eligible "),n()}}function Xg(t,r){if(t&1){let e=E();o(0,"button",133),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," Ineligible "),n()}}function Qg(t,r){if(t&1){let e=E();o(0,"button",132),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," Objection "),n()}}function Zg(t,r){if(t&1){let e=E();o(0,"button",133),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," Eligible "),n()}}function eb(t,r){if(t&1){let e=E();o(0,"button",132),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," Ineligible "),n()}}function tb(t,r){if(t&1){let e=E();o(0,"button",132),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," Objection "),n()}}function ib(t,r){if(t&1){let e=E();o(0,"button",132),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," Eligible "),n()}}function nb(t,r){if(t&1){let e=E();o(0,"button",132),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," Ineligible "),n()}}function ob(t,r){if(t&1){let e=E();o(0,"button",133),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," Objection "),n()}}function ab(t,r){t&1&&(o(0,"div",134),u(1,"i",127),s(2," We are fetching the data, please wait. "),n())}function rb(t,r){if(t&1){let e=E();o(0,"th",140)(1,"input",142),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function lb(t,r){if(t&1){let e=E();o(0,"td",140)(1,"input",147),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function sb(t,r){if(t&1){let e=E();o(0,"a",151),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function db(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function cb(t,r){if(t&1&&(o(0,"td",148),h(1,sb,2,1,"a",149)(2,db,2,1,"span",150),n()),t&2){let e=p().$implicit;d(1),m("ngIf",(e==null?null:e.block_or_ulb_status)&&(e==null?null:e.log_status)==1),d(1),m("ngIf",!(e!=null&&e.block_or_ulb_status)||(e==null?null:e.log_status)==0||!e.log_status)}}function mb(t,r){if(t&1){let e=E();o(0,"a",151),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function pb(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function ub(t,r){if(t&1&&(o(0,"td"),h(1,mb,2,1,"a",149)(2,pb,2,1,"span",150),n()),t&2){let e=p().$implicit;d(1),m("ngIf",(e==null?null:e.block_or_ulb_status)&&(e==null?null:e.log_status)==1),d(1),m("ngIf",!(e!=null&&e.block_or_ulb_status)||(e==null?null:e.log_status)==0||!e.log_status)}}var hb="/department/portal/approval-module/field-verified/district-stats/field-verification-report",Ca=t=>[hb,t],vo=t=>({"disabled-link":t});function fb(t,r){if(t&1&&(o(0,"tr"),h(1,lb,2,1,"td",139),o(2,"td"),s(3),n(),h(4,cb,3,2,"td",143)(5,ub,3,2),o(6,"td",144),s(7),n(),o(8,"td",144),s(9),n(),o(10,"td"),s(11),n(),o(12,"td",145)(13,"a",146),x("click",function(i){return i.preventDefault()}),n()()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==7),d(2),_(i+1),d(1),w(4,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?4:5),d(3),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.fv_status_date)),d(2),et("pointer-events",e!=null&&e.id?"auto":"none"),m("routerLink",e!=null&&e.id?_e(11,Ca,+(e==null?null:e.id)):null)("ngClass",_e(13,vo,!(e!=null&&e.id))),Ze("aria-disabled",!(e!=null&&e.id))}}function _b(t,r){if(t&1&&(o(0,"table",94)(1,"thead",138)(2,"tr"),h(3,rb,2,1,"th",139),o(4,"th",140),s(5," SN "),n(),o(6,"th",95),s(7,"Application No."),n(),o(8,"th",95),s(9,"Applicant Name"),n(),o(10,"th",95),s(11,"Father/Husband Name"),n(),o(12,"th",95),s(13,"FET Date"),n(),o(14,"th",95),s(15,"FET Report"),n()()(),o(16,"tbody",141),h(17,fb,14,15,"tr",96),n()()),t&2){let e=p(3);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==7),d(14),m("ngForOf",e.fieldVerificationsList)}}function gb(t,r){if(t&1){let e=E();o(0,"th",140)(1,"input",142),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function bb(t,r){if(t&1){let e=E();o(0,"td",140)(1,"input",147),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function vb(t,r){if(t&1){let e=E();o(0,"a",151),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function xb(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function Sb(t,r){if(t&1&&(o(0,"td",148),h(1,vb,2,1,"a",149)(2,xb,2,1,"span",150),n()),t&2){let e=p().$implicit;d(1),m("ngIf",(e==null?null:e.block_or_ulb_status)&&(e==null?null:e.log_status)==1),d(1),m("ngIf",!(e!=null&&e.block_or_ulb_status)||(e==null?null:e.log_status)==0||!e.log_status)}}function Cb(t,r){if(t&1){let e=E();o(0,"a",151),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function yb(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function wb(t,r){if(t&1&&(o(0,"td"),h(1,Cb,2,1,"a",149)(2,yb,2,1,"span",150),n()),t&2){let e=p().$implicit;d(1),m("ngIf",(e==null?null:e.block_or_ulb_status)&&(e==null?null:e.log_status)==1),d(1),m("ngIf",!(e!=null&&e.block_or_ulb_status)||(e==null?null:e.log_status)==0||!e.log_status)}}function Eb(t,r){if(t&1&&(o(0,"tr"),h(1,bb,2,1,"td",139),o(2,"td"),s(3),n(),h(4,Sb,3,2,"td",143)(5,wb,3,2),o(6,"td",144),s(7),n(),o(8,"td",144),s(9),n(),o(10,"td"),s(11),n(),o(12,"td",145)(13,"a",146),x("click",function(i){return i.preventDefault()}),n()()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==7),d(2),_(i+1),d(1),w(4,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?4:5),d(3),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.fv_status_date)),d(2),et("pointer-events",e!=null&&e.id?"auto":"none"),m("routerLink",e!=null&&e.id?_e(11,Ca,+(e==null?null:e.id)):null)("ngClass",_e(13,vo,!(e!=null&&e.id))),Ze("aria-disabled",!(e!=null&&e.id))}}function Ib(t,r){if(t&1&&(o(0,"table",94)(1,"thead",138)(2,"tr"),h(3,gb,2,1,"th",139),o(4,"th",140),s(5," SN "),n(),o(6,"th",95),s(7,"Application No."),n(),o(8,"th",95),s(9,"Applicant Name"),n(),o(10,"th",95),s(11,"Father/Husband Name"),n(),o(12,"th",95),s(13,"FET Date"),n(),o(14,"th",95),s(15,"FET Report"),n()()(),o(16,"tbody",141),h(17,Eb,14,15,"tr",96),n()()),t&2){let e=p(3);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==7),d(14),m("ngForOf",e.fieldVerificationsList)}}function Tb(t,r){if(t&1){let e=E();o(0,"th",140)(1,"input",142),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function kb(t,r){if(t&1){let e=E();o(0,"td",140)(1,"input",147),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function Lb(t,r){if(t&1&&(o(0,"td",148),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.application_number)}}function Fb(t,r){if(t&1&&(o(0,"td"),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.application_number)}}function Db(t,r){if(t&1){let e=E();o(0,"tr"),h(1,kb,2,1,"td",139),o(2,"td"),s(3),n(),h(4,Lb,2,1,"td",143)(5,Fb,2,1),o(6,"td",144),s(7),n(),o(8,"td",144),s(9),n(),o(10,"td"),s(11),n(),o(12,"td"),s(13),n(),o(14,"td",145)(15,"a",146),x("click",function(a){return a.preventDefault()}),n()(),o(16,"td",145)(17,"button",152),x("click",function(){let l=C(e).$implicit,c=p(4);return y(c.openObjectionsModal(l==null?null:l.application_number))}),n()()()}if(t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==7),d(2),_(i+1),d(1),w(4,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?4:5),d(3),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.fv_status_date)),d(2),_(e==null?null:e.fetStatus),d(2),et("pointer-events",e!=null&&e.id?"auto":"none"),m("routerLink",e!=null&&e.id?_e(12,Ca,+(e==null?null:e.id)):null)("ngClass",_e(14,vo,!(e!=null&&e.id))),Ze("aria-disabled",!(e!=null&&e.id))}}function Ab(t,r){if(t&1&&(o(0,"table",94)(1,"thead",138)(2,"tr"),h(3,Tb,2,1,"th",139),o(4,"th",140),s(5," SN "),n(),o(6,"th",95),s(7,"Application No."),n(),o(8,"th",95),s(9,"Applicant Name"),n(),o(10,"th",95),s(11,"Father/Husband Name"),n(),o(12,"th",95),s(13,"FET Date"),n(),o(14,"th",95),s(15,"FET Status"),n(),o(16,"th",95),s(17,"FET Report"),n(),o(18,"th",95),s(19,"Objections"),n()()(),o(20,"tbody",141),h(21,Db,18,16,"tr",96),n()()),t&2){let e=p(3);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==7),d(18),m("ngForOf",e.fieldVerificationsList)}}function Vb(t,r){t&1&&(o(0,"span"),u(1,"i",127),s(2," Loading..."),n())}function Pb(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function Mb(t,r){if(t&1){let e=E();o(0,"div",153)(1,"button",154),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,Vb,3,0,"span",150)(3,Pb,2,0,"span",150),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function Rb(t,r){if(t&1&&(o(0,"div",135),h(1,_b,18,2,"table",136)(2,Ib,18,2,"table",136)(3,Ab,22,2,"table",136),n(),h(4,Mb,4,2,"div",137)),t&2){let e=p(2);d(1),m("ngIf",e.tab===1),d(1),m("ngIf",e.tab===2),d(1),m("ngIf",e.tab===3),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!==e.totalApplicants)}}function Ob(t,r){t&1&&(o(0,"h5",155),s(1," No Application Found "),n())}function jb(t,r){if(t&1&&(o(0,"div"),h(1,Rb,5,4)(2,Ob,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}function Bb(t,r){if(t&1&&(o(0,"div")(1,"label",156)(2,"label",156),s(3),n()()()),t&2){let e=r.$implicit,i=r.index,a=p(2);d(1),m("for","reason"+i),d(1),m("for","reason"+i),d(1),$e(" ",e.id,". ",a.getDeclarationLabel(e==null?null:e.id)," ")}}function $b(t,r){if(t&1&&(o(0,"div",54)(1,"label",55),s(2," FET Reasons for Ineligibility : "),n(),h(3,Bb,4,4,"div",96),n()),t&2){let e=p();d(3),m("ngForOf",e.ineligibleReasons)}}function Nb(t,r){if(t&1){let e=E();o(0,"input",160),x("change",function(a){C(e);let l=p().$implicit,c=p();return y(c.onReasonChange(a,l.reason_id))}),n()}if(t&2){let e=p().$implicit,i=p();m("checked",i.selectedReasons.includes(e.reason_id))}}function Gb(t,r){t&1&&u(0,"input",161)}function Wb(t,r){if(t&1&&(o(0,"div",157),h(1,Nb,1,1,"input",158)(2,Gb,1,0,"input",159),o(3,"label",156)(4,"label",156),s(5),n()()()),t&2){let e=r.$implicit,i=r.index,a=p();d(1),m("ngIf",a.moveStatus==="ineligible"),d(1),m("ngIf",a.moveStatus==="eligible"),d(1),m("for","reason"+i),d(1),m("for","reason"+i),d(1),$e(" ",i+1,". ",e.eligible_reasons||e.ineligible_reasons," ")}}function zb(t,r){t&1&&(o(0,"button",162),s(1," Move "),n())}function Ub(t,r){t&1&&(o(0,"button",163),s(1," Moving... "),u(2,"i",164),n())}function Hb(t,r){if(t&1&&(o(0,"div",67)(1,"label",68),s(2,"Recommending for Approval :"),n(),u(3,"input",70),n()),t&2){let e=p();d(3),m("value",e.totalApplicants)}}function Yb(t,r){if(t&1&&(o(0,"div",67)(1,"label",68),s(2,"Recommending for Rejection :"),n(),u(3,"input",70),n()),t&2){let e=p();d(3),m("value",e.totalApplicants)}}function qb(t,r){t&1&&(o(0,"button",162),s(1," Recommend "),n())}function Kb(t,r){t&1&&(o(0,"button",165),s(1," Recommending... "),u(2,"i",164),n())}function Jb(t,r){t&1&&u(0,"input",161)}function Xb(t,r){if(t&1){let e=E();o(0,"input",160),x("change",function(a){C(e);let l=p().$implicit,c=p(2);return y(c.onReasonChange(a,l.reason_id))}),n()}if(t&2){let e=p().$implicit,i=p(2);m("checked",i.selectedReasons.includes(e.reason_id))}}function Qb(t,r){if(t&1&&(o(0,"div",157),h(1,Jb,1,0,"input",159)(2,Xb,1,1,"input",158),o(3,"label",156),s(4),n()()),t&2){let e=r.$implicit,i=r.index,a=p(2);d(1),m("ngIf",a.disposalForm.value.recommendFor==="eligible"),d(1),m("ngIf",a.disposalForm.value.recommendFor==="ineligible"),d(1),m("for","reason"+i),d(1),$e(" ",i+1,". ",e.eligible_reasons||e.ineligible_reasons," ")}}function Zb(t,r){if(t&1&&(o(0,"div",54)(1,"label",55),s(2),o(3,"span",14),s(4,"*"),n(),s(5,": "),n(),h(6,Qb,5,5,"div",56),n()),t&2){let e=p();d(2),T(" Reasons for ",e.disposalForm.value.recommendFor==="eligible"?"Eligibility":"Ineligibility",""),d(4),m("ngForOf",e.disposalForm.value.recommendFor==="eligible"?e.reasonsForEligibility.slice().reverse():e.reasonsForInEligibility.slice().reverse())}}function ev(t,r){t&1&&(o(0,"button",162),s(1," Dispose "),n())}function tv(t,r){t&1&&(o(0,"button",163),s(1," Disposing... "),u(2,"i",164),n())}function iv(t,r){if(t&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td",145)(12,"a",166),x("click",function(){let l=C(e).$implicit,c=p();return y(c.handleRedirect(l==null?null:l.grievance_ref_no))}),n()(),o(13,"td"),s(14,"Pending"),n()()}if(t&2){let e=r.$implicit,i=r.index,a=p();d(2),_(i+1),d(2),_(a.appService.dateFormat(e.created_at)),d(2),T("GR-",e.grievance_ref_no,""),d(2),_(e.submitted_by),d(2),_(a.getGrievanceTypeName(e.grievance_remark_type_id))}}function nv(t,r){if(t&1&&(o(0,"div",157)(1,"label",156)(2,"label",156),s(3),n()()()),t&2){let e=r.$implicit,i=r.index;d(1),m("for","reason"+i),d(1),m("for","reason"+i),d(1),$e(" ",i+1,". ",e.eligible_reasons||e.ineligible_reasons," ")}}function ov(t,r){if(t&1){let e=E();o(0,"button",167),x("click",function(){C(e);let a=p();return y(a.handleRecommendApprove())}),s(1,"Yes"),n()}}function av(t,r){t&1&&(o(0,"button",168),s(1," Yes "),u(2,"i",164),n())}var ya=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F,L,N){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.router=F,this.paginationService=L,this.sanitizer=N,this.displayReasons=!1,this.reasonsForEligibility=[{reason_id:"13",eligible_reasons:"She is alive."},{reason_id:"12",eligible_reasons:"She is a female."},{reason_id:"11",eligible_reasons:"Her family\u2019s income is not more than Rs. 2.50 lakhs."},{reason_id:"10",eligible_reasons:"Her family does not owns a four-wheeler motor vehicle."},{reason_id:"9",eligible_reasons:"Her family does not owns more than 5 acres of irrigated or 10 acres of non-irrigated land."},{reason_id:"8",eligible_reasons:"She or any family member is not a member in a Govt. PSU/Board/Organization."},{reason_id:"7",eligible_reasons:"She or any family member is not employed with a Govt. Organization or receiving pension."},{reason_id:"6",eligible_reasons:"She or any family member is not an elected representative in an ULB/PRI."},{reason_id:"5",eligible_reasons:"She or any family member is not an Income Tax Payee."},{reason_id:"4",eligible_reasons:"She or any family member is not a current/former MP or MLA."},{reason_id:"3",eligible_reasons:"She does not receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Govt."},{reason_id:"2",eligible_reasons:"She is 21 years or above and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"1",eligible_reasons:"She is a resident of Odisha."}],this.reasonsForInEligibility=[{reason_id:"32",ineligible_reasons:"She is not alive."},{reason_id:"31",ineligible_reasons:"She is not a female."},{reason_id:"30",ineligible_reasons:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{reason_id:"29",ineligible_reasons:"Her family owns a four-wheeler motor vehicle."},{reason_id:"28",ineligible_reasons:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{reason_id:"27",ineligible_reasons:"She or a family member is a member in a Government PSU/Board/Organization."},{reason_id:"26",ineligible_reasons:"She or a family member is employed with a Government Organization or receives a pension."},{reason_id:"25",ineligible_reasons:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{reason_id:"24",ineligible_reasons:"She or a family member is an Income Tax Payee."},{reason_id:"23",ineligible_reasons:"She or a family member is a current/former MP or MLA."},{reason_id:"22",ineligible_reasons:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{reason_id:"21",ineligible_reasons:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"20",ineligible_reasons:"She is not a resident of Odisha."}],this.reasonsList=[],this.alreadySelectedReasons=[],this.fieldVerificationData="",this.selectedReasons=[],this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.proceedingList=[],this.isStatsLoading=!1,this.selectAll=!1,this.isDownloadingInProgress=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.recommendConfirmationModalstage=1,this.isDataLoading=!1,this.objectionsList=[],this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.ulb_name="",this.exportInProgress=!1,this.ulb_id="",this.ineligibleReasons=[],this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({reasons:this.fb.group({})}),this.recommedationForm=this.fb.group({}),this.disposalForm=this.fb.group({reasons:this.fb.group({}),recommendFor:["",k.required]})}setTab(i){this.tab=i,this.page=1,this.selectedFieldVerificationId=[],this.searchValue="",this.selectedCategory="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.router.navigate([],{relativeTo:this.route,queryParams:{tab:i},queryParamsHandling:"merge"}),this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&this.tab==1&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.tab=1,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate))}isSelectedInRandomList(i){return!!(Number(i)==1&&Oe?.consent_random_list_change)}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}let a=`/proceeding/list?ulb_id=${this.ulb_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDownloadingInProgress=!1,this.proceedingList=l.data},l=>{this.isDownloadingInProgress=!1,console.error("File download failed:",l)})}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetForms();return}this.selectedImage=a}setSmallselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=600*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 600 Kb."),this.resetForms();return}this.selectedImage=a}resetForms(){this.selectedImage="",this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.disposalForm.patchValue({document:""}),this.assignFieldOfficerForm.patchValue({remarks:"",meetingDate:"",reasons:""}),this.assignFieldOfficerForm.get("reasons")&&this.assignFieldOfficerForm.get("reasons").reset(),this.recommedationForm.updateValueAndValidity(),this.disposalForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedReasons=[]}setmoveStatus(i){this.moveStatus=i,this.assignFieldOfficerForm.patchValue({remarks:"",meetingDate:"",reasons:""}),i=="eligible"?(this.selectedReasons=this.reasonsForEligibility.map(a=>a?.reason_id),this.fetchFieldVerificationDetails()):this.selectedReasons=[],this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.assignFieldOfficerForm)}fetchFieldVerificationDetails(){let i=`${this.appService.departmentBaseUrl}/v1/fv-completed-details?fvId=${this.selectedFieldVerificationId[0]}`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{let l=a.data[0],c=JSON.parse(l.declaration_ids);c&&(this.ineligibleReasons=c?.filter(f=>f.status==0))},a=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}getDeclarationLabel(i){return[{id:1,remark:"She is not a resident of Odisha."},{id:2,remark:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{id:3,remark:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{id:4,remark:"She or a family member is a current/former MP or MLA."},{id:5,remark:"She or a family member is an Income Tax Payee."},{id:6,remark:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{id:7,remark:"She or a family member is employed with a Government Organization or receives a pension."},{id:8,remark:"She or a family member is a member in a Government PSU/Board/Organization."},{id:9,remark:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{id:10,remark:"Her family owns a four-wheeler motor vehicle."},{id:11,remark:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{id:12,remark:"She is not a female."},{id:13,remark:"She is not alive."}].find(l=>Number(l?.id)===Number(i))?.remark}openModal(){this.disposalForm.patchValue({remarks:"",reasons:"",recommendFor:"",meetingDate:""}),this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.assignFieldOfficerForm.patchValue({remarks:"",meetingDate:"",reasons:""}),this.selectedImage="",this.disposalForm.updateValueAndValidity(),this.recommedationForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.resetTouchedStatus(this.disposalForm),this.resetTouchedStatus(this.recommedationForm),this.resetTouchedStatus(this.assignFieldOfficerForm)}openDisposeModal(){this.disposalForm.patchValue({remarks:"",reasons:"",recommendFor:"",meetingDate:""}),this.disposalForm.updateValueAndValidity(),this.resetTouchedStatus(this.disposalForm);let i=document.getElementById("disposalModal");i&&(j.getInstance(i)||new j(i)).show()}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.ward_id=i.ward_id,this.ulb_id=i.ulb_id,this.district_id=i.district_id,this.district_name=$.data.find(l=>l?.id==this.district_id)?.district_name,this.ulb_name=he.data.find(l=>l?.id==this.ulb_id)?.ulb_name,this.gp_nameorWardNo=He.data.find(l=>String(l?.id)===this.ward_id)?.ward_no,this.route.queryParams.subscribe(l=>{l.tab?this.tab=Number(l.tab):(this.tab=1,this.router.navigate([],{relativeTo:this.route,queryParams:{tab:1},queryParamsHandling:"merge"}));let c=this.paginationService.getData("ward_id",this.ward_id,this.tab==1?"FieldVerifiedEligibleTab":this.tab==2?"FieldVerifiedIneligibleTab":"FieldVerifiedHoldTab",this.authService.userDetail.demography_id);!c&&this.tab==1?this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus):(this.fieldVerificationsList=c.data,this.page=c.page,this.totalApplicants=c.totalCount)})}),this.today=(0,rs.default)().format("YYYY-MM-DD")}goBack(){this.location.back()}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("recommendationConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("recommendModal");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){let a="";return i=="heading"&&(a=this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?"),i=="body"&&(a=this.recommendConfirmationModalstage==1?`You have selected <b>${this.totalApplicants}</b> application(s) to be recommended for ${this.tab==1?"Approval":"Rejection"}. Are you sure to proceed ahead with these application(s) ?`:`<b>${this.totalApplicants}</b> no. of applications recommended for ${this.tab==1?"Approval":"Rejection"} are matching up with the proceedings of BLSC/ULSC/MLSC. <b  style="color:red;">This decision is final and no further changes can be made</b>.`),this.sanitizer.bypassSecurityTrustHtml(a)}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}document.getElementById("recommendFormClose")?.click();let a=document.getElementById("recommendationConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}getFETStatus(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.fetStatus:""}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.recommedationForm.value,a=new FormData;a.append("category","1"),a.append("ward_id",this.ward_id);let l="";this.tab==2&&(l="/v1/recommend-fv-for-ineligible"),this.tab==1&&(l="/v1/recommend-fv-for-eligible"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message);let f=document.getElementById("recommendationConfirmationModal");f&&((j.getInstance(f)||new j(f)).hide(),document.getElementById("recommendFormClose")?.click()),this.recommendConfirmationModalstage=1,this.selectedFieldVerificationId=[],this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}handleEligibleIneligible(){this.disposalForm.get("recommendFor")?.value=="eligible"?this.selectedReasons=this.reasonsForEligibility.slice().reverse()?.map(a=>a?.reason_id):this.selectedReasons=[]}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/provisional-published-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}return J(H({},I),{fetStatus:F})}),this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,1,this.tab==1?"FieldVerifiedEligibleTab":this.tab==2?"FieldVerifiedIneligibleTab":"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,v.totalCount),this.eligibleCount=v.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/provisional-published-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}return J(H({},L),{fetStatus:N})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F],this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,this.page,this.tab==1?"FieldVerifiedEligibleTab":this.tab==2?"FieldVerifiedIneligibleTab":"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,I.totalCount)}this.eligibleCount=I.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}handleSubmit(){if(this.assignFieldOfficerForm.invalid){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}if(!this.selectedReasons.length){this.toastService.error("Please select reasons to move.");return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);if(!a){this.toastService.error("Selected field verification details are missing.");return}Rt.default.fire({title:"Are You Sure ?",html:`You want to move <b>${a.applicant_name}</b>, from ${this.tab===2?"<b>Ineligible</b>":"<b>Eligible</b>"} to ${this.tab===2?"<b>Eligible</b>":"<b>Ineligible</b>"}.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Rt.default.showLoading();let l=new FormData;l.append("application_id",a?.application_id||""),l.append("field_verification_id",a?.id||""),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="eligible"?"3":"4"),this.moveStatus==="eligible"?l.append("eligible_reasons",this.selectedReasons.join(",")):l.append("ineligible_reasons",this.selectedReasons.join(",")),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/move-field-verification-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("BtnClose")?.click(),this.resetFormState(),this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1)),this.resetForms()},c=>{this.isFormSubmitInProgress=!1;let f=c?.error?.message||"An error occurred while processing your request.";this.toastService.error(f),this.resetForms()})}}).then(l=>{l.dismiss,Rt.default.DismissReason.cancel})}fetchApplicationListTabWise(i,a,l,c,f,S){this.page=1;let g=`/v1/provisional-published-list?isAll=0&type=${S==1?"eligible":S==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{let I=v.data.map(F=>{let L="";switch(F.fv_status){case"1":L="Eligible";break;case"0":case"3":L="Ineligible";break;default:L="N/A"}return J(H({},F),{fetStatus:L})});this.paginationService.setData("ward_id",this.ward_id,I,1,S==1?"FieldVerifiedEligibleTab":S==2?"FieldVerifiedIneligibleTab":"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,v.totalCount)},v=>{this.isStatsLoading=!1})}handleDisposalSubmit(){if(this.disposalForm.invalid){this.formService.triggerFormValidation(this.disposalForm);return}if(!this.selectedReasons?.length){this.toastService.error("Please select reason to dispose");return}let i=this.disposalForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);Rt.default.fire({title:"Are You sure ?",html:`You want to dispose the application of <b>${a.applicant_name}</b> as ${i.recommendFor==="eligible"?"<b>Eligible</b>":"<b>Ineligible</b>"} for Subhadra.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Rt.default.showLoading();let l=new FormData;if(l.append("status",i.recommendFor),l.append("application_id",a?.application_id),l.append("ward_id",this.ward_id),l.append("category","1"),i.recommendFor==="eligible")if(this.selectedReasons&&this.selectedReasons.length>0)l.append("eligible_reasons",this.selectedReasons.join(","));else{this.toastService.error("Please select valid reasons for eligibility."),this.isFormSubmitInProgress=!1;return}else if(i.recommendFor==="ineligible")if(this.selectedReasons&&this.selectedReasons.length>0)l.append("ineligible_reasons",this.selectedReasons.join(","));else{this.toastService.error("Please select valid reasons for ineligibility."),this.isFormSubmitInProgress=!1;return}this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/redress-objected-application`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("disposeModalClose")?.click(),Rt.default.close(),this.selectedFieldVerificationId=[],this.disposalForm.patchValue({remarks:"",reasons:"",recommendFor:"",meetingDate:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.resetForms()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message),this.resetForms()})}}).then(l=>{l.dismiss,Rt.default.DismissReason.cancel})}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(){this.isDownloadingInProgress=!0,this.page=1;let i=`/v1/provisional-published-list-pdf?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.searchValue&&(i+=`&search=${this.searchValue}`),this.selectedVillage&&(i+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(i+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(i+=`&fv_status=${this.selectedStatus}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.isDownloadingInProgress=!1,this.downloadFile(a,this.tab==1?"eligible_application.pdf":this.tab==2?"ineligible_application.pdf":"objected_applications.pdf")},a=>{this.isDownloadingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=[i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}openObjectionsModal(i){if(!i){console.error("Application number is required");return}let a=`${this.appService.departmentBaseUrl}/v1/objection-list/by-application-number?application_number=${i}`;this.isDataLoading=!0,this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDataLoading=!1,this.objectionsList=l.data||[]},l=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}openInnerObjectionsModal(i){if(!i){console.error("Application number is required");return}let a=document.getElementById("disposeModalClose");if(a){a?.click();let c=document.getElementById("objectionsModal");(j.getInstance(c)||new j(c,{backdrop:"static",keyboard:!1})).show()}let l=`${this.appService.departmentBaseUrl}/v1/objection-list/by-application-number?application_number=${i}`;this.isDataLoading=!0,this.httpClient.get(l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isDataLoading=!1,this.objectionsList=c.data||[]},c=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}closeObjectionModal(){let i=document.getElementById("objectionsModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.querySelector(".modal-backdrop");l&&l.remove()}}openinnerObjectionsModal(i){if(!i){console.error("Application number is required");return}let a=`${this.appService.departmentBaseUrl}/v1/objection-list/by-application-number?application_number=${i}`;this.isDataLoading=!0,this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDataLoading=!1,this.objectionsList=l.data||[]},l=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}onReasonChange(i,a){if(i.target.checked)this.selectedReasons.push(a);else{let l=this.selectedReasons.indexOf(a);l!==-1&&this.selectedReasons.splice(l,1)}}resetFormState(){this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.reset({remarks:"",meetingDate:""}),this.selectedImage=null}onRecommendationChange(i){this.displayReasons=!0,i!==this.disposalForm.value.recommendFor&&this.disposalForm.reset()}showMoveBackButton(){if(this.selectedFieldVerificationId[0]){let i=this.fieldVerificationsList.find(a=>a.id===this.selectedFieldVerificationId[0]);return!!(i?.block_or_ulb_status&&i?.log_status==1)}return!1}getGrievanceTypeName(i){let a=[{id:1,reason:"Unable to submit application"},{id:2,reason:"Application status not updated"},{id:3,reason:"Application details incorrect"},{id:4,reason:"Application details incorrect"},{id:5,reason:"Application details incorrect"},{id:6,reason:"Verification Pending*"},{id:7,reason:"Wrongly marked ineligible/rejected & appeal against rejection"},{id:8,reason:"Haven\u2019t received the benefit yet"},{id:9,reason:"Wrongly marked eligible & appeal against approval"},{id:10,reason:"Benefit transferred to ineligible applicant"},{id:11,reason:"Benefit transferred to non-applicant"},{id:12,reason:"Application details incorrect"},{id:13,reason:"Application details incorrect"},{id:14,reason:"Application details incorrect"},{id:15,reason:"Application details incorrect"},{id:16,reason:"Application details incorrect"},{id:17,reason:"Application details incorrect"}];return i?a?.find(l=>l?.id==i)?.reason:"N/A"}handleRedirect(i){let a=`/department/portal/department-grievance/grievance-aadhar-verify/user-grievance-details/${i}`;window.open(a,"_blank")}handleFieldVerificationRedirect(i){let a=`/department/portal/approval-module/field-verified/district-stats/field-verification-report/${i}`;window.open(a,"_blank")}handleMoveBack(){let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);Rt.default.fire({title:"Are You sure ?",html:`You want to move <b>${i.applicant_name}</b> back to ${this.tab==1?"Ineligible":"Eligible"}.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Rt.default.showLoading(),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/revert-field-verification-status-log?log_id=${i?.log_id}`,{},{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.isFormSubmitInProgress=!1,this.toastService.success(a.message),Rt.default.close(),this.resetFormState(),this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1)),this.resetForms()},a=>{this.isFormSubmitInProgress=!1;let l=a?.error?.message||"An error occurred while processing your request.";this.toastService.error(l),this.resetForms()})}}).then(a=>{a.dismiss,Rt.default.DismissReason.cancel})}openHyperlinkModal(i){let a=`${this.appService.departmentBaseUrl}/v1/field-verification/move-log?field_verification_id=${i}`;this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fieldVerificationData=J(H({},l),{application_number:this.fieldVerificationsList.find(g=>g.application_id==l?.application_id)?.application_number});let c=[];this.fieldVerificationData?.eligible_reasons&&(c=this.fieldVerificationData?.eligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForEligibility.filter(g=>c.includes(g.reason_id))),this.fieldVerificationData?.ineligible_reasons&&(c=this.fieldVerificationData?.ineligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForInEligibility.filter(g=>c.includes(g.reason_id))),document.getElementById("hyperlinkModalClose")?.click();let S=document.getElementById("hyperlinkModal");S?new j(S).show():console.error("Modal element 'hyperlinkModal' not found.")},l=>{console.error("Error fetching data:",l)})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(Ne),b(fe),b(Lt))},r.\u0275cmp=D({type:r,selectors:[["app-ward-field-verified-list"]],decls:233,vars:59,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["class","btn px-2 py-2","style",`
                   background-color: #ffe8d0;
                   color: #fd7b03;
                   font-weight: 540;
                 `,"type","button","disabled",""],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"d-flex","justify-content-between","pr-5"],[1,"col-md-8","row","mt-3","mb-3"],[1,"col-md-3","text-sm","d-flex","gap-2"],["type","button","class","btn btn-light text-black fw-regular",3,"click",4,"ngIf"],["type","button","class","btn btn-warning text-white fw-bold",3,"click",4,"ngIf"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["id","moveEligibleIneligible","tabindex","-1","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["id","modal1",1,"modal-dialog","modal-dialog-centered",2,"max-width","60%","left","0%"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","BtnClose",1,"btn-close"],[1,"modal-body",2,"max-height","70vh","overflow-y","scroll"],[3,"formGroup","ngSubmit"],[1,"d-flex","gap-3"],["id","input_raw",1,"mb-3","input_raw","flex-grow-1"],["for","applicationNo",1,"form-label"],["type","text","id","applicationNo","disabled","",1,"form-control",3,"value"],["for","date",1,"form-label"],["type","date","id","date","disabled","",1,"form-control",3,"value"],["class","mb-3",4,"ngIf"],[1,"mb-3"],[1,"form-label","fw-bold"],["class","form-check",4,"ngFor","ngForOf"],[1,"modal-footer","d-flex","justify-content-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center",4,"ngIf"],["type","button","disabled","","class","btn bg-btn d-flex justify-content-center align-items-center",4,"ngIf"],["id","recommendModal","tabindex","-1","aria-labelledby","recommendModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh"],["id","recommendModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","id","recommendFormClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],["class","mb-3 input_raw",4,"ngIf"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],["id","disposalModal","tabindex","-1","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","id","disposeModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["id","myForm",3,"formGroup","ngSubmit"],["type","button",1,"far","fa-file-alt",3,"ngClass","click"],["type","button",1,"btn","btn-link","fas","fa-eye","text-left",2,"cursor","pointer","color","#007bff","border","none","background","transparent","text-align","left",3,"click"],["for","recommendFor",1,"form-label"],[1,"d-flex","flex-column","gap-1","w-100"],[1,"d-flex","flex-column","gap-3","align-items-start",2,"gap","28px"],[1,"d-flex","gap-2"],["type","radio","id","recommendForEligible","formControlName","recommendFor","name","recommendFor","value","eligible",1,"radio-green",3,"change"],["for","recommendForEligible",2,"color","green"],["type","radio","id","recommendForIneligible","formControlName","recommendFor","name","recommendFor","value","ineligible",3,"change"],["for","recommendForIneligible",2,"color","red"],[3,"field"],["id","objectionsModal","tabindex","-1","aria-labelledby","objectionsModalLabel","aria-hidden","true",1,"modal","fade","custom-modal-position"],[1,"modal-dialog","modal-xl",2,"max-width","70%","left","0%"],["id","objectionsModalLabel",1,"modal-title",2,"color","#fd7b03","width","100%","text-align","center"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","objectionModalClose",1,"btn-close",3,"click"],[1,"table-responsive"],[1,"table"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],["id","hyperlinkModal","tabindex","-1","aria-labelledby","hyperlinkModalLabel","aria-hidden","true",1,"modal","fade"],["id","modal2",1,"modal-dialog","modal-dialog-centered",2,"max-width","60%","left","0%"],[1,"modal-content",2,"margin-top","150px"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","hyperlinkModalClose",1,"btn-close"],["id","recommendationConfirmationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-warning"],[1,"modal-content","shadow-lg"],[1,"modal-body","text-center","py-4",2,"display","flex","flex-direction","column","gap","15px"],[1,"fa-solid","fa-circle-exclamation","fa-3x","text-warning","mb-3",2,"color","#ff9003"],["id","exampleModalLongTitle",1,"modal-title",3,"innerHTML"],[1,"mb-0",3,"innerHTML"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","px-4",3,"click"],["type","button","class","btn btn-primary px-4",3,"click",4,"ngIf","ngIfElse"],["loadingButton",""],["class","btn px-2 py-2 me-2","style",`
                      background-color: #B80003;
                      color: #f8f8f8;
                      font-weight: 540;
                      border-radius: 7px !important;
                    `,"type","button","data-bs-toggle","modal","data-bs-target","#moveEligibleIneligible",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                      background-color: #B80003;
                      color: #f8f8f8;
                      font-weight: 540;
                      border-radius: 7px !important;
                    `,"type","button",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                      background-color: #f9383b;
                      color: #f8f8f8;
                      font-weight: 540;
                      border-radius: 7px !important;
                    `,"type","button","disabled","",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
background-color: #1778ff80;
color: #fff;
font-weight: 540;
border-radius: 7px !important;
`,"type","button","data-bs-toggle","modal","data-bs-target","#recommendModal",3,"disabled","click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
background-color: #428cf580;
color: #f8f8f8;
font-weight: 540;
border-radius: 7px !important;
`,"type","button","disabled","",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                      background-color: rgba(81, 164, 31, 0.5);
                      color: #fff;
                      font-weight: 540;
                      border-radius: 7px !important;
                    `,"type","button","data-bs-toggle","modal","data-bs-target","#disposalModal",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                      background-color: rgba(81, 164, 31, 0.5);
                      color: #f8f8f8;
                      font-weight: 540;
                      border-radius: 7px !important;
                    `,"disabled","","type","button",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#moveEligibleIneligible",1,"btn","px-2","py-2","me-2",2,"background-color","#B80003","color","#f8f8f8","font-weight","540","border-radius","7px !important",3,"click"],["type","button",1,"btn","px-2","py-2","me-2",2,"background-color","#B80003","color","#f8f8f8","font-weight","540","border-radius","7px !important",3,"click"],["type","button","disabled","",1,"btn","px-2","py-2","me-2",2,"background-color","#f9383b","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["type","button","data-bs-toggle","modal","data-bs-target","#recommendModal",1,"btn","px-2","py-2","me-2",2,"background-color","#1778ff80","color","#fff","font-weight","540","border-radius","7px !important",3,"disabled","click"],["type","button","disabled","",1,"btn","px-2","py-2","me-2",2,"background-color","#428cf580","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["type","button","data-bs-toggle","modal","data-bs-target","#disposalModal",1,"btn","px-2","py-2","me-2",2,"background-color","rgba(81, 164, 31, 0.5)","color","#fff","font-weight","540","border-radius","7px !important",3,"click"],["disabled","","type","button",1,"btn","px-2","py-2","me-2",2,"background-color","rgba(81, 164, 31, 0.5)","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["type","button","disabled","",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540"],[1,"fa","fa-spinner","fa-spin"],["class","btn px-2 py-2","style",`
                   background-color: #ffe8d0;
                   color: #fd7b03;
                   font-weight: 540;
                 `,"type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["aria-current","page",1,"breadcrumb-item","active"],["type","button",1,"btn","btn-light","text-black","fw-regular",3,"click"],["type","button",1,"btn","btn-warning","text-white","fw-bold",3,"click"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"table-responsive","mt-4"],["class","table",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[2,"font-size","14px","font-weight","620"],["style","width: 5%;",4,"ngIf"],[2,"width","5%"],[2,"font-size","14px"],["type","checkbox",3,"checked","change"],["style","color:rgb(255, 149, 0);"],[2,"text-transform","uppercase"],[1,"text-center"],[1,"far","fa-file-alt",3,"routerLink","ngClass","click"],["type","checkbox",2,"cursor","pointer",3,"checked","change"],[2,"color","rgb(255, 149, 0)"],["href","javascript:void(0)",3,"click",4,"ngIf"],[4,"ngIf"],["href","javascript:void(0)",3,"click"],["data-bs-toggle","modal","data-bs-target","#objectionsModal",1,"btn","btn-link","fas","fa-eye",2,"cursor","pointer","color","#007bff","border","none","background","transparent",3,"click"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"mt-6","text-center"],[1,"form-check-label",3,"for"],[1,"form-check"],["class","form-check-input","type","checkbox",3,"checked","change",4,"ngIf"],["class","form-check-input","type","checkbox","checked","","disabled","",4,"ngIf"],["type","checkbox",1,"form-check-input",3,"checked","change"],["type","checkbox","checked","","disabled","",1,"form-check-input"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],["type","button",1,"fas","fa-file",2,"cursor","pointer","color","#007bff",3,"click"],["type","button",1,"btn","btn-primary","px-4",3,"click"],["type","button",1,"btn","btn-primary","px-4"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16," FET Date "),o(17,"span",14),s(18,"*"),n()(),o(19,"input",15),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19),s(24," FET Verified List (Non NFSA/SFSS) & Objections "),n(),o(25,"div",20)(26,"div",21)(27,"input",22),x("change",function(f){return l.handleSearchChange(f)}),n(),u(28,"i",23),n(),h(29,zg,10,10)(30,Ug,3,0,"button",24)(31,Yg,1,1),n()(),o(32,"nav",25)(33,"ol",26)(34,"li",27),s(35),n(),h(36,qg,2,1,"li",28)(37,Kg,2,1,"li",28),n()(),o(38,"div",29)(39,"div",30)(40,"div",31),h(41,Jg,2,0,"button",32)(42,Xg,2,0,"button",33)(43,Qg,2,0,"button",32)(44,Zg,2,0,"button",33)(45,eb,2,0,"button",32)(46,tb,2,0,"button",32)(47,ib,2,0,"button",32)(48,nb,2,0,"button",32)(49,ob,2,0,"button",33),n()()(),o(50,"div",34)(51,"div",35)(52,"div",36)(53,"span"),s(54,"Total No. of Applications : "),n(),o(55,"span",37),s(56),n()()()(),h(57,ab,3,0,"div",38)(58,jb,3,1),n()(),o(59,"div",39)(60,"div",40)(61,"div",41)(62,"div",42)(63,"h5",43),s(64),n(),u(65,"button",44),n(),o(66,"div",45)(67,"form",46),x("ngSubmit",function(){return l.handleSubmit()}),o(68,"div",47)(69,"div",48)(70,"label",49),s(71,"Application No. :"),n(),u(72,"input",50),n(),o(73,"div",48)(74,"label",51),s(75,"Date :"),n(),u(76,"input",52),n()(),h(77,$b,4,1,"div",53),o(78,"div",54)(79,"label",55),s(80),o(81,"span",14),s(82,"*"),n(),s(83,": "),n(),h(84,Wb,6,6,"div",56),n(),o(85,"div",57),h(86,zb,2,0,"button",58)(87,Ub,3,0,"button",59),n()()()()()(),o(88,"div",60)(89,"div",61)(90,"div",62)(91,"div",42)(92,"h5",63),s(93,"Recommendation Form"),n(),u(94,"button",64),n(),o(95,"div",65)(96,"form",66),x("submit",function(){return l.handleRecomendationSubmit()}),o(97,"div",67)(98,"label",68),s(99,"Recommendation Date :"),n(),u(100,"input",69),n(),o(101,"div",67)(102,"label",68),s(103,"No. of Applications :"),n(),u(104,"input",70),n(),h(105,Hb,4,1,"div",71)(106,Yb,4,1,"div",71),o(107,"div",57)(108,"div",72)(109,"div",73),h(110,qb,2,0,"button",74)(111,Kb,3,0),n()()()()()()()(),o(112,"div",75)(113,"div",40)(114,"div",41)(115,"div",42)(116,"h5",43),s(117,"Objection Disposal Form"),n(),u(118,"button",76),n(),o(119,"div",45)(120,"form",77),x("ngSubmit",function(){return l.handleDisposalSubmit()}),o(121,"div",47)(122,"div",48)(123,"label",49),s(124,"Application No. :"),n(),u(125,"input",50),n(),o(126,"div",48)(127,"label",51),s(128,"Date :"),n(),u(129,"input",52),n()(),o(130,"div",47)(131,"div",48)(132,"label",51),s(133,"FET Report :"),n(),o(134,"a",78),x("click",function(){return l.handleFieldVerificationRedirect(l.selectedFieldVerificationId[0])}),n()(),o(135,"div",48)(136,"label",51),s(137,"FET Status :"),n(),o(138,"span"),s(139),n()(),o(140,"div",48)(141,"label",51),s(142,"Objections :"),n(),o(143,"button",79),x("click",function(){return l.openInnerObjectionsModal(l.getApplicationNumber())}),n()()(),o(144,"div",67)(145,"label",80),s(146,"ULSC Recommendation "),o(147,"span",14),s(148,"*"),n(),s(149," :"),n(),o(150,"div",81)(151,"div",82)(152,"div",83)(153,"input",84),x("change",function(){return l.handleEligibleIneligible()})("change",function(){return l.onRecommendationChange("eligible")}),n(),o(154,"label",85),s(155,"Eligible For Subhadra"),n(),u(156,"br"),n(),o(157,"div",83)(158,"input",86),x("change",function(){return l.handleEligibleIneligible()})("change",function(){return l.onRecommendationChange("ineligible")}),n(),o(159,"label",87),s(160,"Ineligible For Subhadra"),n(),u(161,"br"),n()(),u(162,"app-form-error",88),n()(),h(163,Zb,7,2,"div",53),o(164,"div",57)(165,"div",72)(166,"div",73),h(167,ev,2,0,"button",58)(168,tv,3,0,"button",59),n()()()()()()()(),o(169,"div",89)(170,"div",90)(171,"div",41)(172,"div",42)(173,"h5",91),s(174,"Objections"),n(),o(175,"button",92),x("click",function(){return l.closeObjectionModal()}),n()(),o(176,"div",45)(177,"div",93)(178,"table",94)(179,"thead")(180,"tr")(181,"th"),s(182,"SN"),n(),o(183,"th",95),s(184,"Objection Date"),n(),o(185,"th",95),s(186,"Objection Ref. No."),n(),o(187,"th",95),s(188,"Objection Filed By"),n(),o(189,"th",95),s(190,"Objection Reasons"),n(),o(191,"th",95),s(192,"Objection Details"),n(),o(193,"th",95),s(194,"Status"),n()()(),o(195,"tbody"),h(196,iv,15,5,"tr",96),n()()()()()()(),o(197,"div",97)(198,"div",98)(199,"div",99)(200,"div",42),u(201,"button",100),n(),o(202,"div",45)(203,"form")(204,"div",47)(205,"div",48)(206,"label",49),s(207,"Application No. :"),n(),u(208,"input",50),n(),o(209,"div",48)(210,"label",51),s(211,"Date :"),n(),u(212,"input",52),n()(),o(213,"div",54)(214,"label",55),s(215),o(216,"span",14),s(217,"*"),n(),s(218,": "),n(),h(219,nv,4,4,"div",56),n()()()()()(),o(220,"div",101)(221,"div",102)(222,"div",103)(223,"div",104),u(224,"i",105)(225,"h2",106)(226,"p",107),n(),o(227,"div",108)(228,"button",109),x("click",function(){return l.closeModal()}),s(229,"No"),n(),h(230,ov,2,0,"button",110)(231,av,3,0,"ng-template",null,111,ge),n()()()()()),a&2){let c=bt(232),f;d(4),ce("routerLink","/department/portal/approval-module/field-verified/district-stats/ward-stats/",l.district_id,"/",l.ulb_id,""),d(15),m("value",l.selectedDate)("max",l.today),d(8),m("value",l.searchValue),d(2),w(29,(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)=="7"?29:-1),d(1),w(30,l.isDownloadingInProgress?30:31),d(5),_(l.district_name),d(1),m("ngIf",l.ulb_name),d(1),m("ngIf",l.gp_nameorWardNo),d(4),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===3),d(1),m("ngIf",l.tab===3),d(1),m("ngIf",l.tab===3),d(7),T(" ",l.totalApplicants,""),d(1),w(57,l.isStatsLoading?57:58),d(7),T(" ",l.moveStatus==="eligible"?"Move to Eligible Form ":"Move to Ineligible Form "," "),d(3),m("formGroup",l.assignFieldOfficerForm),d(5),m("value",l.getApplicationNumber()),d(4),m("value",l.today),d(1),m("ngIf",l.moveStatus=="eligible"),d(3),T(" Reasons for ",l.moveStatus==="eligible"?"Eligibility":"Ineligibility"," "),d(4),m("ngForOf",l.moveStatus==="eligible"?l.reasonsForEligibility.slice().reverse():l.reasonsForInEligibility.slice().reverse()),d(2),m("ngIf",!l.isFormSubmitInProgress),d(1),m("ngIf",l.isFormSubmitInProgress),d(9),m("formGroup",l.recommedationForm),d(4),m("value",l.today),d(4),m("value",l.totalApplicants),d(1),m("ngIf",l.tab==1),d(1),m("ngIf",l.tab==2),d(4),w(110,l.isFormSubmitInProgress?111:110),d(10),m("formGroup",l.disposalForm),d(5),m("value",l.getApplicationNumber()),d(4),m("value",l.today),d(5),et("pointer-events",l.selectedFieldVerificationId[0]?"auto":"none"),m("ngClass",_e(57,vo,!l.selectedFieldVerificationId[0])),Ze("aria-disabled",!l.selectedFieldVerificationId[0]),d(5),_(l.getFETStatus()),d(23),m("field",l.disposalForm.get("recommendFor")),d(1),m("ngIf",(f=l.disposalForm.get("recommendFor"))==null?null:f.value),d(4),m("ngIf",!l.isFormSubmitInProgress),d(1),m("ngIf",l.isFormSubmitInProgress),d(28),m("ngForOf",l.objectionsList),d(12),m("value",l.fieldVerificationData==null?null:l.fieldVerificationData.application_number),d(4),m("value",l.today),d(3),T(" Reasons for ",l.fieldVerificationData!=null&&l.fieldVerificationData.eligible_reasons?"Eligibility":"Ineligibility",""),d(4),m("ngForOf",l.alreadySelectedReasons),d(6),m("innerHTML",l.getLabel("heading"),at),d(1),m("innerHTML",l.getLabel("body"),at),d(4),m("ngIf",!l.isFormSubmitInProgress)("ngIfElse",c)}},dependencies:[xt,A,P,W,se,Y,ai,U,le,Fe,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:63%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}.modal-xl[_ngcontent-%COMP%]{max-width:78%}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}@media (max-width: 768px){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;padding:.5rem}}.table-responsive[_ngcontent-%COMP%]{overflow-x:scroll}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}.custom-modal-position[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{top:22%;left:8.5%;transform:translateY(-50%);position:relative}#modal1[_ngcontent-%COMP%]{max-width:80%;left:8.5%}.input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#input_raw[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}#input_raw[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px;border:1px solid #ccc;border-radius:4px;padding:0 10px;font-size:14px;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#fd7b03;box-shadow:0 0 4px #fd7b0380;outline:none}#input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#modal2[_ngcontent-%COMP%]{max-width:80%;top:-22%;left:7.5%}textarea[_ngcontent-%COMP%]{resize:none}.red-text[_ngcontent-%COMP%]{color:red!important}"]});let t=r;return t})();var ls=B(ve());var ss=B(me());function rv(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function lv(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function sv(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function dv(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/recommend-list/district-stats/gp-stats/",i.district_id,"/",e==null?null:e.block_id,"")}}function cv(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function mv(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),h(14,dv,2,2,"a",35)(15,cv,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),T(" ",i+1," "),d(2),_(e.block_name),d(2),_(e.count||"0"),d(2),_(e.eligible_count||"0"),d(2),_(e.ineligible_count||"0"),d(2),_(e.hold_count||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function pv(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),o(6,"td",39),s(7),n(),o(8,"td",39),s(9),n(),o(10,"td",39),s(11),n(),u(12,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," "),d(2),_(e.getGrandTotal("eligible_count")),d(2),_(e.getGrandTotal("ineligible_count")),d(2),_(e.getGrandTotal("hold_count"))}}function uv(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN "),n(),o(5,"th",31),s(6,"BLOCK"),n(),o(7,"th"),s(8,"TOTAL"),n(),o(9,"th"),s(10,"FOR APPROVAL"),n(),o(11,"th"),s(12,"FOR REJECTION"),n(),o(13,"th"),s(14,"FOR RECONSIDERATION"),n(),o(15,"th"),s(16,"Action"),n()()(),o(17,"tbody"),h(18,mv,16,8,"tr",32)(19,pv,13,4,"tr",33),n()()),t&2){let e=p(2);d(18),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function hv(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function fv(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," List under Consideration by DLSC/MLSC "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,lv,3,0,"button",22)(15,sv,3,0),n()()(),o(16,"div",23),h(17,uv,20,2,"table",24)(18,hv,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var ds=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fieldVerificationsList=[],this.selectedFieldVerificationId=[],this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.block_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/recommended-block-count?isAll=0&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="RECOMMENDED LIST",l=new Date,c=`Timestamp: ${(0,ss.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0},{text:"FOR APPROVAL",fillColor:"#d3d3d3",bold:!0},{text:"FOR REJECTION",fillColor:"#d3d3d3",bold:!0},{text:"FOR RECONSIDERATION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.block_name||"",fontSize:9},{text:g.count||"0",fontSize:9},{text:g.eligible_count||"0",fontSize:9},{text:g.ineligible_count||"0",fontSize:9},{text:g.hold_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","15%","15%","15%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};ls.default.createPdf(S).download(`Recommended List For ${this.district_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-recommend-block-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["routerLink","/department/portal/approval-module/recommend-list/district-stats","type","button",1,"me-2"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Block Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","20%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,rv,3,0,"div",9)(11,fv,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var cs=B(ve());var ms=B(me());function _v(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function gv(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function bv(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function vv(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/recommend-list/district-stats/ward-stats/",i.district_id,"/",e==null?null:e.ulb_id,"")}}function xv(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function Sv(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),h(14,vv,2,2,"a",35)(15,xv,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),T(" ",i+1," "),d(2),_(e.ulb_name),d(2),_(e.count||"0"),d(2),_(e.eligible_count||"0"),d(2),_(e.ineligible_count||"0"),d(2),_(e.hold_count||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function Cv(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),o(6,"td",39),s(7),n(),o(8,"td",39),s(9),n(),o(10,"td",39),s(11),n(),u(12,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," "),d(2),_(e.getGrandTotal("eligible_count")),d(2),_(e.getGrandTotal("ineligible_count")),d(2),_(e.getGrandTotal("hold_count"))}}function yv(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN "),n(),o(5,"th",31),s(6,"ULB"),n(),o(7,"th"),s(8,"TOTAL"),n(),o(9,"th"),s(10,"FOR APPROVAL"),n(),o(11,"th"),s(12,"FOR REJECTION"),n(),o(13,"th"),s(14,"FOR RECONSIDERATION"),n(),o(15,"th"),s(16,"Action"),n()()(),o(17,"tbody"),h(18,Sv,16,8,"tr",32)(19,Cv,13,4,"tr",33),n()()),t&2){let e=p(2);d(18),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function wv(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function Ev(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," List under Consideration by DLSC/MLSC "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,gv,3,0,"button",22)(15,bv,3,0),n()()(),o(16,"div",23),h(17,yv,20,2,"table",24)(18,wv,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var ps=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fieldVerificationsList=[],this.selectedFieldVerificationId=[],this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ulb_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/recommended-ulb-count?isAll=0&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="RECOMMENDED LIST",l=new Date,c=`Timestamp: ${(0,ms.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"ULB",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0},{text:"FOR APPROVAL",fillColor:"#d3d3d3",bold:!0},{text:"FOR REJECTION",fillColor:"#d3d3d3",bold:!0},{text:"FOR RECONSIDERATION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.ulb_name||"",fontSize:9},{text:g.count||"0",fontSize:9},{text:g.eligible_count||"0",fontSize:9},{text:g.ineligible_count||"0",fontSize:9},{text:g.hold_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","20%","15%","15%","15%","20%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};cs.default.createPdf(S).download(`Recommended List For ${this.district_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-recommend-ulb-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["routerLink","/department/portal/approval-module/recommend-list/district-stats","type","button",1,"me-2"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter ULB Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","20%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,_v,3,0,"div",9)(11,Ev,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var us=B(ve());var wa=B(me());function Iv(t,r){if(t&1&&(o(0,"div",44)(1,"a",45)(2,"button",46),u(3,"i",47),s(4," Back"),n()()()),t&2){let e=p();d(1),Se("routerLink","/department/portal/approval-module/recommend-list/district-stats/block-stats/",e.district_id,"")}}function Tv(t,r){t&1&&(o(0,"div",48),u(1,"i",49),s(2," We are fetching the data, please wait. "),n())}function kv(t,r){if(t&1){let e=E();o(0,"button",68),x("click",function(){C(e);let a=p(3);return y(a.setMoveStatus("approve"))}),s(1," Finally Approve "),n()}}function Lv(t,r){t&1&&(o(0,"button",69),s(1," Finally Approve "),n())}function Fv(t,r){if(t&1){let e=E();o(0,"button",70),x("click",function(){C(e);let a=p(3);return y(a.setMoveStatus("reject"))}),s(1," Finally Reject "),n()}}function Dv(t,r){t&1&&(o(0,"button",71),s(1," Finally Reject "),n())}function Av(t,r){if(t&1&&h(0,kv,2,0,"button",64)(1,Lv,2,0,"button",65)(2,Fv,2,0,"button",66)(3,Dv,2,0,"button",67),t&2){let e=p(2);m("ngIf",e.isAllSelected()&&e.eligibleCount),d(1),m("ngIf",!e.isAllSelected()||!e.eligibleCount),d(1),m("ngIf",e.isAllSelected()&&e.ineligibleCount),d(1),m("ngIf",!e.isAllSelected()||!e.ineligibleCount)}}function Vv(t,r){if(t&1){let e=E();o(0,"button",72),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",73),s(2,"Download "),n()}}function Pv(t,r){t&1&&(o(0,"button",74),u(1,"i",75),s(2,"Downloading... "),n())}function Mv(t,r){if(t&1){let e=E();o(0,"th")(1,"input",82),x("change",function(){C(e);let a=p(3);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(3);d(1),m("checked",e.isAllSelected())}}function Rv(t,r){t&1&&(o(0,"th",83),s(1,"SN"),n())}function Ov(t,r){if(t&1&&(o(0,"td"),u(1,"input",87),n()),t&2){let e=p().$implicit,i=p(3);d(1),m("checked",i.selectedGpId.includes(e==null?null:e.id))}}function jv(t,r){if(t&1&&(o(0,"td",83),s(1),n()),t&2){let e=p().index;d(1),_(e+1)}}var Bv=()=>({tab:1});function $v(t,r){if(t&1){let e=E();o(0,"a",88),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.gp_id))}),s(1,"View"),n()}if(t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/recommend-list/district-stats/gp-stats/",i.district_id,"/",i.block_id,"/",e==null?null:e.gp_id,""),m("queryParams",$t(4,Bv))}}function Nv(t,r){t&1&&(o(0,"a",89),s(1,"View"),n())}function Gv(t,r){if(t&1&&(o(0,"tr",84),h(1,Ov,2,1,"td",77)(2,jv,2,1,"td",78),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),h(14,$v,2,5,"a",85)(15,Nv,2,0,"a",86),n()()),t&2){let e=r.$implicit,i=p(3);d(1),m("ngIf",(i.authService.userDetail.role==null?null:i.authService.userDetail.role.id)==4),d(1),m("ngIf",(i.authService.userDetail.role==null?null:i.authService.userDetail.role.id)!=4),d(2),_(e.gp_name),d(2),_(e.count||"0"),d(2),_(e.eligible_count||"0"),d(2),_(e.ineligible_count||"0"),d(2),_(e.count-(e.ineligible_count+e.eligible_count)||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function Wv(t,r){if(t&1&&(o(0,"tr",84),u(1,"td",83),o(2,"td",90),s(3,"GRAND TOTAL"),n(),o(4,"td",90),s(5),n(),o(6,"td",90),s(7),n(),o(8,"td",90),s(9),n(),o(10,"td",90),s(11),n(),u(12,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," "),d(2),_(e.getGrandTotal("eligible_count")),d(2),_(e.getGrandTotal("ineligible_count")),d(2),_(e.getGrandTotal("hold_count"))}}function zv(t,r){if(t&1&&(o(0,"table",76)(1,"thead")(2,"tr"),h(3,Mv,2,1,"th",77)(4,Rv,2,0,"th",78),o(5,"th",79),s(6,"GP"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"For Approval"),n(),o(11,"th"),s(12,"For Rejection"),n(),o(13,"th"),s(14,"For Reconsideration"),n(),o(15,"th"),s(16,"Action"),n()()(),o(17,"tbody"),h(18,Gv,16,9,"tr",80)(19,Wv,13,4,"tr",81),n()()),t&2){let e=p(2);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4),d(1),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)!=4),d(14),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function Uv(t,r){t&1&&(o(0,"h5",91),s(1," No Data Found "),n())}function Hv(t,r){if(t&1){let e=E();o(0,"div",50)(1,"div",50)(2,"div",51)(3,"div",52),s(4," List under Consideration by DLSC/MLSC "),n(),o(5,"nav",53)(6,"ol",54)(7,"li",55),s(8),n(),o(9,"li",56),s(10),n()()()(),o(11,"div",57)(12,"div",58)(13,"input",59),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",60),n(),h(15,Av,4,4),o(16,"div"),h(17,Vv,3,0,"button",61)(18,Pv,3,0),n()()(),o(19,"div",62),h(20,zv,20,4,"table",63)(21,Uv,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.block_name," "),d(3),m("ngModel",e.searchTerm),d(2),w(15,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4?15:-1),d(2),w(17,e.isExportInProgress?18:17),d(3),w(20,e.filteredBlockStats&&e.filteredBlockStats.length>0?20:21)}}function Yv(t,r){t&1&&(o(0,"button",92),s(1," Submit "),n())}function qv(t,r){t&1&&(o(0,"button",93),s(1," Submitting... "),u(2,"i",94),n())}function Kv(t,r){if(t&1&&(o(0,"div",15)(1,"label",16),s(2,"Approve :"),n(),u(3,"input",18),n()),t&2){let e=p();d(3),m("value",e.getApplicationCounts("eligible"))}}function Jv(t,r){if(t&1&&(o(0,"div",15)(1,"label",16),s(2,"Reject :"),n(),u(3,"input",18),n()),t&2){let e=p();d(3),m("value",e.getApplicationCounts("ineligible"))}}function Xv(t,r){t&1&&(o(0,"button",92),s(1," Submit "),n())}function Qv(t,r){t&1&&(o(0,"button",93),s(1," Submitting... "),u(2,"i",94),n())}function Zv(t,r){if(t&1){let e=E();o(0,"button",95),x("click",function(){C(e);let a=p();return y(a.handleRecommendApprove())}),s(1,"Yes"),n()}}function ex(t,r){t&1&&(o(0,"button",96),s(1," Yes "),u(2,"i",94),n())}var hs=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F){this.authService=i,this.fb=a,this.httpClient=l,this.appService=c,this.route=f,this.location=S,this.formService=g,this.toastService=v,this.sanitizer=I,this.paginationService=F,this.selectedGpId="",this.fetchingProceedingList=!1,this.fieldVerificationsList=[],this.proceedingList=[],this.isStatsLoading=!1,this.generatingInProgress=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.totalCount=0,this.eligibleCount=0,this.ineligibleCount=0,this.recommendConfirmationModalstage=1,this.searchTerm="",this.district_id="",this.block_id="",this.district_name="",this.block_name="",this.selectedGpDetails="",this.ulb_id="",this.moveStatus="",this.ulb_name="",this.selectedImage="",this.today="",this.isFormSubmitInProgress=!1,this.recommedationForm=this.fb.group({}),this.approvalForm=this.fb.group({})}openModal(){this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage="",this.recommedationForm.updateValueAndValidity()}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.block_id=i.block_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.block_name=be.data.find(a=>a.id==this.block_id)?.block_name,this.fetchDrillDownList()}),this.today=(0,wa.default)().format("YYYY-MM-DD")}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetRecommedationForm();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetRecommedationForm();return}this.selectedImage=a}resetRecommedationForm(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity()}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.gp_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("category","1"),a.append("gp_id",this.selectedGpId),a.append("user_id",this.authService?.userDetail?.demography_id);let l="/v1/review-rejection-applications",c="/v1/review-approval-applications";this.isFormSubmitInProgress=!0,pt([this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}),this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,a,{headers:{Authorization:this.authService.authToken}})]).subscribe(([f,S])=>{this.isFormSubmitInProgress=!1,this.toastService.success(f?.message),document.getElementById("approvalModalClose")?.click(),this.selectedGpId="",this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}setMoveStatus(i){this.moveStatus=i,this.approvalForm.patchValue({remarks:"",meetingDate:""}),this.resetTouchedStatus(this.approvalForm)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.fetchingProceedingList=!0;let a=`/proceeding/list?block_id=${this.block_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fetchingProceedingList=!1,this.proceedingList=l.data},l=>{this.fetchingProceedingList=!1,console.error("File download failed:",l)})}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("ConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("approvalRejectModal");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){let a="";return i=="heading"&&(a=this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?"),i=="body"&&(a=this.recommendConfirmationModalstage==1?`You have selected <b>${this.moveStatus=="approve"?this.eligibleCount:this.ineligibleCount}</b> no of applications for final <b>${this.moveStatus=="approve"?"Approval":"Rejection"}</b> . Are you sure to proceed ahead with these applicant ?`:`<b>${this.moveStatus=="approve"?this.eligibleCount:this.ineligibleCount}</b> no of applications finally <b>${this.moveStatus=="approve"?"Approved":"Rejected"}</b> are matching up with the proceedings of DLSC/MLSC. <b style="color:red;">This decision is final and no further changes can be made</b>.`),this.sanitizer.bypassSecurityTrustHtml(a)}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.approvalForm.value,a=new FormData;a.append("category","1"),a.append("district_id",this.district_id),a.append("block_id",this.block_id);let l="";this.moveStatus=="approve"?l="/v1/review-approval-applications":l="/v1/review-rejection-applications",this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message);let f=document.getElementById("ConfirmationModal");f&&((j.getInstance(f)||new j(f)).hide(),document.getElementById("approvalRejectModalClose")?.click()),this.selectedGpId=[],this.approvalForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList(),this.recommendConfirmationModalstage=1},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}getApplicationCounts(i){return i==="total"?this.totalCount:i==="eligible"?this.eligibleCount:i==="ineligible"?this.ineligibleCount:0}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/recommended-gp-count?isAll=0&block_id=${this.block_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.totalCount=i.count||0,this.eligibleCount=i.eligible_count||0,this.ineligibleCount=i.ineligible_count||0,this.drilldownStats=i.data||[]},i=>{this.isStatsLoading=!1,this.totalCount=0,this.eligibleCount=0,this.ineligibleCount=0,this.drilldownStats=[]})}generateRandomList(){this.generatingInProgress=!0;let i=`${this.appService.departmentBaseUrl}/v1/block/recommended-list-pdf?block_id=${this.block_id}&isAll=0`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.generatingInProgress=!1,this.downloadFile(a,"block_generate_random_list")},a=>{this.generatingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}exportToPdf(i){this.isExportInProgress=!0;let a="RECOMMENDED LIST",l=new Date,c=`Timestamp: ${(0,wa.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"GP",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0},{text:"FOR APPROVAL",fillColor:"#d3d3d3",bold:!0},{text:"FOR REJECTION",fillColor:"#d3d3d3",bold:!0},{text:"FOR RECONSIDERATION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.gp_name||"",fontSize:9},{text:g.count||"0",fontSize:9},{text:g.eligible_count||"0",fontSize:9},{text:g.ineligible_count||"0",fontSize:9},{text:g.hold_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK :  ${String(this.block_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","25%","15%","15%","15%","20%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};us.default.createPdf(S).download(`Recommended List For ${this.block_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}handleViewClick(i){this.paginationService.setData("gp_id",i,null,1,"RecommendForApprovalTab",this.authService.userDetail.demography_id,0)}handleApprovalSubmit(){if(this.approvalForm.status==="INVALID"){this.formService.triggerFormValidation(this.approvalForm);return}document.getElementById("approvalRejectModalClose")?.click();let a=document.getElementById("ConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}toggleSelectAll(){this.isAllSelected()?this.selectedGpId=[]:this.selectedGpId=this.filteredBlockStats.map(i=>i.id)}isAllSelected(){return this.filteredBlockStats.length>0&&this.selectedGpId.length===this.filteredBlockStats.length}onSelect(i){let a=this.selectedGpId.indexOf(i);a>-1?this.selectedGpId.splice(a,1):this.selectedGpId.push(i)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(Q),b(M),b(O),b(R),b(G),b(Z),b(K),b(Lt),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-recommend-gp-stats"]],decls:87,vars:21,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],["id","recommendModal","tabindex","-1","aria-labelledby","recommendModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","recommendModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","id","approvalModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],[1,"d-flex","flex-column","gap-2",2,"white-space","nowrap"],[1,"text-danger"],[2,"font-size","11px"],[1,"d-flex","flex-column","gap-1","w-100"],["accept",".pdf","formControlName","document","type","file","id","document",1,"form-control",3,"change"],[3,"field"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],["id","approvalRejectModal","tabindex","-1","aria-labelledby","approvalModalLabel","aria-hidden","true",1,"modal","fade"],["id","approvalModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","id","approvalRejectModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["class","mb-3 input_raw",4,"ngIf"],["id","ConfirmationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-warning"],[1,"modal-content","shadow-lg"],[1,"modal-body","text-center","py-4",2,"display","flex","flex-direction","column","gap","15px"],[1,"fa-solid","fa-circle-exclamation","fa-3x","text-warning","mb-3",2,"color","#ff9003"],["id","exampleModalLongTitle",1,"modal-title",3,"innerHTML"],[1,"mb-0",3,"innerHTML"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","px-4",3,"click"],["type","button","class","btn btn-primary px-4",3,"click",4,"ngIf","ngIfElse"],["loadingButton",""],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-8","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2","text-nowrap",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter GP",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2 text-nowrap","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["style","background-color:#51A41F;color: #fff;font-weight: 540;  border-radius: 7px !important;","class","btn  px-3 py-2 me-2 mb-2 mb-md-0 text-nowrap","type","button","data-bs-toggle","modal","data-bs-target","#approvalRejectModal",3,"click",4,"ngIf"],["style","background-color:#88ff3f;color: #fff;font-weight: 540;  border-radius: 7px !important;","class","btn  px-3 py-2 me-2 mb-2 mb-md-0 text-nowrap","type","button","disabled","",4,"ngIf"],["style","background-color:#B80003;color: #fff;font-weight: 540;  border-radius: 7px !important;","class","btn  px-3 py-2 me-2 mb-2 mb-md-0 text-nowrap","type","button","data-bs-toggle","modal","data-bs-target","#approvalRejectModal",3,"click",4,"ngIf"],["style","background-color:#f9383b;color: #fff;font-weight: 540;  border-radius: 7px !important;","class","btn  px-3 py-2 me-2 mb-2 mb-md-0 text-nowrap","type","button","disabled","",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#approvalRejectModal",1,"btn","px-3","py-2","me-2","mb-2","mb-md-0","text-nowrap",2,"background-color","#51A41F","color","#fff","font-weight","540","border-radius","7px !important",3,"click"],["type","button","disabled","",1,"btn","px-3","py-2","me-2","mb-2","mb-md-0","text-nowrap",2,"background-color","#88ff3f","color","#fff","font-weight","540","border-radius","7px !important"],["type","button","data-bs-toggle","modal","data-bs-target","#approvalRejectModal",1,"btn","px-3","py-2","me-2","mb-2","mb-md-0","text-nowrap",2,"background-color","#B80003","color","#fff","font-weight","540","border-radius","7px !important",3,"click"],["type","button","disabled","",1,"btn","px-3","py-2","me-2","mb-2","mb-md-0","text-nowrap",2,"background-color","#f9383b","color","#fff","font-weight","540","border-radius","7px !important"],["type","button",1,"btn","px-2","text-nowrap",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2","text-nowrap",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[4,"ngIf"],["style","width: 5%;",4,"ngIf"],[2,"width","20%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],["type","checkbox",2,"cursor","pointer",3,"checked","change"],[2,"width","5%"],[1,"tr-border-bottom"],[3,"routerLink","queryParams","click",4,"ngIf"],["style","color: black !important;","disabled","",4,"ngIf"],["type","checkbox","disabled","",2,"cursor","pointer",3,"checked"],[3,"routerLink","queryParams","click"],["disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"],["type","button",1,"btn","btn-primary","px-4",3,"click"],["type","button",1,"btn","btn-primary","px-4"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,Iv,5,1,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,Tv,3,0,"div",6)(7,Hv,22,6),n()()(),o(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"h5",11),s(13,"Approval Form"),n(),u(14,"button",12),n(),o(15,"div",13)(16,"form",14),x("submit",function(){return l.handleRecomendationSubmit()}),o(17,"div",15)(18,"label",16),s(19,"Approval Date :"),n(),u(20,"input",17),n(),o(21,"div",15)(22,"label",16),s(23,"No. of Applications :"),n(),u(24,"input",18),n(),o(25,"div",15)(26,"label",16),s(27,"Recommended for Approval :"),n(),u(28,"input",18),n(),o(29,"div",15)(30,"label",16),s(31,"Recommended for Rejection :"),n(),u(32,"input",18),n(),o(33,"div",15)(34,"div",19)(35,"label",16),s(36,"Upload Proceedings "),o(37,"span",20),s(38,"*"),n(),s(39," :"),n(),o(40,"span",21),s(41,"PDF supported only (2MB Max)"),n()(),o(42,"div",22)(43,"input",23),x("change",function(f){return l.setselectedImage(f)}),n(),u(44,"app-form-error",24),n()(),o(45,"div",25)(46,"div",26)(47,"div",27),h(48,Yv,2,0,"button",28)(49,qv,3,0),n()()()()()()()(),o(50,"div",29)(51,"div",8)(52,"div",9)(53,"div",10)(54,"h5",30),s(55),n(),u(56,"button",31),n(),o(57,"div",13)(58,"form",14),x("submit",function(){return l.handleApprovalSubmit()}),o(59,"div",15)(60,"label",16),s(61),n(),u(62,"input",17),n(),o(63,"div",15)(64,"label",16),s(65,"No. of Applications :"),n(),u(66,"input",18),n(),h(67,Kv,4,1,"div",32)(68,Jv,4,1,"div",32),o(69,"div",25)(70,"div",26)(71,"div",27),h(72,Xv,2,0,"button",28)(73,Qv,3,0),n()()()()()()()(),o(74,"div",33)(75,"div",34)(76,"div",35)(77,"div",36),u(78,"i",37)(79,"h2",38)(80,"p",39),n(),o(81,"div",40)(82,"button",41),x("click",function(){return l.closeModal()}),s(83,"No"),n(),h(84,Zv,2,0,"button",42)(85,ex,3,0,"ng-template",null,43,ge),n()()()()),a&2){let c=bt(86);d(3),w(3,l.authService.userDetail.demography_type!="3"?3:-1),d(3),w(6,l.isStatsLoading?6:7),d(10),m("formGroup",l.recommedationForm),d(4),m("value",l.today),d(4),m("value",l.getApplicationCounts("total")),d(4),m("value",l.getApplicationCounts("eligible")),d(4),m("value",l.getApplicationCounts("ineligible")),d(12),m("field",l.recommedationForm.get("document")),d(4),w(48,l.isFormSubmitInProgress?49:48),d(7),_(l.moveStatus=="approve"?"Finally Approve Form":"Finally Reject Form"),d(3),m("formGroup",l.approvalForm),d(3),T("",l.moveStatus=="approve"?"Approval":"Rejection"," Date :"),d(1),m("value",l.today),d(4),m("value",l.getApplicationCounts("total")),d(1),m("ngIf",l.moveStatus=="approve"),d(1),m("ngIf",l.moveStatus=="reject"),d(4),w(72,l.isFormSubmitInProgress?73:72),d(7),m("innerHTML",l.getLabel("heading"),at),d(1),m("innerHTML",l.getLabel("body"),at),d(4),m("ngIf",!l.isFormSubmitInProgress)("ngIfElse",c)}},dependencies:[A,P,W,se,Y,U,le,X,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var fs=B(ve());var _s=B(me());function tx(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function ix(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function nx(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function ox(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/rejected-list/district-stats/gp-stats/",i.district_id,"/",e==null?null:e.block_id,"")}}function ax(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function rx(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,ox,2,2,"a",35)(9,ax,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.block_name),d(2),_(e.count||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function lx(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," ")}}function sx(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN"),n(),o(5,"th",31),s(6,"Block"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,rx,10,5,"tr",32)(13,lx,7,1,"tr",33),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function dx(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function cx(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Final Rejected List "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,ix,3,0,"button",22)(15,nx,3,0),n()()(),o(16,"div",23),h(17,sx,14,2,"table",24)(18,dx,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var gs=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.block_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/reviewed-block-count?status=ineligible&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}exportToPdf(i){this.isExportInProgress=!0;let a="REJECTED LIST",l=new Date,c=`Timestamp: ${(0,_s.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:g.block_name||"",fontSize:9},{text:g.count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};fs.default.createPdf(S).download(`Rejected List For ${this.district_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-rejected-block-wise-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Block Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,tx,3,0,"div",9)(11,cx,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var bs=B(ve());var vs=B(me());function mx(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function px(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function ux(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function hx(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/rejected-list/district-stats/ward-stats/",i.district_id,"/",e==null?null:e.ulb_id,"")}}function fx(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function _x(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,hx,2,2,"a",35)(9,fx,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.ulb_name),d(2),_(e.count||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function gx(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," ")}}function bx(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN"),n(),o(5,"th",31),s(6,"Block/ULB/MC"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,_x,10,5,"tr",32)(13,gx,7,1,"tr",33),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function vx(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function xx(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Final Rejected List "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,px,3,0,"button",22)(15,ux,3,0),n()()(),o(16,"div",23),h(17,bx,14,2,"table",24)(18,vx,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var xs=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ulb_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/reviewed-ulb-count?status=ineligible&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}exportToPdf(i){this.isExportInProgress=!0;let a="REJECTED LIST",l=new Date,c=`Timestamp: ${(0,vs.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"ULB",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:g.ulb_name||"",fontSize:9},{text:g.count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};bs.default.createPdf(S).download(`Rejected List For ${this.district_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-rejected-ulb-wise-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter ULB Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,mx,3,0,"div",9)(11,xx,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Ss=B(ve());var Ea=B(me());function Sx(t,r){if(t&1){let e=E();o(0,"div",28)(1,"a",29),x("click",function(){C(e);let a=p();return y(a.goBack())}),o(2,"button",30),u(3,"i",31),s(4," Back"),n()()()}}function Cx(t,r){t&1&&(o(0,"div",32),u(1,"i",33),s(2," We are fetching the data, please wait. "),n())}function yx(t,r){if(t&1){let e=E();o(0,"button",48),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",49),s(2,"Download "),n()}}function wx(t,r){t&1&&(o(0,"button",50),u(1,"i",51),s(2,"Downloading... "),n())}function Ex(t,r){if(t&1){let e=E();o(0,"a",60),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.gp_id))}),s(1,"View "),n()}if(t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/rejected-list/district-stats/gp-stats/",i.district_id,"/",i.block_id,"/",e==null?null:e.gp_id,"")}}function Ix(t,r){t&1&&(o(0,"a",61),s(1,"View "),n())}function Tx(t,r){if(t&1&&(o(0,"tr",57)(1,"td",53),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,Ex,2,3,"a",58)(9,Ix,2,0,"a",59),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.gp_name),d(2),_(e.count||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function kx(t,r){if(t&1&&(o(0,"tr",57),u(1,"td",53),o(2,"td",62),s(3,"GRAND TOTAL"),n(),o(4,"td",62),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," ")}}function Lx(t,r){if(t&1&&(o(0,"table",52)(1,"thead")(2,"tr")(3,"th",53),s(4,"SN"),n(),o(5,"th",54),s(6,"GP"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,Tx,10,5,"tr",55)(13,kx,7,1,"tr",56),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function Fx(t,r){t&1&&(o(0,"h5",63),s(1," No Data Found "),n())}function Dx(t,r){if(t&1){let e=E();o(0,"div",34)(1,"div",34)(2,"div",35)(3,"div",36),s(4," Final Rejected List "),n(),o(5,"nav",37)(6,"ol",38)(7,"li",39),s(8),n(),o(9,"li",40),s(10),n()()()(),o(11,"div",41)(12,"div",42)(13,"input",43),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",44),n(),o(15,"div"),h(16,yx,3,0,"button",45)(17,wx,3,0),n()()(),o(18,"div",46),h(19,Lx,14,2,"table",47)(20,Fx,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.block_name," "),d(3),m("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}function Ax(t,r){t&1&&(o(0,"button",64),s(1," Recommend "),n())}function Vx(t,r){t&1&&(o(0,"button",65),s(1," Recommending... "),u(2,"i",66),n())}var Cs=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fb=S,this.toastService=g,this.formService=v,this.paginationService=I,this.isStatsLoading=!1,this.isExportInProgress=!1,this.isFormSubmitInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.block_id="",this.district_name="",this.block_name="",this.selectedGpId="",this.selectedImage="",this.ulb_id="",this.today="",this.ulb_name="",this.recommedationForm=this.fb.group({remarks:["",k.required],document:["",k.required]})}handleViewClick(i){this.paginationService.setData("gp_id",i,null,1,"RejectedList",this.authService.userDetail.demography_id,0)}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.block_id=i.block_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.block_name=be.data.find(a=>a.id==this.block_id)?.block_name,this.fetchDrillDownList()}),this.today=(0,Ea.default)().format("YYYY-MM-DD")}setselectedImage(i){this.selectedImage=i.target.files[0]}toggleWardSelection(i){if(i==this.selectedGpId){this.selectedGpId="";return}this.selectedGpId=i}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.gp_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/reviewed-gp-count?status=ineligible&block_id=${this.block_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}exportToPdf(i){this.isExportInProgress=!0;let a="REJECTED LIST",l=new Date,c=`Timestamp: ${(0,Ea.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK",fillColor:"#d3d3d3",bold:!0},{text:"GP",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:this.block_name||"",fontSize:9},{text:g.gp_name||"",fontSize:9},{text:g.count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.block_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","25%","20%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Ss.default.createPdf(S).download(`Rejected List For ${this.block_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("photo",this.selectedImage),a.append("remarks",i.remarks),a.append("category","1"),a.append("gp_id",this.selectedGpId),a.append("user_id",this.authService?.userDetail?.demography_id);let l="";l="/v1/recommend-fv-for-ineligible",l="/v1/recommend-fv-for-eligible",this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("recommendFormClose")?.click(),this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G),b(Q),b(K),b(Z),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-rejected-gp-wise-stats"]],decls:57,vars:10,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],["id","recommendModal","tabindex","-1","aria-labelledby","recommendModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","recommendModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],[1,"text-danger"],[1,"d-flex","flex-column","gap-1","w-100"],["formControlName","document","type","file","id","document",1,"form-control",3,"change"],[3,"field"],["formControlName","remarks","id","remarks","placeholder","200 Charecters only","maxlength","200",1,"form-control",2,"resize","none","height","100px"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter GP",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink","click",4,"ngIf"],["style","color: black !important;","disabled","","type","button",4,"ngIf"],[3,"routerLink","click"],["disabled","","type","button",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,Sx,5,0,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,Cx,3,0,"div",6)(7,Dx,21,5),n()()(),o(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"h5",11),s(13,"Recommendation Form"),n(),u(14,"button",12),n(),o(15,"div",13)(16,"form",14),x("submit",function(){return l.handleRecomendationSubmit()}),o(17,"div",15)(18,"label",16),s(19,"Recommendation Date :"),n(),u(20,"input",17),n(),o(21,"div",15)(22,"label",16),s(23,"No. of Applications :"),n(),u(24,"input",18),n(),o(25,"div",15)(26,"label",16),s(27,"Recommended for Approval :"),n(),u(28,"input",18),n(),o(29,"div",15)(30,"label",16),s(31,"Recommended for Rejection :"),n(),u(32,"input",18),n(),o(33,"div",15)(34,"label",16),s(35,"Upload Proceedings "),o(36,"span",19),s(37,"*"),n(),s(38," :"),n(),o(39,"div",20)(40,"input",21),x("change",function(f){return l.setselectedImage(f)}),n(),u(41,"app-form-error",22),n()(),o(42,"div",15)(43,"label",16),s(44,"Remarks "),o(45,"span",19),s(46,"*"),n(),s(47," :"),n(),o(48,"div",20)(49,"textarea",23),s(50,"                      "),n(),u(51,"app-form-error",22),n()(),o(52,"div",24)(53,"div",25)(54,"div",26),h(55,Ax,2,0,"button",27)(56,Vx,3,0),n()()()()()()()()),a&2&&(d(3),w(3,l.authService.userDetail.demography_type!="3"?3:-1),d(3),w(6,l.isStatsLoading?6:7),d(10),m("formGroup",l.recommedationForm),d(4),m("value",l.today),d(4),m("value",5),d(4),m("value",1),d(4),m("value",4),d(9),m("field",l.recommedationForm.get("document")),d(10),m("field",l.recommedationForm.get("remarks")),d(4),w(55,l.isFormSubmitInProgress?56:55))},dependencies:[A,P,W,se,Y,U,le,St,X,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var ys=B(ve());var Ia=B(me());function Px(t,r){if(t&1){let e=E();o(0,"div",7)(1,"a",8),x("click",function(){C(e);let a=p();return y(a.goBack())}),o(2,"button",9),u(3,"i",10),s(4," Back"),n()()()}}function Mx(t,r){t&1&&(o(0,"div",11),u(1,"i",12),s(2," We are fetching the data, please wait. "),n())}function Rx(t,r){if(t&1){let e=E();o(0,"button",27),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",28),s(2,"Download "),n()}}function Ox(t,r){t&1&&(o(0,"button",29),u(1,"i",30),s(2,"Downloading... "),n())}function jx(t,r){if(t&1){let e=E();o(0,"a",39),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.ward_id))}),s(1,"View "),n()}if(t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/rejected-list/district-stats/ward-stats/",i.district_id,"/",i.ulb_id,"/",e==null?null:e.ward_id,"")}}function Bx(t,r){t&1&&(o(0,"a",40),s(1,"View "),n())}function $x(t,r){if(t&1&&(o(0,"tr",36)(1,"td",32),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,jx,2,3,"a",37)(9,Bx,2,0,"a",38),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.ward_no),d(2),_(e.count||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function Nx(t,r){if(t&1&&(o(0,"tr",36),u(1,"td",32),o(2,"td",41),s(3,"GRAND TOTAL"),n(),o(4,"td",41),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," ")}}function Gx(t,r){if(t&1&&(o(0,"table",31)(1,"thead")(2,"tr")(3,"th",32),s(4,"SN"),n(),o(5,"th",33),s(6,"Ward"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,$x,10,5,"tr",34)(13,Nx,7,1,"tr",35),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function Wx(t,r){t&1&&(o(0,"h5",42),s(1," No Data Found "),n())}function zx(t,r){if(t&1){let e=E();o(0,"div",13)(1,"div",13)(2,"div",14)(3,"div",15),s(4," Final Rejected List "),n(),o(5,"nav",16)(6,"ol",17)(7,"li",18),s(8),n(),o(9,"li",19),s(10),n()()()(),o(11,"div",20)(12,"div",21)(13,"input",22),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",23),n(),o(15,"div"),h(16,Rx,3,0,"button",24)(17,Ox,3,0),n()()(),o(18,"div",25),h(19,Gx,14,2,"table",26)(20,Wx,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.ulb_name," "),d(3),m("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}var ws=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fb=S,this.toastService=g,this.formService=v,this.paginationService=I,this.isStatsLoading=!1,this.isFormSubmitInProgress=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.ulb_id="",this.district_name="",this.ulb_name="",this.selectedWardId="",this.selectedImage="",this.today="",this.recommedationForm=this.fb.group({remarks:["",k.required],document:["",k.required]})}handleViewClick(i){this.paginationService.setData("ward_id",i,null,1,"RejectedList",this.authService.userDetail.demography_id,0)}goBack(){this.location.back()}setselectedImage(i){this.selectedImage=i.target.files[0]}toggleWardSelection(i){if(i==this.selectedWardId){this.selectedWardId="";return}this.selectedWardId=i}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.ulb_id=i.ulb_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.ulb_name=he.data.find(a=>a.id==this.ulb_id)?.ulb_name,this.fetchDrillDownList()}),this.today=(0,Ia.default)().format("YYYY-MM-DD")}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ward_no.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/reviewed-ward-count?status=ineligible&ulb_id=${this.ulb_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}exportToPdf(i){this.isExportInProgress=!0;let a="REJECTED LIST",l=new Date,c=`Timestamp: ${(0,Ia.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"ULB",fillColor:"#d3d3d3",bold:!0},{text:"WARD",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:this.ulb_name||"",fontSize:9},{text:g.ward_no||"",fontSize:9},{text:g.count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.ulb_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","25%","20%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};ys.default.createPdf(S).download(`Rejcted List For ${this.ulb_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G),b(Q),b(K),b(Z),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-rejected-ward-wise-stats"]],decls:8,vars:2,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Ward",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink","click",4,"ngIf"],["style","color: black !important;","disabled","","type","button",4,"ngIf"],[3,"routerLink","click"],["disabled","","type","button",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,Px,5,0,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,Mx,3,0,"div",6)(7,zx,21,5),n()()()),a&2&&(d(3),w(3,(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)!="7"?3:-1),d(3),w(6,l.isStatsLoading?6:7))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Es=B(me());function Ux(t,r){t&1&&(o(0,"button",45),u(1,"i",46),s(2," Downloading.. "),n())}function Hx(t,r){if(t&1){let e=E();o(0,"button",48),x("click",function(){C(e);let a=p(2);return y(a.handleExport())}),u(1,"i",49),s(2,"Download "),n()}}function Yx(t,r){if(t&1&&h(0,Hx,3,0,"button",47),t&2){let e=p();m("ngIf",e.totalApplicants>0)}}function qx(t,r){if(t&1&&(o(0,"li",50),s(1),n()),t&2){let e=p();d(1),_(e.ulb_name)}}function Kx(t,r){if(t&1&&(o(0,"li",50),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function Jx(t,r){t&1&&(o(0,"div",51),u(1,"i",46),s(2," We are fetching the data, please wait. "),n())}function Xx(t,r){if(t&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td",59),s(6),n(),o(7,"td",59),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td",60)(16,"a",61),x("click",function(){let l=C(e).$implicit,c=p(3);return y(c.fetchRejectionReasons(l.id))}),s(17," View Details "),n()()()}if(t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(e==null?null:e.fetStatus),d(2),_(e==null?null:e.blockUlbStatus),d(2),_(a.appService.dateFormat(e==null?null:e.reviewed_date))}}function Qx(t,r){t&1&&(o(0,"span"),u(1,"i",46),s(2," Loading..."),n())}function Zx(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function eS(t,r){if(t&1){let e=E();o(0,"div",62)(1,"button",63),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,Qx,3,0,"span",64)(3,Zx,2,0,"span",64),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function tS(t,r){if(t&1&&(o(0,"div",52)(1,"table",53)(2,"thead",54)(3,"tr")(4,"th",55),s(5,"SN"),n(),o(6,"th",55),s(7,"Application No."),n(),o(8,"th",55),s(9,"Applicant Name"),n(),o(10,"th",55),s(11,"Father/Husband Name"),n(),o(12,"th",55),s(13,"FET Status"),n(),o(14,"th",55),s(15,"BLSC/ULSC Recommendation"),n(),o(16,"th",55),s(17,"Rejection Date"),n(),o(18,"th",55),s(19,"Reasons for Rejection"),n()()(),o(20,"tbody",56),h(21,Xx,18,7,"tr",57),n()()(),h(22,eS,4,2,"div",58)),t&2){let e=p(2);d(21),m("ngForOf",e.fieldVerificationsList),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!==e.totalApplicants)}}function iS(t,r){t&1&&(o(0,"h5",65),s(1," No Application Found "),n())}function nS(t,r){if(t&1&&(o(0,"div"),h(1,tS,23,2)(2,iS,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}function oS(t,r){t&1&&(o(0,"div",51),u(1,"i",46),s(2," We are fetching the data, please wait. "),n())}function aS(t,r){if(t&1&&(o(0,"div")(1,"label",67)(2,"label",67),s(3),n()()()),t&2){let e=r.$implicit,i=r.index;d(1),m("for","reason"+i),d(1),m("for","reason"+i),d(1),$e(" ",e.id,". ",e==null?null:e.remark," ")}}function rS(t,r){if(t&1&&(o(0,"label",66),s(1),n(),h(2,aS,4,4,"div",57)),t&2){let e=p();d(1),T(" ",e.rejectionReasons==null?null:e.rejectionReasons.label," : "),d(1),m("ngForOf",e.rejectionReasons==null?null:e.rejectionReasons.reasons)}}var Is=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.paginationService=F,this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.isDownloadingInProgress=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.rejectionReasons={label:"",reasons:[]},this.reasonsForInEligibility=[{id:"20",remark:"She is not a resident of Odisha."},{id:"21",remark:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{id:"22",remark:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{id:"23",remark:"She or a family member is a current/former MP or MLA."},{id:"24",remark:"She or a family member is an Income Tax Payee."},{id:"25",remark:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{id:"26",remark:"She or a family member is employed with a Government Organization or receives a pension."},{id:"27",remark:"She or a family member is a member in a Government PSU/Board/Organization."},{id:"28",remark:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{id:"29",remark:"Her family owns a four-wheeler motor vehicle."},{id:"30",remark:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{id:"31",remark:"She is not a female."},{id:"32",remark:"She is not alive."}],this.fetPositiveReasons=[{id:1,remark:"She is not a resident of Odisha."},{id:2,remark:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{id:3,remark:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{id:4,remark:"She or a family member is a current/former MP or MLA."},{id:5,remark:"She or a family member is an Income Tax Payee."},{id:6,remark:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{id:7,remark:"She or a family member is employed with a Government Organization or receives a pension."},{id:8,remark:"She or a family member is a member in a Government PSU/Board/Organization."},{id:9,remark:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{id:10,remark:"Her family owns a four-wheeler motor vehicle."},{id:11,remark:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{id:12,remark:"She is not a female."},{id:13,remark:"She is not alive."}],this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.ulb_name="",this.exportInProgress=!1,this.fetchRejectReasons=!1,this.ulb_id="",this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required]})}setmoveStatus(i){this.moveStatus=i}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.ward_id=i.ward_id,this.ulb_id=i.ulb_id,this.district_id=i.district_id,this.district_name=$.data.find(c=>c?.id==this.district_id)?.district_name,this.ulb_name=he.data.find(c=>c?.id==this.ulb_id)?.ulb_name,this.gp_nameorWardNo=He.data.find(c=>String(c?.id)===this.ward_id)?.ward_no;let l=this.paginationService.getData("ward_id",this.ward_id,"RejectedList",this.authService.userDetail.demography_id);l?(this.fieldVerificationsList=l.data,this.page=l.page,this.totalApplicants=l.totalCount):this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}),this.today=(0,Es.default)().format("YYYY-MM-DD")}fetchRejectionReasons(i){this.rejectionReasons={label:"",reasons:[]};let a=`/v1/reviewed/application-rejected_reasons?application_id=${i}`;this.fetchRejectReasons=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{if(l?.type=="field_verification_history_declaration"){let c=l.result?.split(","),f=[];c.forEach((S,g)=>{S==0&&f.push(this.fetPositiveReasons[g])}),this.rejectionReasons={label:"FET Reasons for Ineligibility",reasons:f}}else if(l?.type=="reconsidered"){let c=[];c=this.reasonsForInEligibility?.filter(f=>l?.result?.split(",")?.includes(f?.id)),this.rejectionReasons={label:"Reconsider Reasons for Finally Rejection",reasons:c}}else if(l?.type=="move_to_ineligible"){let c=[];c=this.reasonsForInEligibility?.filter(f=>l?.result?.split(",")?.includes(f?.id)),this.rejectionReasons={label:"Move to Ineligible Reasons",reasons:c}}else if(l?.type=="dispose"){let c=[];c=this.reasonsForInEligibility?.filter(f=>l?.result?.split(",")?.includes(f?.id)),this.rejectionReasons={label:"Dispose as Ineligible For Subhadra",reasons:c}}this.fetchRejectReasons=!1},l=>{this.fetchRejectReasons=!1})}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate))}goBack(){this.location.back()}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/reviewed-list?&type=ineligible&page=${this.page}&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&review_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}let L="";return I.block_or_ulb_status==null?L=I.fv_status=="1"?"For Approval":"For Rejection":L=I.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},I),{fetStatus:F,blockUlbStatus:L})}),this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,1,"RejectedList",this.authService.userDetail.demography_id,v.totalCount),this.eligibleCount=v.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/reviewed-list?&type=ineligible&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&review_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}let ee="";return L.block_or_ulb_status==null?ee=L.fv_status=="1"?"For Approval":"For Rejection":ee=L.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},L),{fetStatus:N,blockUlbStatus:ee})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F],this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,this.page,"RejectedList",this.authService.userDetail.demography_id,I.totalCount)}this.eligibleCount=I.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}handleSubmit(){if(this.assignFieldOfficerForm.status==="INVALID"){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("remarks",i.remarks),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("field_verification_id",a?.id),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="eligible"?"3":"4"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/move-field-verification-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("BtnClose")?.click(),this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(){this.isDownloadingInProgress=!0,this.page=1;let i="/v1/reviewed-list-pdf?type=ineligible";this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.isDownloadingInProgress=!1,this.downloadFile(a,"rejected_application.pdf")},a=>{this.isDownloadingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}onStatusChange(i){this.selectedStatus=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-ward-rejected-stats"]],decls:69,vars:11,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],["required","",1,"form-control","form-select",2,"text-transform","uppercase",3,"value","change"],["value",""],["value","eligible"],["value","ineligible"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["class","btn px-2 py-2","style",`
                           background-color: #ffe8d0;
                           color: #fd7b03;
                           font-weight: 540;
                         `,"type","button","disabled",""],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl",2,"max-width","60%","left","0%"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",2,"max-height","80vh","overflow-y","scroll"],["type","button","disabled","",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540"],[1,"fa","fa-spinner","fa-spin"],["class","btn px-2 py-2","style",`
                           background-color: #ffe8d0;
                           color: #fd7b03;
                           font-weight: 540;
                         `,"type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"table-responsive","mt-4"],[1,"table"],[2,"font-size","14px","font-weight","620"],[1,"text-nowrap"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],[2,"text-transform","uppercase"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop","type","button",2,"color","blue",3,"click"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"mt-6","text-center"],[1,"form-label","fw-bold"],[1,"form-check-label",3,"for"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16," FET Status "),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.onStatusChange(f)}),o(20,"option",16),s(21,"All"),n(),o(22,"option",17),s(23,"Eligible"),n(),o(24,"option",18),s(25,"Ineligible"),n()()()(),o(26,"div",11)(27,"div",12)(28,"label",13),s(29," Rejection Date "),o(30,"span",14),s(31,"*"),n()(),o(32,"input",19),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(33,"div",20)(34,"div",21)(35,"div",22)(36,"div",23),s(37," Final Rejected List "),n(),o(38,"div",24)(39,"div",25)(40,"input",26),x("change",function(f){return l.handleSearchChange(f)}),n(),u(41,"i",27),n(),h(42,Ux,3,0,"button",28)(43,Yx,1,1),n()(),o(44,"nav",29)(45,"ol",30)(46,"li",31),s(47),n(),h(48,qx,2,1,"li",32)(49,Kx,2,1,"li",32),n()(),o(50,"div",33)(51,"div",34)(52,"div",35)(53,"span"),s(54,"Total No. of Applications : "),n(),o(55,"span",36),s(56),n()()()(),h(57,Jx,3,0,"div",37)(58,nS,3,1),n()(),o(59,"div",38)(60,"div",39)(61,"div",40)(62,"div",41)(63,"h5",42),s(64,"Rejection Reasons"),n(),u(65,"button",43),n(),o(66,"div",44),h(67,oS,3,0,"div",37)(68,rS,3,2),n()()()()()),a&2&&(d(19),m("value",l.selectedStatus),d(13),m("value",l.selectedDate)("max",l.today),d(8),m("value",l.searchValue),d(2),w(42,l.isDownloadingInProgress?42:43),d(5),_(l.district_name),d(1),m("ngIf",l.ulb_name),d(1),m("ngIf",l.gp_nameorWardNo),d(7),T(" ",l.totalApplicants,""),d(1),w(57,l.isStatsLoading?57:58),d(10),w(67,l.fetchRejectReasons?67:68))},dependencies:[A,P,se,Ie,Te,le,Fe],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var Ts=B(me());function lS(t,r){if(t&1&&(o(0,"option",47),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),T(" ",e==null?null:e.village_name,"")}}function sS(t,r){t&1&&(o(0,"button",48),u(1,"i",49),s(2," Downloading.. "),n())}function dS(t,r){if(t&1){let e=E();o(0,"button",51),x("click",function(){C(e);let a=p(2);return y(a.handleExport())}),u(1,"i",52),s(2,"Download "),n()}}function cS(t,r){if(t&1&&h(0,dS,3,0,"button",50),t&2){let e=p();m("ngIf",e.totalApplicants>0)}}function mS(t,r){if(t&1&&(o(0,"li",53),s(1),n()),t&2){let e=p();d(1),_(e.block_name)}}function pS(t,r){if(t&1&&(o(0,"li",53),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function uS(t,r){t&1&&(o(0,"div",54),u(1,"i",49),s(2," We are fetching the data, please wait. "),n())}function hS(t,r){if(t&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td",62),s(8),n(),o(9,"td",62),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td",63)(18,"a",64),x("click",function(){let l=C(e).$implicit,c=p(3);return y(c.fetchRejectionReasons(l.id))}),s(19," View Details "),n()()()}if(t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(2),_((e==null?null:e.village_name)||"N/A"),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(e==null?null:e.fetStatus),d(2),_(e==null?null:e.blockUlbStatus),d(2),_(a.appService.dateFormat(e==null?null:e.reviewed_date))}}function fS(t,r){t&1&&(o(0,"span"),u(1,"i",49),s(2," Loading..."),n())}function _S(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function gS(t,r){if(t&1){let e=E();o(0,"div",65)(1,"button",66),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,fS,3,0,"span",67)(3,_S,2,0,"span",67),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function bS(t,r){if(t&1&&(o(0,"div",55)(1,"table",56)(2,"thead",57)(3,"tr")(4,"th",58),s(5,"SN"),n(),o(6,"th",58),s(7,"Village"),n(),o(8,"th",58),s(9,"Application No."),n(),o(10,"th",58),s(11,"Applicant Name"),n(),o(12,"th",58),s(13,"Father/Husband Name"),n(),o(14,"th",58),s(15,"FET Status"),n(),o(16,"th",58),s(17,"BLSC/ULSC Recommendation"),n(),o(18,"th",58),s(19,"Rejection Date"),n(),o(20,"th",58),s(21,"Reasons for Rejection"),n()()(),o(22,"tbody",59),h(23,hS,20,8,"tr",60),n()()(),h(24,gS,4,2,"div",61)),t&2){let e=p(2);d(23),m("ngForOf",e.fieldVerificationsList),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!==e.totalApplicants)}}function vS(t,r){t&1&&(o(0,"h5",68),s(1," No Application Found "),n())}function xS(t,r){if(t&1&&(o(0,"div"),h(1,bS,25,2)(2,vS,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}function SS(t,r){t&1&&(o(0,"div",54),u(1,"i",49),s(2," We are fetching the data, please wait. "),n())}function CS(t,r){if(t&1&&(o(0,"div")(1,"label",70)(2,"label",70),s(3),n()()()),t&2){let e=r.$implicit,i=r.index;d(1),m("for","reason"+i),d(1),m("for","reason"+i),d(1),$e(" ",e.id,". ",e==null?null:e.remark," ")}}function yS(t,r){if(t&1&&(o(0,"label",69),s(1),n(),h(2,CS,4,4,"div",60)),t&2){let e=p();d(1),T(" ",e.rejectionReasons==null?null:e.rejectionReasons.label," : "),d(1),m("ngForOf",e.rejectionReasons==null?null:e.rejectionReasons.reasons)}}var ks=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.paginationService=F,this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.rejectionReasons={label:"",reasons:[]},this.reasonsForInEligibility=[{id:"20",remark:"She is not a resident of Odisha."},{id:"21",remark:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{id:"22",remark:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{id:"23",remark:"She or a family member is a current/former MP or MLA."},{id:"24",remark:"She or a family member is an Income Tax Payee."},{id:"25",remark:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{id:"26",remark:"She or a family member is employed with a Government Organization or receives a pension."},{id:"27",remark:"She or a family member is a member in a Government PSU/Board/Organization."},{id:"28",remark:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{id:"29",remark:"Her family owns a four-wheeler motor vehicle."},{id:"30",remark:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{id:"31",remark:"She is not a female."},{id:"32",remark:"She is not alive."}],this.fetPositiveReasons=[{id:1,remark:"She is not a resident of Odisha."},{id:2,remark:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{id:3,remark:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{id:4,remark:"She or a family member is a current/former MP or MLA."},{id:5,remark:"She or a family member is an Income Tax Payee."},{id:6,remark:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{id:7,remark:"She or a family member is employed with a Government Organization or receives a pension."},{id:8,remark:"She or a family member is a member in a Government PSU/Board/Organization."},{id:9,remark:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{id:10,remark:"Her family owns a four-wheeler motor vehicle."},{id:11,remark:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{id:12,remark:"She is not a female."},{id:13,remark:"She is not alive."}],this.applications=[],this.isStatsLoading=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.isDownloadingInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.ulb_name="",this.exportInProgress=!1,this.fetchRejectReasons=!1,this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required]})}setTab(i){this.tab=i,this.page=1,this.selectedFieldVerificationId=[],this.searchValue="",this.selectedCategory="",this.selectedDate="",this.selectedVillage="",this.selectedStatus="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}setselectedImage(i){if(i.target.files[0]?.type=="application/pdf")this.selectedImage=i.target.files[0];else{this.toastService.error("Only PDF files are allowed."),this.selectedImage="",this.assignFieldOfficerForm.patchValue({document:""}),this.assignFieldOfficerForm.updateValueAndValidity();return}}setmoveStatus(i){this.moveStatus=i}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.gp_id=i.gp_id,this.block_id=i.block_id,this.district_id=i.district_id,this.district_name=$.data.find(c=>c?.id==this.district_id)?.district_name,this.block_name=be.data.find(c=>c?.id==this.block_id)?.block_name,this.gp_id&&this.fetchVillages(),this.gp_nameorWardNo=Ue.data.find(c=>String(c?.id)===this.gp_id)?.gp_name;let l=this.paginationService.getData("gp_id",this.gp_id,"RejectedList",this.authService.userDetail.demography_id);l?(this.fieldVerificationsList=l.data,this.page=l.page,this.totalApplicants=l.totalCount):this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}),this.today=(0,Ts.default)().format("YYYY-MM-DD")}fetchRejectionReasons(i){this.rejectionReasons={label:"",reasons:[]};let a=`/v1/reviewed/application-rejected_reasons?application_id=${i}`;this.fetchRejectReasons=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{if(l?.type=="field_verification_history_declaration"){let c=l.result?.split(","),f=[];c.forEach((S,g)=>{S==0&&f.push(this.fetPositiveReasons[g])}),this.rejectionReasons={label:"FET Reasons for Ineligibility",reasons:f}}else if(l?.type=="reconsidered"){let c=[];c=this.reasonsForInEligibility?.filter(f=>l?.result?.split(",")?.includes(f?.id)),console.log("selectedReasons",c),this.rejectionReasons={label:"Reconsider Reasons for Finally Rejection",reasons:c}}else if(l?.type=="move_to_ineligible"){let c=[];c=this.reasonsForInEligibility?.filter(f=>l?.result?.split(",")?.includes(f?.id)),this.rejectionReasons={label:"Move to Ineligible Reasons",reasons:c}}else if(l?.type=="dispose"){let c=[];c=this.reasonsForInEligibility?.filter(f=>l?.result?.split(",")?.includes(f?.id)),this.rejectionReasons={label:"Dispose as Ineligible For Subhadra",reasons:c}}this.fetchRejectReasons=!1},l=>{this.fetchRejectReasons=!1})}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate))}goBack(){this.location.back()}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}fetchVillages(){let i=`/v1/fv/village-list?gp_id=${this.gp_id}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.villageList=a.data},a=>{this.villageList=[]})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/reviewed-list?type=ineligible&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&review_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}let L="";return I.block_or_ulb_status==null?L=I.fv_status=="1"?"For Approval":"For Rejection":L=I.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},I),{fetStatus:F,blockUlbStatus:L})}),this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,1,"RejectedList",this.authService.userDetail.demography_id,v.totalCount),this.eligibleCount=v.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/reviewed-list?type=ineligible&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&review_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}let ee="";return L.block_or_ulb_status==null?ee=L.fv_status=="1"?"For Approval":"For Rejection":ee=L.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},L),{fetStatus:N,blockUlbStatus:ee})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F],this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,this.page,"RejectedList",this.authService.userDetail.demography_id,I.totalCount)}this.eligibleCount=I.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(){this.isDownloadingInProgress=!0,this.page=1;let i="/v1/reviewed-list-pdf?type=ineligible";this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.isDownloadingInProgress=!1,this.downloadFile(a,"rejected_application.pdf")},a=>{this.isDownloadingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}onStatusChange(i){this.selectedStatus=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-gp-rejected-stats"]],decls:79,vars:13,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],[1,"form-control","form-select",3,"value","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["required","",1,"form-control","form-select",2,"text-transform","uppercase",3,"value","change"],["value","eligible"],["value","ineligible"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["class","btn px-2 py-2","style",`
                           background-color: #ffe8d0;
                           color: #fd7b03;
                           font-weight: 540;
                         `,"type","button","disabled",""],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl",2,"max-width","60%","left","0%"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",2,"max-height","80vh","overflow-y","scroll"],[3,"value"],["type","button","disabled","",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540"],[1,"fa","fa-spinner","fa-spin"],["class","btn px-2 py-2","style",`
                           background-color: #ffe8d0;
                           color: #fd7b03;
                           font-weight: 540;
                         `,"type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"table-responsive","mt-4"],[1,"table"],[2,"font-size","14px","font-weight","620"],[1,"text-nowrap"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],[2,"text-transform","uppercase"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#staticBackdrop","type","button",2,"color","blue",3,"click"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"mt-6","text-center"],[1,"form-label","fw-bold"],[1,"form-check-label",3,"for"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16,"Village"),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.handleVillageChange(f)}),o(20,"option",16),s(21,"All"),n(),h(22,lS,2,2,"option",17),n()()(),o(23,"div",11)(24,"div",12)(25,"label",13),s(26," FET Status "),o(27,"span",14),s(28,"*"),n()(),o(29,"select",18),x("change",function(f){return l.onStatusChange(f)}),o(30,"option",16),s(31,"All"),n(),o(32,"option",19),s(33,"Eligible"),n(),o(34,"option",20),s(35,"Ineligible"),n()()()(),o(36,"div",11)(37,"div",12)(38,"label",13),s(39," Rejection Date "),o(40,"span",14),s(41,"*"),n()(),o(42,"input",21),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(43,"div",22)(44,"div",23)(45,"div",24)(46,"div",25),s(47," Final Rejected List "),n(),o(48,"div",26)(49,"div",27)(50,"input",28),x("change",function(f){return l.handleSearchChange(f)}),n(),u(51,"i",29),n(),h(52,sS,3,0,"button",30)(53,cS,1,1),n()(),o(54,"nav",31)(55,"ol",32)(56,"li",33),s(57),n(),h(58,mS,2,1,"li",34)(59,pS,2,1,"li",34),n()(),o(60,"div",35)(61,"div",36)(62,"div",37)(63,"span"),s(64,"Total No. of Applications : "),n(),o(65,"span",38),s(66),n()()()(),h(67,uS,3,0,"div",39)(68,xS,3,1),n()(),o(69,"div",40)(70,"div",41)(71,"div",42)(72,"div",43)(73,"h5",44),s(74,"Rejection Reasons"),n(),u(75,"button",45),n(),o(76,"div",46),h(77,SS,3,0,"div",39)(78,yS,3,2),n()()()()()),a&2&&(d(19),m("value",l.selectedVillage),d(3),m("ngForOf",l.villageList),d(7),m("value",l.selectedStatus),d(13),m("value",l.selectedDate)("max",l.today),d(8),m("value",l.searchValue),d(2),w(52,l.isDownloadingInProgress?52:53),d(5),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.gp_nameorWardNo),d(7),T(" ",l.totalApplicants,""),d(1),w(67,l.isStatsLoading?67:68),d(10),w(77,l.fetchRejectReasons?77:78))},dependencies:[A,P,se,Ie,Te,le,Fe],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}"]});let t=r;return t})();var Ls=B(ve());var Ta=B(me());function wS(t,r){if(t&1&&(o(0,"a",45)(1,"button",46),u(2,"i",47),s(3," Back"),n()()),t&2){let e=p(2);Se("routerLink","/department/portal/approval-module/recommend-list/district-stats/ulb-stats/",e.district_id,"")}}function ES(t,r){t&1&&(o(0,"a",48)(1,"button",46),u(2,"i",47),s(3," Back"),n()())}function IS(t,r){if(t&1&&(o(0,"div",42),h(1,wS,4,1,"a",43)(2,ES,4,0,"a",44),n()),t&2){let e=p();d(1),m("ngIf",!e.isMcAvailable()),d(1),m("ngIf",e.isMcAvailable())}}function TS(t,r){t&1&&(o(0,"div",49),u(1,"i",50),s(2," We are fetching the data, please wait. "),n())}function kS(t,r){if(t&1){let e=E();o(0,"button",69),x("click",function(){C(e);let a=p(3);return y(a.setMoveStatus("approve"))}),s(1," Finally Approve "),n()}}function LS(t,r){t&1&&(o(0,"button",70),s(1," Finally Approve "),n())}function FS(t,r){if(t&1){let e=E();o(0,"button",71),x("click",function(){C(e);let a=p(3);return y(a.setMoveStatus("reject"))}),s(1," Finally Reject "),n()}}function DS(t,r){t&1&&(o(0,"button",72),s(1," Finally Reject "),n())}function AS(t,r){if(t&1&&h(0,kS,2,0,"button",65)(1,LS,2,0,"button",66)(2,FS,2,0,"button",67)(3,DS,2,0,"button",68),t&2){let e=p(2);m("ngIf",e.isAllSelected()&&e.eligibleCount),d(1),m("ngIf",!e.isAllSelected()||!e.eligibleCount),d(1),m("ngIf",e.isAllSelected()&&e.ineligibleCount),d(1),m("ngIf",!e.isAllSelected()||!e.ineligibleCount)}}function VS(t,r){if(t&1){let e=E();o(0,"button",73),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",74),s(2,"Download "),n()}}function PS(t,r){t&1&&(o(0,"button",75),u(1,"i",76),s(2,"Downloading... "),n())}function MS(t,r){if(t&1){let e=E();o(0,"th")(1,"input",83),x("change",function(){C(e);let a=p(3);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(3);d(1),m("checked",e.isAllSelected())}}function RS(t,r){t&1&&(o(0,"th",84),s(1,"SN "),n())}function OS(t,r){if(t&1&&(o(0,"td"),u(1,"input",88),n()),t&2){let e=p().$implicit,i=p(3);d(1),m("checked",i.selectedWardId.includes(e==null?null:e.id))}}function jS(t,r){if(t&1&&(o(0,"td",84),s(1),n()),t&2){let e=p().index;d(1),T(" ",e+1," ")}}var BS=()=>({tab:1});function $S(t,r){if(t&1){let e=E();o(0,"a",89),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.ward_id))}),s(1,"View "),n()}if(t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/recommend-list/district-stats/ward-stats/",i.district_id,"/",i.ulb_id,"/",e==null?null:e.ward_id,""),m("queryParams",$t(4,BS))}}function NS(t,r){t&1&&(o(0,"a",90),s(1,"View "),n())}function GS(t,r){if(t&1&&(o(0,"tr",85),h(1,OS,2,1,"td",78)(2,jS,2,1,"td",79),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),h(14,$S,2,5,"a",86)(15,NS,2,0,"a",87),n()()),t&2){let e=r.$implicit,i=p(3);d(1),m("ngIf",(i.authService.userDetail.role==null?null:i.authService.userDetail.role.id)==4),d(1),m("ngIf",(i.authService.userDetail.role==null?null:i.authService.userDetail.role.id)!=4),d(2),_(e.ward_no),d(2),_(e.count||"0"),d(2),_(e.eligible_count||"0"),d(2),_(e.ineligible_count||"0"),d(2),_(e.count-(e.ineligible_count+e.eligible_count)||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function WS(t,r){if(t&1&&(o(0,"tr",85),u(1,"td",84),o(2,"td",91),s(3,"GRAND TOTAL"),n(),o(4,"td",91),s(5),n(),o(6,"td",91),s(7),n(),o(8,"td",91),s(9),n(),o(10,"td",91),s(11),n(),u(12,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," "),d(2),_(e.getGrandTotal("eligible_count")),d(2),_(e.getGrandTotal("ineligible_count")),d(2),_(e.getGrandTotal("hold_count"))}}function zS(t,r){if(t&1&&(o(0,"table",77)(1,"thead")(2,"tr"),h(3,MS,2,1,"th",78)(4,RS,2,0,"th",79),o(5,"th",80),s(6,"Ward"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"For Approval"),n(),o(11,"th"),s(12,"For Rejction"),n(),o(13,"th"),s(14,"For Reconsideration"),n(),o(15,"th"),s(16,"Action"),n()()(),o(17,"tbody"),h(18,GS,16,9,"tr",81)(19,WS,13,4,"tr",82),n()()),t&2){let e=p(2);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4),d(1),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)!=4),d(14),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function US(t,r){t&1&&(o(0,"h5",92),s(1," No Data Found "),n())}function HS(t,r){if(t&1){let e=E();o(0,"div",51)(1,"div",51)(2,"div",52)(3,"div",53),s(4," List under Consideration by DLSC/MLSC "),n(),o(5,"nav",54)(6,"ol",55)(7,"li",56),s(8),n(),o(9,"li",57),s(10),n()()()(),o(11,"div",58)(12,"div",59)(13,"input",60),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",61),n(),h(15,AS,4,4),o(16,"div"),h(17,VS,3,0,"button",62)(18,PS,3,0),n()()(),o(19,"div",63),h(20,zS,20,4,"table",64)(21,US,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.ulb_name," "),d(3),m("ngModel",e.searchTerm),d(2),w(15,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4?15:-1),d(2),w(17,e.isExportInProgress?18:17),d(3),w(20,e.filteredBlockStats&&e.filteredBlockStats.length>0?20:21)}}function YS(t,r){if(t&1&&(o(0,"option",96),s(1),n()),t&2){let e=r.$implicit;m("value",e==null?null:e.id),d(1),_(e==null?null:e.proceding_number)}}function qS(t,r){if(t&1&&(o(0,"select",93)(1,"option",94),s(2,"Select Proceeding No."),n(),h(3,YS,2,2,"option",95),n()),t&2){let e=p();d(3),m("ngForOf",e.proceedingList)}}function KS(t,r){if(t&1&&(o(0,"option",96),s(1),n()),t&2){let e=r.$implicit;m("value",e==null?null:e.id),d(1),_(e==null?null:e.proceding_number)}}function JS(t,r){if(t&1&&(o(0,"select",97)(1,"option",94),s(2,"Select Proceeding No."),n(),h(3,KS,2,2,"option",95),n()),t&2){let e=p();d(3),m("ngForOf",e.proceedingList)}}function XS(t,r){t&1&&(o(0,"button",98),s(1," Submit "),n())}function QS(t,r){t&1&&(o(0,"button",99),s(1," Submitting... "),u(2,"i",100),n())}function ZS(t,r){if(t&1&&(o(0,"div",15)(1,"label",16),s(2,"Approve :"),n(),u(3,"input",18),n()),t&2){let e=p();d(3),m("value",e.getApplicationCounts("eligible"))}}function e2(t,r){if(t&1&&(o(0,"div",15)(1,"label",16),s(2,"Reject :"),n(),u(3,"input",18),n()),t&2){let e=p();d(3),m("value",e.getApplicationCounts("ineligible"))}}function t2(t,r){t&1&&(o(0,"button",98),s(1," Submit "),n())}function i2(t,r){t&1&&(o(0,"button",99),s(1," Submitting... "),u(2,"i",100),n())}function n2(t,r){if(t&1){let e=E();o(0,"button",101),x("click",function(){C(e);let a=p();return y(a.handleRecommendApprove())}),s(1,"Yes"),n()}}function o2(t,r){t&1&&(o(0,"button",102),s(1," Yes "),u(2,"i",100),n())}var Fs=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F){this.authService=i,this.fb=a,this.formService=l,this.httpClient=c,this.appService=f,this.route=S,this.location=g,this.toastService=v,this.sanitizer=I,this.paginationService=F,this.fieldVerificationsList=[],this.selectedWardId="",this.isStatsLoading=!1,this.isExportInProgress=!1,this.isFormSubmitInProgress=!1,this.generatingInProgress=!1,this.fetchingProceedingList=!1,this.drilldownStats=[],this.totalCount=0,this.mcIDS=Oe.MC_IDS,this.recommendConfirmationModalstage=1,this.eligibleCount=0,this.ineligibleCount=0,this.proceedingList=[],this.searchTerm="",this.district_id="",this.ulb_id="",this.district_name="",this.ulb_name="",this.selectedImage="",this.today="",this.moveStatus="",this.recommedationForm=this.fb.group({}),this.approvalForm=this.fb.group({})}goBack(){this.location.back()}isMcAvailable(){return this.mcIDS?.includes(Number(this.ulb_id))}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.ulb_id=i.ulb_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.ulb_name=he.data.find(a=>a.id==this.ulb_id)?.ulb_name,this.fetchDrillDownList()}),this.today=(0,Ta.default)().format("YYYY-MM-DD")}openModal(){this.recommedationForm.patchValue({remarks:"",document:"",meetingDate:"",proceedingNo:""}),this.selectedImage="",this.recommedationForm.updateValueAndValidity()}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.fetchingProceedingList=!0;let a=`/proceeding/list?ulb_id=${this.ulb_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fetchingProceedingList=!1,this.proceedingList=l.data},l=>{this.fetchingProceedingList=!1,console.error("File download failed:",l)})}setMoveStatus(i){this.moveStatus=i,this.approvalForm.patchValue({remarks:"",meetingDate:""}),this.resetTouchedStatus(this.approvalForm)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}generateRandomList(){this.generatingInProgress=!0;let i=`${this.appService.departmentBaseUrl}/v1/ulb/recommended-list-pdf?ulb_id=${this.ulb_id}&isAll=0`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.generatingInProgress=!1,this.downloadFile(a,"ulb_generate_random_list")},a=>{this.generatingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetRecommedationForm();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetRecommedationForm();return}this.selectedImage=a}resetRecommedationForm(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity()}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("category","1"),a.append("ward_id",this.selectedWardId),a.append("user_id",this.authService?.userDetail?.demography_id);let l="/v1/review-rejection-applications",c="/v1/review-approval-applications";this.isFormSubmitInProgress=!0,pt([this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}),this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,a,{headers:{Authorization:this.authService.authToken}})]).subscribe(([f,S])=>{this.isFormSubmitInProgress=!1,this.toastService.success(f?.message),document.getElementById("approvalModalClose")?.click(),this.selectedWardId="",this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ward_no.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}getApplicationCounts(i){return i==="total"?this.totalCount:i==="eligible"?this.eligibleCount:i==="ineligible"?this.ineligibleCount:0}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/recommended-ward-count?isAll=0&ulb_id=${this.ulb_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.totalCount=i.count||0,this.eligibleCount=i.eligible_count||0,this.ineligibleCount=i.ineligible_count||0,this.drilldownStats=i.data||[]},i=>{this.isStatsLoading=!1,this.totalCount=0,this.eligibleCount=0,this.ineligibleCount=0,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="RECOMMENDED LIST",l=new Date,c=`Timestamp: ${(0,Ta.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"WARD",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0},{text:"FOR APPROVAL",fillColor:"#d3d3d3",bold:!0},{text:"FOR REJECTION",fillColor:"#d3d3d3",bold:!0},{text:"FOR RECONSIDERATION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.ward_no||"",fontSize:9},{text:g.count||"0",fontSize:9},{text:g.eligible_count||"0",fontSize:9},{text:g.ineligible_count||"0",fontSize:9},{text:g.hold_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`ULB :  ${String(this.ulb_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","25%","15%","15%","15%","20%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Ls.default.createPdf(S).download(`Recommended List For ${this.ulb_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}handleViewClick(i){this.paginationService.setData("ward_id",i,null,1,"RecommendForApprovalTab",this.authService.userDetail.demography_id,0)}handleApprovalSubmit(){if(this.approvalForm.status==="INVALID"){this.formService.triggerFormValidation(this.approvalForm);return}document.getElementById("approvalRejectModalClose")?.click();let a=document.getElementById("ConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("ConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("approvalRejectModal");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){let a="";return i=="heading"&&(a=this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?"),i=="body"&&(a=this.recommendConfirmationModalstage==1?`You have selected <b>${this.moveStatus=="approve"?this.eligibleCount:this.ineligibleCount}</b> no of applications for final <b>${this.moveStatus=="approve"?"Approval":"Rejection"}</b> . Are you sure to proceed ahead with these applicant ?`:`<b>${this.moveStatus=="approve"?this.eligibleCount:this.ineligibleCount}</b> no of applications finally <b>${this.moveStatus=="approve"?"Approved":"Rejected"}</b> are matching up with the proceedings of DLSC/MLSC. <b style="color:red;">This decision is final and no further changes can be made</b>.`),this.sanitizer.bypassSecurityTrustHtml(a)}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.approvalForm.value,a=new FormData;a.append("category","1"),a.append("district_id",this.district_id),a.append("ulb_id",this.ulb_id);let l="";this.moveStatus=="approve"?l="/v1/review-approval-applications":l="/v1/review-rejection-applications",this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message);let f=document.getElementById("ConfirmationModal");f&&((j.getInstance(f)||new j(f)).hide(),document.getElementById("approvalRejectModalClose")?.click()),this.selectedWardId=[],this.approvalForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList(),this.recommendConfirmationModalstage=1},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}toggleSelectAll(){this.isAllSelected()?this.selectedWardId=[]:this.selectedWardId=this.filteredBlockStats.map(i=>i.id)}isAllSelected(){return this.filteredBlockStats.length>0&&this.selectedWardId.length===this.filteredBlockStats.length}onSelect(i){let a=this.selectedWardId.indexOf(i);a>-1?this.selectedWardId.splice(a,1):this.selectedWardId.push(i)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(Q),b(Z),b(M),b(O),b(R),b(G),b(K),b(Lt),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-recommend-ward-stats"]],decls:85,vars:23,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],["id","approvalModal","tabindex","-1","aria-labelledby","approvalModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","approvalModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","id","approvalModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],[1,"text-danger"],[1,"d-flex","flex-column","gap-1","w-100"],["class","form-control form-select","formControlName","proceedingNo","id","proceedingNo",4,"ngIf"],["class","form-control form-select","disabled","",4,"ngIf"],[3,"field"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],["id","approvalRejectModal","tabindex","-1","aria-labelledby","approvalModalLabel","aria-hidden","true",1,"modal","fade"],["type","button","id","approvalRejectModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["class","mb-3 input_raw",4,"ngIf"],["id","ConfirmationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-warning"],[1,"modal-content","shadow-lg"],[1,"modal-body","text-center","py-4",2,"display","flex","flex-direction","column","gap","15px"],[1,"fa-solid","fa-circle-exclamation","fa-3x","text-warning","mb-3",2,"color","#ff9003"],["id","exampleModalLongTitle",1,"modal-title",3,"innerHTML"],[1,"mb-0",3,"innerHTML"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","px-4",3,"click"],["type","button","class","btn btn-primary px-4",3,"click",4,"ngIf","ngIfElse"],["loadingButton",""],[1,"col-md-5","d-flex","justify-content-end"],["type","button","class","me-2",3,"routerLink",4,"ngIf"],["routerLink","/department/portal/approval-module/recommend-list/district-stats","type","button","class","me-2",4,"ngIf"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],["routerLink","/department/portal/approval-module/recommend-list/district-stats","type","button",1,"me-2"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-8","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2","text-nowrap",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Ward ",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2 text-nowrap","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["style","background-color:#51A41F;color: #fff;font-weight: 540;  border-radius: 7px !important;","class","btn  px-3 py-2 me-2 mb-2 mb-md-0 text-nowrap","type","button","data-bs-toggle","modal","data-bs-target","#approvalRejectModal",3,"click",4,"ngIf"],["style","background-color:#88ff3f;color: #fff;font-weight: 540;  border-radius: 7px !important;","class","btn  px-3 py-2 me-2 mb-2 mb-md-0 text-nowrap","type","button","disabled","",4,"ngIf"],["style","background-color:#B80003;color: #fff;font-weight: 540;  border-radius: 7px !important;","class","btn  px-3 py-2 me-2 mb-2 mb-md-0 text-nowrap","type","button","data-bs-toggle","modal","data-bs-target","#approvalRejectModal",3,"click",4,"ngIf"],["style","background-color:#f9383b;color: #fff;font-weight: 540;  border-radius: 7px !important;","class","btn  px-3 py-2 me-2 mb-2 mb-md-0 text-nowrap","type","button","disabled","",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#approvalRejectModal",1,"btn","px-3","py-2","me-2","mb-2","mb-md-0","text-nowrap",2,"background-color","#51A41F","color","#fff","font-weight","540","border-radius","7px !important",3,"click"],["type","button","disabled","",1,"btn","px-3","py-2","me-2","mb-2","mb-md-0","text-nowrap",2,"background-color","#88ff3f","color","#fff","font-weight","540","border-radius","7px !important"],["type","button","data-bs-toggle","modal","data-bs-target","#approvalRejectModal",1,"btn","px-3","py-2","me-2","mb-2","mb-md-0","text-nowrap",2,"background-color","#B80003","color","#fff","font-weight","540","border-radius","7px !important",3,"click"],["type","button","disabled","",1,"btn","px-3","py-2","me-2","mb-2","mb-md-0","text-nowrap",2,"background-color","#f9383b","color","#fff","font-weight","540","border-radius","7px !important"],["type","button",1,"btn","px-2","text-nowrap",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2","text-nowrap",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[4,"ngIf"],["style","width: 5%;",4,"ngIf"],[2,"width","20%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],["type","checkbox",2,"cursor","pointer",3,"checked","change"],[2,"width","5%"],[1,"tr-border-bottom"],[3,"routerLink","queryParams","click",4,"ngIf"],["style","color: black !important;","disabled","","type","button",4,"ngIf"],["type","checkbox","disabled","",2,"cursor","pointer",3,"checked"],[3,"routerLink","queryParams","click"],["disabled","","type","button",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"],["formControlName","proceedingNo","id","proceedingNo",1,"form-control","form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["disabled","",1,"form-control","form-select"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"],["type","button",1,"btn","btn-primary","px-4",3,"click"],["type","button",1,"btn","btn-primary","px-4"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,IS,3,2,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,TS,3,0,"div",6)(7,HS,22,6),n()()(),o(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"h5",11),s(13,"Approval Form"),n(),u(14,"button",12),n(),o(15,"div",13)(16,"form",14),x("submit",function(){return l.handleRecomendationSubmit()}),o(17,"div",15)(18,"label",16),s(19,"Approval Date :"),n(),u(20,"input",17),n(),o(21,"div",15)(22,"label",16),s(23,"No. of Applications :"),n(),u(24,"input",18),n(),o(25,"div",15)(26,"label",16),s(27,"Recommended for Approval :"),n(),u(28,"input",18),n(),o(29,"div",15)(30,"label",16),s(31,"Recommended for Rejection :"),n(),u(32,"input",18),n(),o(33,"div",15)(34,"label",16),s(35,"Proceeding No. "),o(36,"span",19),s(37,"*"),n(),s(38," :"),n(),o(39,"div",20),h(40,qS,4,1,"select",21)(41,JS,4,1,"select",22),u(42,"app-form-error",23),n()(),o(43,"div",24)(44,"div",25)(45,"div",26),h(46,XS,2,0,"button",27)(47,QS,3,0),n()()()()()()()(),o(48,"div",28)(49,"div",8)(50,"div",9)(51,"div",10)(52,"h5",11),s(53),n(),u(54,"button",29),n(),o(55,"div",13)(56,"form",14),x("submit",function(){return l.handleApprovalSubmit()}),o(57,"div",15)(58,"label",16),s(59),n(),u(60,"input",17),n(),o(61,"div",15)(62,"label",16),s(63,"No. of Applications :"),n(),u(64,"input",18),n(),h(65,ZS,4,1,"div",30)(66,e2,4,1,"div",30),o(67,"div",24)(68,"div",25)(69,"div",26),h(70,t2,2,0,"button",27)(71,i2,3,0),n()()()()()()()(),o(72,"div",31)(73,"div",32)(74,"div",33)(75,"div",34),u(76,"i",35)(77,"h2",36)(78,"p",37),n(),o(79,"div",38)(80,"button",39),x("click",function(){return l.closeModal()}),s(81,"No"),n(),h(82,n2,2,0,"button",40)(83,o2,3,0,"ng-template",null,41,ge),n()()()()),a&2){let c=bt(84),f,S;d(3),w(3,(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)!="7"?3:-1),d(3),w(6,l.isStatsLoading?6:7),d(10),m("formGroup",l.recommedationForm),d(4),m("value",l.today),d(4),m("value",l.getApplicationCounts("total")),d(4),m("value",l.getApplicationCounts("eligible")),d(4),m("value",l.getApplicationCounts("ineligible")),d(8),m("ngIf",(f=l.recommedationForm.get("meetingDate"))==null?null:f.value),d(1),m("ngIf",!((S=l.recommedationForm.get("meetingDate"))!=null&&S.value)),d(1),m("field",l.recommedationForm.get("proceedingNo")),d(4),w(46,l.isFormSubmitInProgress?47:46),d(7),_(l.moveStatus=="approve"?"Finally Approve Form":"Finally Reject Form"),d(3),m("formGroup",l.approvalForm),d(3),T("",l.moveStatus=="approve"?"Approval":"Rejection"," Date :"),d(1),m("value",l.today),d(4),m("value",l.getApplicationCounts("total")),d(1),m("ngIf",l.moveStatus=="approve"),d(1),m("ngIf",l.moveStatus=="reject"),d(4),w(70,l.isFormSubmitInProgress?71:70),d(7),m("innerHTML",l.getLabel("heading"),at),d(1),m("innerHTML",l.getLabel("body"),at),d(4),m("ngIf",!l.isFormSubmitInProgress)("ngIfElse",c)}},dependencies:[A,P,W,se,Ie,Te,Y,ut,U,le,X,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var Zt=B(Ht());var Ds=B(me());function a2(t,r){if(t&1){let e=E();o(0,"button",113),x("click",function(){C(e);let a=p(2);return y(a.openModal())}),s(1," Hold "),n()}}function r2(t,r){t&1&&(o(0,"button",114),s(1," Hold "),n())}function l2(t,r){if(t&1){let e=E();o(0,"button",115),x("click",function(){C(e);let a=p(2);return y(a.openModal())}),s(1," Reconsider "),n()}}function s2(t,r){t&1&&(o(0,"button",116),s(1," Reconsider "),n())}function d2(t,r){if(t&1){let e=E();o(0,"button",117),x("click",function(){C(e);let a=p(2);return y(a.handleAction("rejection"))}),s(1," Finally Approve "),n()}}function c2(t,r){t&1&&(o(0,"button",118),s(1," Finally Approve "),n())}function m2(t,r){if(t&1){let e=E();o(0,"button",119),x("click",function(){C(e);let a=p(2);return y(a.handleAction("approval"))}),s(1,`
Finally Reject
`),n()}}function p2(t,r){t&1&&(o(0,"button",120),s(1,`
Finally Reject
`),n())}function u2(t,r){if(t&1&&h(0,a2,2,0,"button",105)(1,r2,2,0,"button",106)(2,l2,2,0,"button",107)(3,s2,2,0,"button",108)(4,d2,2,0,"button",109)(5,c2,2,0,"button",110)(6,m2,2,0,"button",111)(7,p2,2,0,"button",112),t&2){let e=p();m("ngIf",e.tab!=3&&e.selectedFieldVerificationId.length==1&&e.totalApplicants>0),d(1),m("ngIf",(e.selectedFieldVerificationId.length==0||e.selectedFieldVerificationId.length>1)&&e.tab!=3&&e.totalApplicants>0),d(1),m("ngIf",e.tab===3&&e.selectedFieldVerificationId.length==1&&e.totalApplicants>0),d(1),m("ngIf",(e.selectedFieldVerificationId.length==0||e.selectedFieldVerificationId.length>1)&&e.tab===3&&e.totalApplicants>0),d(1),m("ngIf",e.tab==1&&e.totalApplicants>0&&e.isAllSelected()),d(1),m("ngIf",e.tab==1&&e.totalApplicants>0&&!e.isAllSelected()),d(1),m("ngIf",e.tab==2&&e.totalApplicants>0&&e.isAllSelected()),d(1),m("ngIf",e.tab==2&&e.totalApplicants>0&&!e.isAllSelected())}}function h2(t,r){t&1&&(o(0,"button",121),u(1,"i",122),s(2," Downloading.. "),n())}function f2(t,r){if(t&1){let e=E();o(0,"button",124),x("click",function(){C(e);let a=p(2);return y(a.handleExport(a.gp_id,a.ward_id))}),u(1,"i",125),s(2,"Download "),n()}}function _2(t,r){if(t&1&&h(0,f2,3,0,"button",123),t&2){let e=p();m("ngIf",e.totalApplicants>0)}}function g2(t,r){if(t&1&&(o(0,"li",126),s(1),n()),t&2){let e=p();d(1),T(" ",e.block_name," ")}}function b2(t,r){if(t&1&&(o(0,"li",126),s(1),n()),t&2){let e=p();d(1),T(" ",e.gp_nameorWardNo," ")}}function v2(t,r){if(t&1){let e=E();o(0,"button",127),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," For Approval "),n()}}function x2(t,r){if(t&1){let e=E();o(0,"button",128),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," For Rejection "),n()}}function S2(t,r){if(t&1){let e=E();o(0,"button",127),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," For Reconsideration "),n()}}function C2(t,r){if(t&1){let e=E();o(0,"button",128),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," For Approval "),n()}}function y2(t,r){if(t&1){let e=E();o(0,"button",127),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," For Rejection "),n()}}function w2(t,r){if(t&1){let e=E();o(0,"button",127),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," For Reconsideration "),n()}}function E2(t,r){if(t&1){let e=E();o(0,"button",127),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," For Approval "),n()}}function I2(t,r){if(t&1){let e=E();o(0,"button",127),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," For Rejection "),n()}}function T2(t,r){if(t&1){let e=E();o(0,"button",128),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," For Reconsideration "),n()}}function k2(t,r){t&1&&(o(0,"div",129),u(1,"i",122),s(2," We are fetching the data, please wait. "),n())}function L2(t,r){if(t&1){let e=E();o(0,"th")(1,"input",138),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function F2(t,r){if(t&1){let e=E();o(0,"td")(1,"input",138),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function D2(t,r){if(t&1){let e=E();o(0,"a",143),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function A2(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function V2(t,r){if(t&1&&(o(0,"td",141),h(1,D2,2,1,"a",142)(2,A2,2,1,"span",135),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e==null?null:e.is_hold),d(1),m("ngIf",!(e!=null&&e.is_hold))}}function P2(t,r){if(t&1){let e=E();o(0,"a",143),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function M2(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function R2(t,r){if(t&1&&(o(0,"td"),h(1,P2,2,1,"a",142)(2,M2,2,1,"span",135),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e==null?null:e.is_hold),d(1),m("ngIf",!(e!=null&&e.is_hold))}}function O2(t,r){if(t&1&&(o(0,"tr"),h(1,F2,2,1,"td",135),o(2,"td"),s(3),n(),h(4,V2,3,2,"td",139)(5,R2,3,2),o(6,"td",140),s(7),n(),o(8,"td",140),s(9),n(),o(10,"td"),s(11),n(),o(12,"td"),s(13),n(),o(14,"td"),s(15),n()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==4),d(2),_(i+1),d(1),w(4,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?4:5),d(3),T(" ",e==null?null:e.applicant_name," "),d(2),T(" ",e==null?null:e.spouse_or_father_name," "),d(2),_(e==null?null:e.fetStatus),d(2),_(a.appService.dateFormat(e==null?null:e.recommended_date)),d(2),_(e==null?null:e.blockUlbStatus)}}function j2(t,r){if(t&1&&(o(0,"table",133)(1,"thead",134)(2,"tr"),h(3,L2,2,1,"th",135),o(4,"th"),s(5,"SN"),n(),o(6,"th"),s(7,"Application No."),n(),o(8,"th"),s(9,"Applicant Name"),n(),o(10,"th"),s(11,"Father/Husband Name"),n(),o(12,"th"),s(13,"FET Status"),n(),o(14,"th"),s(15,"Recommended Date"),n(),o(16,"th"),s(17,"BLSC/ULSC Recommendation"),n()()(),o(18,"tbody",136),h(19,O2,16,8,"tr",137),n()()),t&2){let e=p(3);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4),d(16),m("ngForOf",e.fieldVerificationsList)}}function B2(t,r){if(t&1){let e=E();o(0,"th")(1,"input",138),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function $2(t,r){if(t&1){let e=E();o(0,"td",147)(1,"input",138),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function N2(t,r){if(t&1){let e=E();o(0,"a",143),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function G2(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function W2(t,r){if(t&1&&(o(0,"td",141),h(1,N2,2,1,"a",142)(2,G2,2,1,"span",135),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e==null?null:e.is_hold),d(1),m("ngIf",!(e!=null&&e.is_hold))}}function z2(t,r){if(t&1){let e=E();o(0,"a",143),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function U2(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function H2(t,r){if(t&1&&(o(0,"td"),h(1,z2,2,1,"a",142)(2,U2,2,1,"span",135),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e==null?null:e.is_hold),d(1),m("ngIf",!(e!=null&&e.is_hold))}}function Y2(t,r){if(t&1&&(o(0,"tr"),h(1,$2,2,1,"td",145),o(2,"td"),s(3),n(),h(4,W2,3,2,"td",139)(5,H2,3,2),o(6,"td",146),s(7),n(),o(8,"td",146),s(9),n(),o(10,"td",144),s(11),n(),o(12,"td",144),s(13),n(),o(14,"td",144),s(15),n()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==4),d(2),_(i+1),d(1),w(4,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?4:5),d(3),T(" ",e==null?null:e.applicant_name," "),d(2),T(" ",e==null?null:e.spouse_or_father_name," "),d(2),_(e==null?null:e.fetStatus),d(2),_(a.appService.dateFormat(e==null?null:e.recommended_date)),d(2),_(e==null?null:e.blockUlbStatus)}}function q2(t,r){if(t&1&&(o(0,"table",133)(1,"thead",134)(2,"tr"),h(3,B2,2,1,"th",135),o(4,"th"),s(5,"SN"),n(),o(6,"th",144),s(7,"Application No."),n(),o(8,"th",144),s(9,"Applicant Name"),n(),o(10,"th",144),s(11,"Father/Husband Name"),n(),o(12,"th",144),s(13,"FET Status"),n(),o(14,"th",144),s(15,"Recommended Date"),n(),o(16,"th",144),s(17,"BLSC/ULSC Recommendation"),n()()(),o(18,"tbody",136),h(19,Y2,16,8,"tr",137),n()()),t&2){let e=p(3);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4),d(16),m("ngForOf",e.fieldVerificationsList)}}function K2(t,r){if(t&1){let e=E();o(0,"th")(1,"input",138),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function J2(t,r){if(t&1){let e=E();o(0,"td")(1,"input",138),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function X2(t,r){if(t&1&&(o(0,"td",149),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.application_number)}}function Q2(t,r){if(t&1&&(o(0,"td",144),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.application_number)}}function Z2(t,r){if(t&1&&(o(0,"tr"),h(1,J2,2,1,"td",135),o(2,"td"),s(3),n(),h(4,X2,2,1,"td",148)(5,Q2,2,1),o(6,"td",146),s(7),n(),o(8,"td",146),s(9),n(),o(10,"td",144),s(11),n(),o(12,"td",144),s(13),n(),o(14,"td",144),s(15),n()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==4),d(2),_(i+1),d(1),w(4,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?4:5),d(3),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(e==null?null:e.fetStatus),d(2),_(a.appService.dateFormat(e==null?null:e.recommended_date)),d(2),_(e==null?null:e.blockUlbStatus)}}function eC(t,r){if(t&1&&(o(0,"table",133)(1,"thead",134),u(2,"tr"),o(3,"tr"),h(4,K2,2,1,"th",135),o(5,"th"),s(6,"SN"),n(),o(7,"th",144),s(8,"Application No."),n(),o(9,"th",144),s(10,"Applicant Name"),n(),o(11,"th",144),s(12,"Father/Husband Name"),n(),o(13,"th",144),s(14,"FET Status"),n(),o(15,"th",144),s(16,"Recommended Date"),n(),o(17,"th",144),s(18,"BLSC/ULSC Recommendation"),n()()(),o(19,"tbody",136),h(20,Z2,16,8,"tr",137),n()()),t&2){let e=p(3);d(4),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4),d(16),m("ngForOf",e.fieldVerificationsList)}}function tC(t,r){t&1&&(o(0,"span"),u(1,"i",122),s(2," Loading..."),n())}function iC(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function nC(t,r){if(t&1){let e=E();o(0,"div",150)(1,"button",151),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,tC,3,0,"span",135)(3,iC,2,0,"span",135),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function oC(t,r){if(t&1&&(o(0,"div",130),h(1,j2,20,2,"table",131)(2,q2,20,2,"table",131)(3,eC,21,2,"table",131),n(),h(4,nC,4,2,"div",132)),t&2){let e=p(2);d(1),m("ngIf",e.tab===1),d(1),m("ngIf",e.tab===2),d(1),m("ngIf",e.tab===3),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length<e.totalApplicants)}}function aC(t,r){t&1&&(o(0,"h5",152),s(1,"No Application Found"),n())}function rC(t,r){if(t&1&&(o(0,"div"),h(1,oC,5,4)(2,aC,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}function lC(t,r){if(t&1&&(o(0,"div",52)(1,"label",53),s(2,"Approve :"),n(),u(3,"input",55),n()),t&2){let e=p();d(3),m("value",e.totalApplicants)}}function sC(t,r){if(t&1&&(o(0,"div",52)(1,"label",53),s(2,"Reject :"),n(),u(3,"input",55),n()),t&2){let e=p();d(3),m("value",e.totalApplicants)}}function dC(t,r){if(t&1&&(o(0,"button",153),s(1),n()),t&2){let e=p();d(1),T(" ",e.moveStatus=="approval"?"Reject":"Approve"," ")}}function cC(t,r){if(t&1&&(o(0,"button",154),s(1),u(2,"i",155),n()),t&2){let e=p();d(1),T(" ",e.moveStatus=="approval"?"Rejecting...":"Approving..."," ")}}function mC(t,r){if(t&1){let e=E();o(0,"button",156),x("click",function(){C(e);let a=p();return y(a.handleRecommendApprove())}),s(1,"Yes"),n()}}function pC(t,r){t&1&&(o(0,"button",157),s(1," Yes "),u(2,"i",155),n())}function uC(t,r){t&1&&(o(0,"button",153),s(1," Submit "),n())}function hC(t,r){t&1&&(o(0,"button",154),s(1," Submitting... "),u(2,"i",155),n())}function fC(t,r){t&1&&u(0,"input",162)}function _C(t,r){if(t&1){let e=E();o(0,"input",163),x("change",function(a){C(e);let l=p().$implicit,c=p(2);return y(c.onReasonChange(a,l.reason_id))}),n()}if(t&2){let e=p().$implicit,i=p(2);m("checked",i.selectedReasons.includes(e.reason_id))}}function gC(t,r){if(t&1&&(o(0,"div",158),h(1,fC,1,0,"input",159)(2,_C,1,1,"input",160),o(3,"label",161),s(4),n()()),t&2){let e=r.$implicit,i=r.index,a=p(2);d(1),m("ngIf",a.reconsiderForm.value.recommendFor==="approval"),d(1),m("ngIf",a.reconsiderForm.value.recommendFor==="rejection"),d(1),m("for","reason"+i),d(1),$e(" ",i+1,". ",e.eligible_reasons||e.ineligible_reasons," ")}}function bC(t,r){if(t&1&&(o(0,"div",102)(1,"label",103),s(2),o(3,"span",14),s(4,"*"),n(),s(5,": "),n(),h(6,gC,5,5,"div",104),n()),t&2){let e=p();d(2),T(" Reasons for ",e.reconsiderForm.value.recommendFor==="approval"?"Eligibility":"Ineligibility",""),d(4),m("ngForOf",e.reconsiderForm.value.recommendFor==="approval"?e.reasonsForEligibility.slice().reverse():e.reasonsForInEligibility.slice().reverse())}}function vC(t,r){t&1&&(o(0,"button",153),s(1," Reconsider "),n())}function xC(t,r){t&1&&(o(0,"button",164),s(1," Reconsidering... "),u(2,"i",155),n())}function SC(t,r){if(t&1&&(o(0,"div",158)(1,"label",161)(2,"label",161),s(3),n()()()),t&2){let e=r.$implicit,i=r.index;d(1),m("for","reason"+i),d(1),m("for","reason"+i),d(1),$e(" ",i+1,". ",e.eligible_reasons||e.ineligible_reasons," ")}}var As=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F,L,N){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.router=F,this.paginationService=L,this.sanitizer=N,this.displayReasons=!1,this.reasonsForEligibility=[{reason_id:"13",eligible_reasons:"She is alive."},{reason_id:"12",eligible_reasons:"She is a female."},{reason_id:"11",eligible_reasons:"Her family\u2019s income is not more than Rs. 2.50 lakhs."},{reason_id:"10",eligible_reasons:"Her family does not owns a four-wheeler motor vehicle."},{reason_id:"9",eligible_reasons:"Her family does not owns more than 5 acres of irrigated or 10 acres of non-irrigated land."},{reason_id:"8",eligible_reasons:"She or any family member is not a member in a Govt. PSU/Board/Organization."},{reason_id:"7",eligible_reasons:"She or any family member is not employed with a Govt. Organization or receiving pension."},{reason_id:"6",eligible_reasons:"She or any family member is not an elected representative in an ULB/PRI."},{reason_id:"5",eligible_reasons:"She or any family member is not an Income Tax Payee."},{reason_id:"4",eligible_reasons:"She or any family member is not a current/former MP or MLA."},{reason_id:"3",eligible_reasons:"She does not receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Govt."},{reason_id:"2",eligible_reasons:"She is 21 years or above and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"1",eligible_reasons:"She is a resident of Odisha."}],this.reasonsForInEligibility=[{reason_id:"32",ineligible_reasons:"She is not alive."},{reason_id:"31",ineligible_reasons:"She is not a female."},{reason_id:"30",ineligible_reasons:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{reason_id:"29",ineligible_reasons:"Her family owns a four-wheeler motor vehicle."},{reason_id:"28",ineligible_reasons:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{reason_id:"27",ineligible_reasons:"She or a family member is a member in a Government PSU/Board/Organization."},{reason_id:"26",ineligible_reasons:"She or a family member is employed with a Government Organization or receives a pension."},{reason_id:"25",ineligible_reasons:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{reason_id:"24",ineligible_reasons:"She or a family member is an Income Tax Payee."},{reason_id:"23",ineligible_reasons:"She or a family member is a current/former MP or MLA."},{reason_id:"22",ineligible_reasons:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{reason_id:"21",ineligible_reasons:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"20",ineligible_reasons:"She is not a resident of Odisha."}],this.alreadySelectedReasons=[],this.recommendedData="",this.selectedReasons=[],this.villageList=[],this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.isDownloadingInProgress=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.approvalCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.ulb_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.recommendConfirmationModalstage=1,this.moveStatus="",this.reConmoveStatus="",this.categories=[],this.fetchingProceedingList=!1,this.proceedingList=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.ulb_name="",this.exportInProgress=!1,this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({document:["",k.required]}),this.reconsiderationForm=this.fb.group({}),this.recommedationForm=this.fb.group({}),this.reconsiderForm=this.fb.group({reasons:this.fb.group({}),recommendFor:["",k.required]})}setTab(i){this.tab=i,this.page=1,this.selectedFieldVerificationId=[],this.searchValue="",this.selectedCategory="",this.selectedStatus="",this.selectedDate="",this.selectedVillage="",this.router.navigate([],{relativeTo:this.route,queryParams:{tab:i},queryParamsHandling:"merge"}),this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetForms();return}this.selectedImage=a}setSmallselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=600*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 600Kb."),this.resetForms();return}this.selectedImage=a}resetForms(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.reconsiderationForm.patchValue({document:""}),this.assignFieldOfficerForm.patchValue({document:""}),this.reconsiderForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity(),this.reconsiderationForm.updateValueAndValidity(),this.reconsiderForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedReasons=[]}setmoveStatus(i){this.moveStatus=i,this.assignFieldOfficerForm.patchValue({remarks:"",document:"",proceedingNo:""}),this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.assignFieldOfficerForm)}setReconStatus(i){this.reConmoveStatus=i.target.value}openModal(){this.reconsiderationForm.patchValue({remarks:""}),this.selectedReasons=[],this.resetTouchedStatus(this.reconsiderationForm),this.recommedationForm.patchValue({remarks:""}),this.reconsiderForm.patchValue({remarks:"",reasons:"",recommendFor:""}),this.assignFieldOfficerForm.patchValue({remarks:"",document:"",proceedingNo:""}),this.selectedImage="",this.reconsiderationForm.updateValueAndValidity(),this.recommedationForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.resetTouchedStatus(this.reconsiderForm),this.resetTouchedStatus(this.recommedationForm),this.resetTouchedStatus(this.assignFieldOfficerForm)}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.ward_id=i.ward_id,this.ulb_id=i.ulb_id,this.district_id=i.district_id,this.district_name=$.data.find(l=>l?.id==this.district_id)?.district_name,this.block_name=he.data.find(l=>l?.id==this.ulb_id)?.ulb_name,this.gp_nameorWardNo=He.data.find(l=>String(l?.id)===this.ward_id)?.ward_no,this.route.queryParams.subscribe(l=>{l.tab?this.tab=Number(l.tab):(this.tab=1,this.router.navigate([],{relativeTo:this.route,queryParams:{tab:1},queryParamsHandling:"merge"}));let c=this.paginationService.getData("ward_id",this.ward_id,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id);!c&&this.tab==1?this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate):(this.fieldVerificationsList=c.data,this.page=c.page,this.totalApplicants=c.totalCount)})}),this.today=(0,Ds.default)().format("YYYY-MM-DD")}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.fetchingProceedingList=!0;let a=`/proceeding/list?ulb_id=${this.ulb_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fetchingProceedingList=!1,this.proceedingList=l.data},l=>{this.fetchingProceedingList=!1,console.error("File download failed:",l)})}goBack(){this.location.back()}handleReconsiderationSubmit(){if(this.reconsiderationForm.status==="INVALID"){this.formService.triggerFormValidation(this.reconsiderationForm);return}let i=this.reconsiderationForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);Zt.default.fire({title:"Are You sure ?",html:`You want to move the application of <b>${a.applicant_name}</b> from <b>${this.tab==1?"Approval":"Rejection"}</b> to Reconsideration List.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Zt.default.showLoading();let l=new FormData;l.append("user_id",this.authService?.userDetail?.demography_id),l.append("recommended_id",a?.id),l.append("type",i.recommendFor=="ineligible"?"1":i.recommendFor=="eligible"?"2":""),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/hold-recommended-application?user_id=${this.authService?.userDetail?.demography_id}&recommended_id=${a?.id}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("reconsiderationModalClose")?.click(),Zt.default.close(),this.selectedFieldVerificationId=[],this.reconsiderationForm.patchValue({remarks:""}),this.selectedImage=null,this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,3)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,3))},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}}).then(l=>{l.dismiss,Zt.default.DismissReason.cancel})}handleApproveRejectSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}document.getElementById("modalApprovalRejectionClose")?.click();let a=document.getElementById("ConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("ConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("moveApprovalRejection");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){let a="";return i=="heading"&&(a=this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?"),i=="body"&&(a=this.recommendConfirmationModalstage==1?`You have selected <b>${this.moveStatus=="approval"?this.totalApplicants:this.totalApplicants}</b> no of applications for final <b>${this.tab==1?"Approval":"Rejection"}</b> . Are you sure to proceed ahead with these applicant ?`:`<b>${this.moveStatus=="approval"?this.totalApplicants:this.totalApplicants}</b> no of applications finally <b>${this.tab==1?"Approved":"Rejected"}</b> are matching up with the proceedings of DLSC/MLSC. <b style="color:red;">This decision is final and no further changes can be made</b>.`),this.sanitizer.bypassSecurityTrustHtml(a)}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.recommedationForm.value,a=this.fieldVerificationsList?.find(f=>f?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("category","1"),l.append("ward_id",this.ward_id);let c="";this.tab==2&&(c="/v1/review-rejection-applications"),this.tab==1&&(c="/v1/review-approval-applications"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(f=>{this.isFormSubmitInProgress=!1,this.toastService.success(f.message);let S=document.getElementById("ConfirmationModal");S&&((j.getInstance(S)||new j(S)).hide(),document.getElementById("modalApprovalRejectionClose")?.click()),this.selectedFieldVerificationId=[],this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate),this.recommendConfirmationModalstage=1},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate,this.selectedStatus)}fetchVillages(){let i=`/v1/fv/village-list?gp_id=${this.gp_id}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.villageList=a.data},a=>{this.villageList=[]})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/recommended-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(g+=`&field_verification_category=${this.selectedCategory}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}let L="";return I.block_or_ulb_status==null?L=I.fv_status=="1"?"For Approval":"For Rejection":L=I.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},I),{fetStatus:F,blockUlbStatus:L})}),this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,1,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,v.totalCount),this.approvalCount=v.totalCount,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}fetchApplicationListTabWise(i,a,l,c,f,S){this.page=1;let g=`/v1/recommended-list?isAll=0&type=${S==1?"eligible":S==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(g+=`&field_verification_category=${this.selectedCategory}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{let I=v.data.map(F=>{let L="";switch(F.fv_status){case"1":L="Eligible";break;case"0":case"3":L="Ineligible";break;default:L="N/A"}let N="";return F.block_or_ulb_status==null?N=F.fv_status=="1"?"For Approval":"For Rejection":N=F.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},F),{fetStatus:L,blockUlbStatus:N})});this.paginationService.setData("ward_id",this.ward_id,I,1,S==1?"RecommendForApprovalTab":S==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,v.totalCount)},v=>{this.isStatsLoading=!1})}handleEligibleIneligible(){this.reconsiderForm.get("recommendFor")?.value=="approval"?this.selectedReasons=this.reasonsForEligibility.slice().reverse()?.map(a=>a?.reason_id):this.selectedReasons=[]}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/recommended-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(v+=`&field_verification_category=${this.selectedCategory}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}let ee="";return L.block_or_ulb_status==null?ee=L.fv_status=="1"?"For Approval":"For Rejection":ee=L.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},L),{fetStatus:N,blockUlbStatus:ee})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F]}this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,this.page,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,I.totalCount),this.approvalCount=I.totalCount,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}onStatusChange(i){this.selectedStatus=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleSubmit(){if(this.assignFieldOfficerForm.status==="INVALID"){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("recommended_id",a?.id),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="approval"?"3":"4"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/move-recommendation-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("BtnClose")?.click(),this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&this.tab==1&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.tab=1,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate))}isSelectedInRandomList(i){return!!(Number(i)==1&&Oe?.consent_random_list_change)}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(i,a){this.page=1;let l=`/v1/recommended-list-pdf?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(l+=`&gp_id=${i}`),a&&(l+=`&ward_id=${a}`),this.searchValue&&(l+=`&search=${this.searchValue}`),this.selectedVillage&&(l+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(l+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(l+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(l+=`&field_verification_category=${this.selectedCategory}`),this.isDownloadingInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${l}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(c=>{this.isDownloadingInProgress=!1,this.downloadFile(c,"recommendation_application.pdf")},c=>{this.isDownloadingInProgress=!1})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=[i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}handleAction(i){this.setmoveStatus(i),this.openModal()}handleReconsiderSubmit(){if(this.reconsiderForm.invalid){this.formService.triggerFormValidation(this.reconsiderForm);return}if(!this.selectedReasons.length){this.toastService.error("Please select reason to reconsider");return}let i=this.reconsiderForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);Zt.default.fire({title:"Are You sure ?",html:`You want to reconsider the application of <b>${a.applicant_name}</b> as <b>${a.fv_status=="1"?"Eligible":"Ineligible"}</b> for <b>${this.reConmoveStatus==="approval"?"Final Approval":"Final Rejection"}</b>.<b  style="color:red;">This decision is final and no further changes can be made</b>.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Zt.default.showLoading();let l={remarks:i.remarks,recommended_id:a?.id,application_id:a?.application_id,type:this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.reConmoveStatus=="approval"?"3":"4"};if(i.recommendFor==="approval")if(this.selectedReasons&&this.selectedReasons.length>0)l.eligible_reasons=this.selectedReasons.join(",");else{this.toastService.error("Please select valid reasons for eligibility.");return}else if(i.recommendFor==="rejection")if(this.selectedReasons&&this.selectedReasons.length>0)l.ineligible_reasons=this.selectedReasons.join(",");else{this.toastService.error("Please select valid reasons for ineligibility.");return}this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/reconsider-hold-application`,l,{headers:{Authorization:this.authService.authToken,"Content-Type":"application/json"}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("reconsiderModalClose")?.click(),Zt.default.close(),this.selectedFieldVerificationId=[],this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate),i.recommendFor==="approval"?this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1):this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2),this.reconsiderForm.patchValue({remarks:"",reasons:"",recommendFor:""}),this.selectedImage=null,this.resetForms()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message),this.resetForms()})}}).then(l=>{l.dismiss,Zt.default.DismissReason.cancel})}getSelectedReasons(i){return i.filter((a,l)=>this.reconsiderForm.get(`reason${l}`)?.value).map(a=>a.reason_id)}onRecommendationChange(i){this.displayReasons=!0,i!==this.reconsiderForm.value.recommendFor&&this.reconsiderForm.reset()}onReasonChange(i,a){if(i.target.checked)this.selectedReasons.push(a);else{let l=this.selectedReasons.indexOf(a);l!==-1&&this.selectedReasons.splice(l,1)}}openHyperlinkModal(i){let a=`${this.appService.departmentBaseUrl}/v1/reconsider-logs?recommended_id=${i}`;this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.recommendedData=J(H({},l),{application_number:this.fieldVerificationsList.find(g=>g.application_id==l?.application_id)?.application_number});let c=[];this.recommendedData?.eligible_reasons&&(c=this.recommendedData?.eligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForEligibility.filter(g=>c.includes(g.reason_id))),this.recommendedData?.ineligible_reasons&&(c=this.recommendedData?.ineligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForInEligibility.filter(g=>c.includes(g.reason_id))),document.getElementById("hyperlinkModalClose")?.click();let S=document.getElementById("hyperlinkModal");S?new j(S).show():console.error("Modal element 'hyperlinkModal' not found.")},l=>{console.error("Error fetching data:",l)})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(Ne),b(fe),b(Lt))},r.\u0275cmp=D({type:r,selectors:[["app-ward-recommend-list"]],decls:208,vars:49,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],["required","",1,"form-control","form-select",2,"text-transform","uppercase",3,"value","change"],["value",""],["value","1"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],["value","eligible"],["value","ineligible"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["class","btn px-2 py-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 540","type","button","disabled",""],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url(
            "data:image/svg + xml,
            %3Csvgxmlns='http://www.w3.org/2000/svg'width='8'height='8'%3E%3Cpathd='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z'fill='%236c757d'/%3E%3C/svg%3E"
          )`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"d-flex","justify-content-between","pr-5"],[1,"col-md-8","row","mt-3","mb-3"],[1,"col-md-3","text-sm","d-flex","gap-2"],["type","button","class","btn btn-light text-black fw-regular","style","white-space: nowrap",3,"click",4,"ngIf"],["type","button","class","btn btn-warning text-white fw-bold","style","white-space: nowrap",3,"click",4,"ngIf"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["id","moveApprovalRejection","tabindex","-1","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","modalApprovalRejectionClose",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],["class","mb-3 input_raw",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],["id","ConfirmationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-warning"],[1,"modal-content","shadow-lg"],[1,"modal-body","text-center","py-4",2,"display","flex","flex-direction","column","gap","15px"],[1,"fa-solid","fa-circle-exclamation","fa-3x","text-warning","mb-3",2,"color","#ff9003"],["id","exampleModalLongTitle",1,"modal-title",3,"innerHTML"],[1,"mb-0",3,"innerHTML"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","px-4",3,"click"],["type","button","class","btn btn-primary px-4",3,"click",4,"ngIf","ngIfElse"],["loadingButton",""],["id","reconsiderationModal","tabindex","-1","aria-labelledby","recommendModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content",2,"max-height","90vh"],["id","recommendModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","reconsiderationModalClose",1,"btn-close"],["id","reconsiderModal","tabindex","-1","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["id","modal1",1,"modal-dialog","modal-dialog-centered",2,"max-width","60%","left","0%"],["type","button","id","reconsiderModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",2,"max-height","70vh","overflow-y","scroll"],["id","myForm",3,"formGroup","ngSubmit"],[1,"d-flex","gap-3"],["id","input_raw",1,"mb-3","input_raw","flex-grow-1"],["for","applicationNo",1,"form-label"],["type","text","id","applicationNo","disabled","",1,"form-control",3,"value"],["for","date",1,"form-label"],["type","date","id","date","disabled","",1,"form-control",3,"value"],["for","recommendFor",1,"form-label"],[1,"d-flex","flex-column","gap-1","w-100"],[1,"d-flex","flex-column","gap-3","align-items-start",2,"gap","28px"],[1,"d-flex","gap-2"],["type","radio","id","recommendForApproval","formControlName","recommendFor","name","recommendFor","value","approval",1,"radio-green",3,"change"],["for","recommendForApproval",2,"color","green"],["type","radio","id","recommendForIneligible","formControlName","recommendFor","name","recommendFor","value","rejection",3,"change"],["for","recommendForRejection",2,"color","red"],[3,"field"],["class","mb-3",4,"ngIf"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center",4,"ngIf"],["type","button","disabled","","class","btn bg-btn d-flex justify-content-center align-items-center",4,"ngIf"],["id","hyperlinkModal","tabindex","-1","aria-labelledby","hyperlinkModalLabel","aria-hidden","true",1,"modal","fade"],["id","modal2",1,"modal-dialog","modal-dialog-centered",2,"max-width","60%","left","0%"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","hyperlinkModalClose",1,"btn-close"],[1,"mb-3"],[1,"form-label","fw-bold"],["class","form-check",4,"ngFor","ngForOf"],["class","btn px-3 py-2 me-2","style",`
              background-color: #1778FF;
              color: #fff;
              font-weight: 540;
              border-radius: 7px !important;
            `,"type","button","data-bs-toggle","modal","data-bs-target","#reconsiderationModal",3,"click",4,"ngIf"],["class","btn px-3 py-2 me-2","style",`
              background-color: #508de1;
              color: #f8f8f8;
              font-weight: 540;
              border-radius: 7px !important;
            `,"disabled","","type","button",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
               background-color:rgb(133, 211, 133);
              color: #fff;
              font-weight: 540;
              border-radius: 7px !important;
            `,"type","button","data-bs-toggle","modal","data-bs-target","#reconsiderModal",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
               background-color:rgb(133, 211, 133);
              color: #f8f8f8;
              font-weight: 540;
              border-radius: 7px !important;
            `,"disabled","","type","button",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
            background-color: #51A41F;
            color: #f8f8f8;
            font-weight: 540;
            border-radius: 7px !important;
          `,"type","button","data-bs-toggle","modal","data-bs-target","#moveApprovalRejection",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
            background-color: #88ff3f;
            color: #f8f8f8;
            font-weight: 540;
            border-radius: 7px !important;
            opacity: 0.6; /* Add transparency to indicate disabled state visually */
          `,"type","button","disabled","",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
background-color: #B80003;
color: #f8f8f8;
font-weight: 540;
border-radius: 7px !important;
`,"type","button","data-bs-toggle","modal","data-bs-target","#moveApprovalRejection",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
background-color: #f9383b;
color: #f8f8f8;
font-weight: 540;
border-radius: 7px !important;
opacity: 0.6; /* Add transparency to indicate disabled state visually */
`,"type","button","disabled","",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#reconsiderationModal",1,"btn","px-3","py-2","me-2",2,"background-color","#1778FF","color","#fff","font-weight","540","border-radius","7px !important",3,"click"],["disabled","","type","button",1,"btn","px-3","py-2","me-2",2,"background-color","#508de1","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["type","button","data-bs-toggle","modal","data-bs-target","#reconsiderModal",1,"btn","px-2","py-2","me-2",2,"background-color","rgb(133, 211, 133)","color","#fff","font-weight","540","border-radius","7px !important",3,"click"],["disabled","","type","button",1,"btn","px-2","py-2","me-2",2,"background-color","rgb(133, 211, 133)","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["type","button","data-bs-toggle","modal","data-bs-target","#moveApprovalRejection",1,"btn","px-2","py-2","me-2",2,"background-color","#51A41F","color","#f8f8f8","font-weight","540","border-radius","7px !important",3,"click"],["type","button","disabled","",1,"btn","px-2","py-2","me-2",2,"background-color","#88ff3f","color","#f8f8f8","font-weight","540","border-radius","7px !important","opacity","0.6"],["type","button","data-bs-toggle","modal","data-bs-target","#moveApprovalRejection",1,"btn","px-2","py-2","me-2",2,"background-color","#B80003","color","#f8f8f8","font-weight","540","border-radius","7px !important",3,"click"],["type","button","disabled","",1,"btn","px-2","py-2","me-2",2,"background-color","#f9383b","color","#f8f8f8","font-weight","540","border-radius","7px !important","opacity","0.6"],["type","button","disabled","",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540"],[1,"fa","fa-spinner","fa-spin"],["class","btn px-2 py-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 540","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["aria-current","page",1,"breadcrumb-item","active"],["type","button",1,"btn","btn-light","text-black","fw-regular",2,"white-space","nowrap",3,"click"],["type","button",1,"btn","btn-warning","text-white","fw-bold",2,"white-space","nowrap",3,"click"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"table-responsive","mt-4"],["class","table",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"table"],[2,"font-size","14px","font-weight","620"],[4,"ngIf"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],["type","checkbox",2,"cursor","pointer",3,"checked","change"],["style","color:rgb(255, 149, 0);"],[2,"text-transform","uppercase"],[2,"color","rgb(255, 149, 0)"],["href","javascript:void(0)",3,"click",4,"ngIf"],["href","javascript:void(0)",3,"click"],[1,"text-nowrap"],["style","width: 5%",4,"ngIf"],[1,"text-nowrap",2,"text-transform","uppercase"],[2,"width","5%"],["class"," text-nowrap","style","color:rgb(255, 149, 0);"],[1,"text-nowrap",2,"color","rgb(255, 149, 0)"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"mt-6","text-center"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"],["type","button",1,"btn","btn-primary","px-4",3,"click"],["type","button",1,"btn","btn-primary","px-4"],[1,"form-check"],["class","form-check-input","type","checkbox","checked","","disabled","",4,"ngIf"],["class","form-check-input","type","checkbox",3,"checked","change",4,"ngIf"],[1,"form-check-label",3,"for"],["type","checkbox","checked","","disabled","",1,"form-check-input"],["type","checkbox",1,"form-check-input",3,"checked","change"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back "),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16," FET Category "),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.onCategoryChange(f)}),o(20,"option",16),s(21,"All"),n(),o(22,"option",17),s(23,"Non NFSA"),n()()()(),o(24,"div",11)(25,"div",12)(26,"label",13),s(27," Recommended Date "),o(28,"span",14),s(29,"*"),n()(),o(30,"input",18),x("change",function(f){return l.onDateChange(f)}),n()()(),o(31,"div",11)(32,"div",12)(33,"label",13),s(34," FET Status "),o(35,"span",14),s(36,"*"),n()(),o(37,"select",15),x("change",function(f){return l.onStatusChange(f)}),o(38,"option",16),s(39,"All"),n(),o(40,"option",19),s(41,"Eligible"),n(),o(42,"option",20),s(43,"Ineligible"),n()()()()()(),o(44,"div",21)(45,"div",22)(46,"div",23)(47,"div",24),s(48," List under Consideration by DLSC/MLSC "),n(),o(49,"div",25)(50,"div",26)(51,"input",27),x("change",function(f){return l.handleSearchChange(f)}),n(),u(52,"i",28),n(),h(53,u2,8,8)(54,h2,3,0,"button",29)(55,_2,1,1),n()(),o(56,"nav",30)(57,"ol",31)(58,"li",32),s(59),n(),h(60,g2,2,1,"li",33)(61,b2,2,1,"li",33),n()(),o(62,"div",34)(63,"div",35)(64,"div",36),h(65,v2,2,0,"button",37)(66,x2,2,0,"button",38)(67,S2,2,0,"button",37)(68,C2,2,0,"button",38)(69,y2,2,0,"button",37)(70,w2,2,0,"button",37)(71,E2,2,0,"button",37)(72,I2,2,0,"button",37)(73,T2,2,0,"button",38),n()()(),o(74,"div",39)(75,"div",40)(76,"div",41)(77,"span"),s(78,"Total No. of Applications : "),n(),o(79,"span",42),s(80),n()()()(),h(81,k2,3,0,"div",43)(82,rC,3,1),n()(),o(83,"div",44)(84,"div",45)(85,"div",46)(86,"div",47)(87,"h5",48),s(88),n(),u(89,"button",49),n(),o(90,"div",50)(91,"form",51),x("submit",function(){return l.handleApproveRejectSubmit()}),o(92,"div",52)(93,"label",53),s(94,"Approval Date :"),n(),u(95,"input",54),n(),o(96,"div",52)(97,"label",53),s(98,"Total No. Applications :"),n(),u(99,"input",55),n(),h(100,lC,4,1,"div",56)(101,sC,4,1,"div",56),o(102,"div",57)(103,"div",58)(104,"div",59),h(105,dC,2,1,"button",60)(106,cC,3,1),n()()()()()()()(),o(107,"div",61)(108,"div",62)(109,"div",63)(110,"div",64),u(111,"i",65)(112,"h2",66)(113,"p",67),n(),o(114,"div",68)(115,"button",69),x("click",function(){return l.closeModal()}),s(116,"No"),n(),h(117,mC,2,0,"button",70)(118,pC,3,0,"ng-template",null,71,ge),n()()()(),o(120,"div",72)(121,"div",45)(122,"div",73)(123,"div",47)(124,"h5",74),s(125," Hold Application for Reconsideration "),n(),u(126,"button",75),n(),o(127,"div",50)(128,"form",51),x("submit",function(){return l.handleReconsiderationSubmit()}),o(129,"div",52)(130,"label",53),s(131,"Application No. :"),n(),u(132,"input",55),n(),o(133,"div",52)(134,"label",53),s(135,"Date :"),n(),u(136,"input",54),n(),o(137,"div",57)(138,"div",58)(139,"div",59),h(140,uC,2,0,"button",60)(141,hC,3,0),n()()()()()()()()(),o(142,"div",76)(143,"div",77)(144,"div",46)(145,"div",47)(146,"h5",48),s(147,"Application Reconsideration Form"),n(),u(148,"button",78),n(),o(149,"div",79)(150,"form",80),x("ngSubmit",function(){return l.handleReconsiderSubmit()}),o(151,"div",81)(152,"div",82)(153,"label",83),s(154,"Application No. :"),n(),u(155,"input",84),n(),o(156,"div",82)(157,"label",85),s(158,"Date :"),n(),u(159,"input",86),n()(),o(160,"div",52)(161,"label",87),s(162,"DLSC Recommendation "),o(163,"span",14),s(164,"*"),n(),s(165," :"),n(),o(166,"div",88)(167,"div",89)(168,"div",90)(169,"input",91),x("change",function(){return l.handleEligibleIneligible()})("change",function(){return l.onRecommendationChange("approval")})("change",function(f){return l.setReconStatus(f)}),n(),o(170,"label",92),s(171,"For Final Approval"),n(),u(172,"br"),n(),o(173,"div",90)(174,"input",93),x("change",function(){return l.handleEligibleIneligible()})("change",function(){return l.onRecommendationChange("rejection")})("change",function(f){return l.setReconStatus(f)}),n(),o(175,"label",94),s(176,"For Final Rejection"),n(),u(177,"br"),n()(),u(178,"app-form-error",95),n()(),h(179,bC,7,2,"div",96),o(180,"div",57)(181,"div",58)(182,"div",59),h(183,vC,2,0,"button",97)(184,xC,3,0,"button",98),n()()()()()()()(),o(185,"div",99)(186,"div",100)(187,"div",46)(188,"div",47),u(189,"button",101),n(),o(190,"div",79)(191,"form")(192,"div",81)(193,"div",82)(194,"label",83),s(195,"Application No. :"),n(),u(196,"input",84),n(),o(197,"div",82)(198,"label",85),s(199,"Date :"),n(),u(200,"input",86),n()(),o(201,"div",102)(202,"label",103),s(203),o(204,"span",14),s(205,"*"),n(),s(206,": "),n(),h(207,SC,4,4,"div",104),n()()()()()()),a&2){let c=bt(119),f;d(4),ce("routerLink","/department/portal/approval-module/recommend-list/district-stats/ward-stats/",l.district_id,"/",l.ulb_id,""),d(15),m("value",l.selectedCategory),d(11),m("value",l.selectedDate)("max",l.today),d(7),m("value",l.selectedStatus),d(14),m("value",l.searchValue),d(2),w(53,(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)=="4"?53:-1),d(1),w(54,l.isDownloadingInProgress?54:55),d(5),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.gp_nameorWardNo),d(4),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===3),d(1),m("ngIf",l.tab===3),d(1),m("ngIf",l.tab===3),d(7),T(" ",l.totalApplicants,""),d(1),w(81,l.isStatsLoading?81:82),d(7),T(" ",l.moveStatus=="approval"?"Finally Reject Form":"Finally Approve Form"," "),d(3),m("formGroup",l.recommedationForm),d(4),m("value",l.today),d(4),m("value",l.totalApplicants),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===2),d(4),w(105,l.isFormSubmitInProgress?106:105),d(7),m("innerHTML",l.getLabel("heading"),at),d(1),m("innerHTML",l.getLabel("body"),at),d(4),m("ngIf",!l.isFormSubmitInProgress)("ngIfElse",c),d(11),m("formGroup",l.reconsiderationForm),d(4),m("value",l.getApplicationNumber()),d(4),m("value",l.today),d(4),w(140,l.isFormSubmitInProgress?141:140),d(10),m("formGroup",l.reconsiderForm),d(5),m("value",l.getApplicationNumber()),d(4),m("value",l.today),d(19),m("field",l.reconsiderForm.get("recommendFor")),d(1),m("ngIf",(f=l.reconsiderForm.get("recommendFor"))==null?null:f.value),d(4),m("ngIf",!l.isFormSubmitInProgress),d(1),m("ngIf",l.isFormSubmitInProgress),d(12),m("value",l.recommendedData==null?null:l.recommendedData.application_number),d(4),m("value",l.today),d(3),T(" Reasons for ",l.recommendedData!=null&&l.recommendedData.eligible_reasons?"Eligibility":"Ineligibility",""),d(4),m("ngForOf",l.alreadySelectedReasons)}},dependencies:[A,P,W,se,Ie,Te,Y,ai,U,le,Fe,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}.accordion-button[_ngcontent-%COMP%]:focus{box-shadow:none}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:currentColor;background-color:transparent;box-shadow:none}.accordion-button[_ngcontent-%COMP%]:hover{text-decoration:none;color:currentColor;background-color:transparent}.accordion-button[_ngcontent-%COMP%]:after{color:inherit}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}#modal1[_ngcontent-%COMP%]{max-width:80%;left:8.5%}.input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#input_raw[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}#input_raw[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px;border:1px solid #ccc;border-radius:4px;padding:0 10px;font-size:14px;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#fd7b03;box-shadow:0 0 4px #fd7b0380;outline:none}#input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#modal2[_ngcontent-%COMP%]{max-width:80%;top:-22%;left:7.5%}"]});let t=r;return t})();var ei=B(Ht());var Vs=B(me());function CC(t,r){if(t&1&&(o(0,"option",107),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),T(" ",e==null?null:e.village_name,"")}}function yC(t,r){if(t&1){let e=E();o(0,"button",116),x("click",function(){C(e);let a=p(2);return y(a.openModal())}),s(1," Hold "),n()}}function wC(t,r){t&1&&(o(0,"button",117),s(1," Hold "),n())}function EC(t,r){if(t&1){let e=E();o(0,"button",118),x("click",function(){C(e);let a=p(2);return y(a.openModal())}),s(1," Reconsider "),n()}}function IC(t,r){t&1&&(o(0,"button",119),s(1," Reconsider "),n())}function TC(t,r){if(t&1){let e=E();o(0,"button",120),x("click",function(){C(e);let a=p(2);return y(a.handleAction("rejection"))}),s(1," Finally Approve "),n()}}function kC(t,r){t&1&&(o(0,"button",121),s(1," Finally Approve "),n())}function LC(t,r){if(t&1){let e=E();o(0,"button",122),x("click",function(){C(e);let a=p(2);return y(a.handleAction("approval"))}),s(1,`
Finally Reject
`),n()}}function FC(t,r){t&1&&(o(0,"button",123),s(1,`
Finally Reject
`),n())}function DC(t,r){if(t&1&&h(0,yC,2,0,"button",108)(1,wC,2,0,"button",109)(2,EC,2,0,"button",110)(3,IC,2,0,"button",111)(4,TC,2,0,"button",112)(5,kC,2,0,"button",113)(6,LC,2,0,"button",114)(7,FC,2,0,"button",115),t&2){let e=p();m("ngIf",e.tab!=3&&e.selectedFieldVerificationId.length==1&&e.totalApplicants>0),d(1),m("ngIf",(e.selectedFieldVerificationId.length==0||e.selectedFieldVerificationId.length>1)&&e.tab!=3&&e.totalApplicants>0),d(1),m("ngIf",e.tab===3&&e.selectedFieldVerificationId.length==1&&e.totalApplicants>0),d(1),m("ngIf",(e.selectedFieldVerificationId.length==0||e.selectedFieldVerificationId.length>1)&&e.tab===3&&e.totalApplicants>0),d(1),m("ngIf",e.tab==1&&e.totalApplicants>0&&e.isAllSelected()),d(1),m("ngIf",e.tab==1&&e.totalApplicants>0&&!e.isAllSelected()),d(1),m("ngIf",e.tab==2&&e.totalApplicants>0&&e.isAllSelected()),d(1),m("ngIf",e.tab==2&&e.totalApplicants>0&&!e.isAllSelected())}}function AC(t,r){t&1&&(o(0,"button",124),u(1,"i",125),s(2," Downloading... "),n())}function VC(t,r){if(t&1){let e=E();o(0,"button",127),x("click",function(){C(e);let a=p(2);return y(a.handleExport(a.gp_id,a.ward_id))}),u(1,"i",128),s(2,"Download "),n()}}function PC(t,r){if(t&1&&h(0,VC,3,0,"button",126),t&2){let e=p();m("ngIf",e.totalApplicants>0)}}function MC(t,r){if(t&1&&(o(0,"li",129),s(1),n()),t&2){let e=p();d(1),_(e.block_name)}}function RC(t,r){if(t&1&&(o(0,"li",129),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function OC(t,r){if(t&1){let e=E();o(0,"button",130),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," For Approval "),n()}}function jC(t,r){if(t&1){let e=E();o(0,"button",131),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," For Rejection "),n()}}function BC(t,r){if(t&1){let e=E();o(0,"button",130),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," For Reconsideration "),n()}}function $C(t,r){if(t&1){let e=E();o(0,"button",131),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," For Approval "),n()}}function NC(t,r){if(t&1){let e=E();o(0,"button",130),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," For Rejection "),n()}}function GC(t,r){if(t&1){let e=E();o(0,"button",130),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," For Reconsideration "),n()}}function WC(t,r){if(t&1){let e=E();o(0,"button",130),x("click",function(){C(e);let a=p();return y(a.setTab(1))}),s(1," For Approval "),n()}}function zC(t,r){if(t&1){let e=E();o(0,"button",130),x("click",function(){C(e);let a=p();return y(a.setTab(2))}),s(1," For Rejection "),n()}}function UC(t,r){if(t&1){let e=E();o(0,"button",131),x("click",function(){C(e);let a=p();return y(a.setTab(3))}),s(1," For Reconsideration "),n()}}function HC(t,r){t&1&&(o(0,"div",132),u(1,"i",125),s(2," We are fetching the data, please wait. "),n())}function YC(t,r){if(t&1){let e=E();o(0,"th",142)(1,"input",143),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function qC(t,r){if(t&1){let e=E();o(0,"td",142)(1,"input",143),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function KC(t,r){if(t&1){let e=E();o(0,"a",149),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function JC(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function XC(t,r){if(t&1&&(o(0,"td",146),h(1,KC,2,1,"a",147)(2,JC,2,1,"span",148),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e==null?null:e.is_hold),d(1),m("ngIf",!(e!=null&&e.is_hold))}}function QC(t,r){if(t&1){let e=E();o(0,"a",149),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function ZC(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function e3(t,r){if(t&1&&(o(0,"td"),h(1,QC,2,1,"a",147)(2,ZC,2,1,"span",148),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e==null?null:e.is_hold),d(1),m("ngIf",!(e!=null&&e.is_hold))}}function t3(t,r){if(t&1&&(o(0,"tr"),h(1,qC,2,1,"td",138),o(2,"td"),s(3),n(),o(4,"td",139),s(5),n(),h(6,XC,3,2,"td",144)(7,e3,3,2),o(8,"td",145),s(9),n(),o(10,"td",145),s(11),n(),o(12,"td",139),s(13),n(),o(14,"td",139),s(15),n(),o(16,"td",139),s(17),n()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==4),d(2),_(i+1),d(2),_((e==null?null:e.village_name)||"N/A"),d(1),w(6,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?6:7),d(3),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(e==null?null:e.fetStatus),d(2),_(a.appService.dateFormat(e==null?null:e.recommended_date)),d(2),_(e==null?null:e.blockUlbStatus)}}function i3(t,r){if(t&1&&(o(0,"table",136)(1,"thead",137)(2,"tr"),h(3,YC,2,1,"th",138),o(4,"th"),s(5,"SN"),n(),o(6,"th",139),s(7,"Village"),n(),o(8,"th",139),s(9,"Application No."),n(),o(10,"th",139),s(11,"Applicant Name"),n(),o(12,"th",139),s(13,"Father/Husband Name"),n(),o(14,"th",139),s(15,"FET Status"),n(),o(16,"th",139),s(17,"Recommended Date"),n(),o(18,"th",139),s(19,"BLSC/ULSC Recommendation"),n()()(),o(20,"tbody",140),h(21,t3,18,9,"tr",141),n()()),t&2){let e=p(3);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4),d(18),m("ngForOf",e.fieldVerificationsList)}}function n3(t,r){if(t&1){let e=E();o(0,"th")(1,"input",143),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function o3(t,r){if(t&1){let e=E();o(0,"td")(1,"input",143),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function a3(t,r){if(t&1){let e=E();o(0,"a",149),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function r3(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function l3(t,r){if(t&1&&(o(0,"td",146),h(1,a3,2,1,"a",147)(2,r3,2,1,"span",148),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e==null?null:e.is_hold),d(1),m("ngIf",!(e!=null&&e.is_hold))}}function s3(t,r){if(t&1){let e=E();o(0,"a",149),x("click",function(){C(e);let a=p(2).$implicit,l=p(4);return y(l.openHyperlinkModal(a==null?null:a.id))}),s(1),n()}if(t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function d3(t,r){if(t&1&&(o(0,"span"),s(1),n()),t&2){let e=p(2).$implicit;d(1),T(" ",e==null?null:e.application_number," ")}}function c3(t,r){if(t&1&&(o(0,"td"),h(1,s3,2,1,"a",147)(2,d3,2,1,"span",148),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e==null?null:e.is_hold),d(1),m("ngIf",!(e!=null&&e.is_hold))}}function m3(t,r){if(t&1&&(o(0,"tr"),h(1,o3,2,1,"td",148),o(2,"td"),s(3),n(),o(4,"td",139),s(5),n(),h(6,l3,3,2,"td",144)(7,c3,3,2),o(8,"td",145),s(9),n(),o(10,"td",145),s(11),n(),o(12,"td",139),s(13),n(),o(14,"td",139),s(15),n(),o(16,"td",139),s(17),n()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==4),d(2),_(i+1),d(2),_((e==null?null:e.village_name)||"N/A"),d(1),w(6,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?6:7),d(3),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(e==null?null:e.fetStatus),d(2),_(a.appService.dateFormat(e==null?null:e.recommended_date)),d(2),_(e==null?null:e.blockUlbStatus)}}function p3(t,r){if(t&1&&(o(0,"table",136)(1,"thead",137)(2,"tr"),h(3,n3,2,1,"th",148),o(4,"th"),s(5,"SN"),n(),o(6,"th",139),s(7,"Village"),n(),o(8,"th",139),s(9,"Application No."),n(),o(10,"th",139),s(11,"Applicant Name"),n(),o(12,"th",139),s(13,"Father/Husband Name"),n(),o(14,"th",139),s(15,"FET Status"),n(),o(16,"th",139),s(17,"Recommended Date"),n(),o(18,"th",139),s(19,"BLSC/ULSC Recommendation"),n()()(),o(20,"tbody",140),h(21,m3,18,9,"tr",141),n()()),t&2){let e=p(3);d(3),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4),d(18),m("ngForOf",e.fieldVerificationsList)}}function u3(t,r){if(t&1){let e=E();o(0,"th")(1,"input",143),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function h3(t,r){if(t&1){let e=E();o(0,"td")(1,"input",143),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function f3(t,r){if(t&1&&(o(0,"td",151),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.application_number)}}function _3(t,r){if(t&1&&(o(0,"td",139),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.application_number)}}function g3(t,r){if(t&1&&(o(0,"tr"),h(1,h3,2,1,"td",148),o(2,"td"),s(3),n(),o(4,"td",139),s(5),n(),h(6,f3,2,1,"td",150)(7,_3,2,1),o(8,"td",145),s(9),n(),o(10,"td",145),s(11),n(),o(12,"td",139),s(13),n(),o(14,"td",139),s(15),n(),o(16,"td",139),s(17),n()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",(a.authService.userDetail.role==null?null:a.authService.userDetail.role.id)==4),d(2),_(i+1),d(2),_((e==null?null:e.village_name)||"N/A"),d(1),w(6,a.isSelectedInRandomList(e==null?null:e.is_selected_in_randomlist)?6:7),d(3),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(e==null?null:e.fetStatus),d(2),_(a.appService.dateFormat(e==null?null:e.recommended_date)),d(2),_(e==null?null:e.blockUlbStatus)}}function b3(t,r){if(t&1&&(o(0,"table",136)(1,"thead",137),u(2,"tr"),o(3,"tr"),h(4,u3,2,1,"th",148),o(5,"th"),s(6,"SN"),n(),o(7,"th",139),s(8,"Village"),n(),o(9,"th",139),s(10,"Application No."),n(),o(11,"th",139),s(12,"Applicant Name"),n(),o(13,"th",139),s(14,"Father/Husband Name"),n(),o(15,"th",139),s(16,"FET Status"),n(),o(17,"th",139),s(18,"Recommended Date"),n(),o(19,"th",139),s(20,"BLSC/ULSC Recommendation"),n()()(),o(21,"tbody",140),h(22,g3,18,9,"tr",141),n()()),t&2){let e=p(3);d(4),m("ngIf",(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4),d(18),m("ngForOf",e.fieldVerificationsList)}}function v3(t,r){t&1&&(o(0,"span"),u(1,"i",125),s(2," Loading..."),n())}function x3(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function S3(t,r){if(t&1){let e=E();o(0,"div",152)(1,"button",153),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,v3,3,0,"span",148)(3,x3,2,0,"span",148),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function C3(t,r){if(t&1&&(o(0,"div",133),h(1,i3,22,2,"table",134)(2,p3,22,2,"table",134)(3,b3,23,2,"table",134),n(),h(4,S3,4,2,"div",135)),t&2){let e=p(2);d(1),m("ngIf",e.tab===1),d(1),m("ngIf",e.tab===2),d(1),m("ngIf",e.tab===3),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!==e.totalApplicants)}}function y3(t,r){t&1&&(o(0,"h5",154),s(1," No Application Found "),n())}function w3(t,r){if(t&1&&(o(0,"div"),h(1,C3,5,4)(2,y3,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}function E3(t,r){if(t&1&&(o(0,"div",54)(1,"label",55),s(2,"Approve :"),n(),u(3,"input",57),n()),t&2){let e=p();d(3),m("value",e.totalApplicants)}}function I3(t,r){if(t&1&&(o(0,"div",54)(1,"label",55),s(2,"Reject :"),n(),u(3,"input",57),n()),t&2){let e=p();d(3),m("value",e.totalApplicants)}}function T3(t,r){if(t&1&&(o(0,"button",155),s(1),n()),t&2){let e=p();d(1),T(" ",e.moveStatus=="approval"?"Reject":"Approve"," ")}}function k3(t,r){if(t&1&&(o(0,"button",156),s(1),u(2,"i",157),n()),t&2){let e=p();d(1),T(" ",e.moveStatus=="approval"?"Rejecting...":"Approving..."," ")}}function L3(t,r){if(t&1){let e=E();o(0,"button",158),x("click",function(){C(e);let a=p();return y(a.handleRecommendApprove())}),s(1,"Yes"),n()}}function F3(t,r){t&1&&(o(0,"button",159),s(1," Yes "),u(2,"i",157),n())}function D3(t,r){t&1&&(o(0,"button",155),s(1," Submit "),n())}function A3(t,r){t&1&&(o(0,"button",156),s(1," Submitting... "),u(2,"i",157),n())}function V3(t,r){t&1&&u(0,"input",164)}function P3(t,r){if(t&1){let e=E();o(0,"input",165),x("change",function(a){C(e);let l=p().$implicit,c=p(2);return y(c.onReasonChange(a,l.reason_id))}),n()}if(t&2){let e=p().$implicit,i=p(2);m("checked",i.selectedReasons.includes(e.reason_id))}}function M3(t,r){if(t&1&&(o(0,"div",160),h(1,V3,1,0,"input",161)(2,P3,1,1,"input",162),o(3,"label",163),s(4),n()()),t&2){let e=r.$implicit,i=r.index,a=p(2);d(1),m("ngIf",a.reconsiderForm.value.recommendFor==="approval"),d(1),m("ngIf",a.reconsiderForm.value.recommendFor==="rejection"),d(1),m("for","reason"+i),d(1),$e(" ",i+1,". ",e.eligible_reasons||e.ineligible_reasons," ")}}function R3(t,r){if(t&1&&(o(0,"div",104)(1,"label",105),s(2),o(3,"span",14),s(4,"*"),n(),s(5,": "),n(),h(6,M3,5,5,"div",106),n()),t&2){let e=p();d(2),T(" Reasons for ",e.reconsiderForm.value.recommendFor==="approval"?"Eligibility":"Ineligibility",""),d(4),m("ngForOf",e.reconsiderForm.value.recommendFor==="approval"?e.reasonsForEligibility.slice().reverse():e.reasonsForInEligibility.slice().reverse())}}function O3(t,r){t&1&&(o(0,"button",155),s(1," Reconsider "),n())}function j3(t,r){t&1&&(o(0,"button",166),s(1," Reconsidering... "),u(2,"i",157),n())}function B3(t,r){if(t&1&&(o(0,"div",160)(1,"label",163)(2,"label",163),s(3),n()()()),t&2){let e=r.$implicit,i=r.index;d(1),m("for","reason"+i),d(1),m("for","reason"+i),d(1),$e(" ",i+1,". ",e.eligible_reasons||e.ineligible_reasons," ")}}var Ps=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F,L,N){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.router=F,this.paginationService=L,this.sanitizer=N,this.displayReasons=!1,this.reasonsForEligibility=[{reason_id:"13",eligible_reasons:"She is alive."},{reason_id:"12",eligible_reasons:"She is a female."},{reason_id:"11",eligible_reasons:"Her family\u2019s income is not more than Rs. 2.50 lakhs."},{reason_id:"10",eligible_reasons:"Her family does not owns a four-wheeler motor vehicle."},{reason_id:"9",eligible_reasons:"Her family does not owns more than 5 acres of irrigated or 10 acres of non-irrigated land."},{reason_id:"8",eligible_reasons:"She or any family member is not a member in a Govt. PSU/Board/Organization."},{reason_id:"7",eligible_reasons:"She or any family member is not employed with a Govt. Organization or receiving pension."},{reason_id:"6",eligible_reasons:"She or any family member is not an elected representative in an ULB/PRI."},{reason_id:"5",eligible_reasons:"She or any family member is not an Income Tax Payee."},{reason_id:"4",eligible_reasons:"She or any family member is not a current/former MP or MLA."},{reason_id:"3",eligible_reasons:"She does not receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Govt."},{reason_id:"2",eligible_reasons:"She is 21 years or above and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"1",eligible_reasons:"She is a resident of Odisha."}],this.reasonsForInEligibility=[{reason_id:"32",ineligible_reasons:"She is not alive."},{reason_id:"31",ineligible_reasons:"She is not a female."},{reason_id:"30",ineligible_reasons:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{reason_id:"29",ineligible_reasons:"Her family owns a four-wheeler motor vehicle."},{reason_id:"28",ineligible_reasons:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{reason_id:"27",ineligible_reasons:"She or a family member is a member in a Government PSU/Board/Organization."},{reason_id:"26",ineligible_reasons:"She or a family member is employed with a Government Organization or receives a pension."},{reason_id:"25",ineligible_reasons:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{reason_id:"24",ineligible_reasons:"She or a family member is an Income Tax Payee."},{reason_id:"23",ineligible_reasons:"She or a family member is a current/former MP or MLA."},{reason_id:"22",ineligible_reasons:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{reason_id:"21",ineligible_reasons:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"20",ineligible_reasons:"She is not a resident of Odisha."}],this.alreadySelectedReasons=[],this.recommendedData="",this.selectedReasons=[],this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.approvalCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.reConmoveStatus="",this.categories=[],this.fetchingProceedingList=!1,this.proceedingList=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.isDownloadingInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.recommendConfirmationModalstage=1,this.ulb_name="",this.exportInProgress=!1,this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({document:["",k.required]}),this.reconsiderationForm=this.fb.group({}),this.recommedationForm=this.fb.group({}),this.reconsiderForm=this.fb.group({reasons:this.fb.group({}),recommendFor:["",k.required]})}handleEligibleIneligible(){this.reconsiderForm.get("recommendFor")?.value=="approval"?this.selectedReasons=this.reasonsForEligibility.slice().reverse()?.map(a=>a?.reason_id):this.selectedReasons=[]}setTab(i){this.tab=i,this.page=1,this.selectedFieldVerificationId=[],this.searchValue="",this.selectedCategory="",this.selectedDate="",this.selectedVillage="",this.selectedStatus="",this.router.navigate([],{relativeTo:this.route,queryParams:{tab:i},queryParamsHandling:"merge"}),this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&this.tab==1&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.tab=1,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate))}isSelectedInRandomList(i){return!!(Number(i)==1&&Oe?.consent_random_list_change)}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.fetchingProceedingList=!0;let a=`/proceeding/list?block_id=${this.block_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fetchingProceedingList=!1,this.proceedingList=l.data},l=>{this.fetchingProceedingList=!1,console.error("File download failed:",l)})}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetForms();return}this.selectedImage=a}setSmallselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=600*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 600Kb."),this.resetForms();return}this.selectedImage=a}resetForms(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.reconsiderationForm.patchValue({document:""}),this.assignFieldOfficerForm.patchValue({document:""}),this.reconsiderForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity(),this.reconsiderationForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.reconsiderForm.updateValueAndValidity(),this.selectedReasons=[]}setmoveStatus(i){this.moveStatus=i,this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.assignFieldOfficerForm)}setReconStatus(i){this.reConmoveStatus=i.target.value}openModal(){this.reconsiderationForm.patchValue({remarks:""}),this.selectedReasons=[],this.recommedationForm.patchValue({remarks:""}),this.reconsiderForm.patchValue({remarks:"",reasons:"",recommendFor:""}),this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.selectedImage="",this.reconsiderationForm.updateValueAndValidity(),this.recommedationForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.reconsiderForm.updateValueAndValidity(),this.resetTouchedStatus(this.reconsiderationForm),this.resetTouchedStatus(this.recommedationForm),this.resetTouchedStatus(this.assignFieldOfficerForm),this.resetTouchedStatus(this.reconsiderForm)}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.gp_id=i.gp_id,this.block_id=i.block_id,this.district_id=i.district_id,this.district_name=$.data.find(l=>l?.id==this.district_id)?.district_name,this.block_name=be.data.find(l=>l?.id==this.block_id)?.block_name,this.gp_id&&this.fetchVillages(),this.gp_nameorWardNo=Ue.data.find(l=>String(l?.id)===this.gp_id)?.gp_name,this.route.queryParams.subscribe(l=>{l.tab?this.tab=Number(l.tab):(this.tab=1,this.router.navigate([],{relativeTo:this.route,queryParams:{tab:1},queryParamsHandling:"merge"}));let c=this.paginationService.getData("gp_id",this.gp_id,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id);!c&&this.tab==1?this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate):(this.fieldVerificationsList=c.data,this.page=c.page,this.totalApplicants=c.totalCount)})}),this.today=(0,Vs.default)().format("YYYY-MM-DD")}goBack(){this.location.back()}handleReconsiderationSubmit(){if(this.reconsiderationForm.status==="INVALID"){this.formService.triggerFormValidation(this.reconsiderationForm);return}let i=this.reconsiderationForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);ei.default.fire({title:"Are You sure ?",html:`You want to move the application of <b>${a.applicant_name}</b> from <b>${this.tab==1?"Approval":"Rejection"}</b> to Reconsideration List.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{ei.default.showLoading();let l=new FormData;l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("recommended_id",a?.id),l.append("type",i.recommendFor=="ineligible"?"1":i.recommendFor=="eligible"?"2":""),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/hold-recommended-application?user_id=${this.authService?.userDetail?.demography_id}&recommended_id=${a?.id}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("reconsiderationModalClose")?.click(),ei.default.close(),this.selectedFieldVerificationId=[],this.reconsiderationForm.patchValue({remarks:""}),this.selectedImage=null,this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,3)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,3))},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}}).then(l=>{l.dismiss,ei.default.DismissReason.cancel})}handleApproveRejectSubmit(){if(this.recommedationForm,this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}document.getElementById("modalApprovalRejectionClose")?.click();let a=document.getElementById("ConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("ConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("moveApprovalRejection");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){let a="";return i=="heading"&&(a=this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?"),i=="body"&&(a=this.recommendConfirmationModalstage==1?`You have selected <b>${this.moveStatus=="approval"?this.totalApplicants:this.totalApplicants}</b> no of applications for final <b>${this.tab==1?"Approval":"Rejection"}</b> . Are you sure to proceed ahead with these applicant ?`:`<b>${this.moveStatus=="approval"?this.totalApplicants:this.totalApplicants}</b> no of applications finally <b>${this.tab==1?"Approved":"Rejected"}</b> are matching up with the proceedings of DLSC/MLSC. <b style="color:red;">This decision is final and no further changes can be made</b>.`),this.sanitizer.bypassSecurityTrustHtml(a)}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.recommedationForm.value,a=this.fieldVerificationsList?.find(f=>f?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("category","1"),l.append("gp_id",this.gp_id);let c="";this.tab==2&&(c="/v1/review-rejection-applications"),this.tab==1&&(c="/v1/review-approval-applications"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(f=>{this.isFormSubmitInProgress=!1,this.toastService.success(f.message);let S=document.getElementById("ConfirmationModal");S&&((j.getInstance(S)||new j(S)).hide(),document.getElementById("modalApprovalRejectionClose")?.click()),this.selectedFieldVerificationId=[],this.recommedationForm.patchValue({remarks:"",document:""}),this.recommendConfirmationModalstage=1,this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}fetchVillages(){let i=`/v1/fv/village-list?gp_id=${this.gp_id}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.villageList=a.data},a=>{this.villageList=[]})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/recommended-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(g+=`&field_verification_category=${this.selectedCategory}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I?.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}let L="";return I?.block_or_ulb_status==null?L=I.fv_status=="1"?"For Approval":"For Rejection":L=I?.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},I),{fetStatus:F,blockUlbStatus:L})}),this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,1,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,v.totalCount),this.approvalCount=v.totalCount,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}fetchApplicationListTabWise(i,a,l,c,f,S){this.page=1;let g=`/v1/recommended-list?isAll=0&type=${S==1?"eligible":S==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(g+=`&field_verification_category=${this.selectedCategory}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data;let I=v.data.map(F=>{let L="";switch(F?.fv_status){case"1":L="Eligible";break;case"0":case"3":L="Ineligible";break;default:L="N/A"}let N="";return F?.block_or_ulb_status==null?N=F.fv_status=="1"?"For Approval":"For Rejection":N=F?.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},F),{fetStatus:L,blockUlbStatus:N})});this.paginationService.setData("gp_id",this.gp_id,I,1,S==1?"RecommendForApprovalTab":S==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,v.totalCount)},v=>{this.isStatsLoading=!1})}handleExport(i,a){this.page=1;let l=`/v1/recommended-list-pdf?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(l+=`&gp_id=${i}`),a&&(l+=`&ward_id=${a}`),this.searchValue&&(l+=`&search=${this.searchValue}`),this.selectedVillage&&(l+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(l+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(l+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(l+=`&field_verification_category=${this.selectedCategory}`),this.isDownloadingInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${l}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(c=>{this.isDownloadingInProgress=!1,this.downloadFile(c,"recommendation_application.pdf")},c=>{this.isDownloadingInProgress=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/recommended-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(v+=`&field_verification_category=${this.selectedCategory}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L?.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}let ee="";return L?.block_or_ulb_status==null?ee=L.fv_status=="1"?"For Approval":"For Rejection":ee=L?.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},L),{fetStatus:N,blockUlbStatus:ee})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F],this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,this.page,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,I.totalCount)}this.approvalCount=I.totalCount,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}onStatusChange(i){this.selectedStatus=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleSubmit(){if(this.assignFieldOfficerForm.status==="INVALID"){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("recommended_id",a?.id),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="approval"?"3":"4"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1//move-recommendation-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("BtnClose")?.click(),this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=[i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}handleAction(i){this.setmoveStatus(i),this.openModal()}handleReconsiderSubmit(){if(this.reconsiderForm.invalid){this.formService.triggerFormValidation(this.reconsiderForm);return}if(!this.selectedReasons?.length){this.toastService.error("Please select reasons to reconsider");return}let i=this.reconsiderForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);ei.default.fire({title:"Are You sure ?",html:`You want to reconsider the application of <b>${a.applicant_name}</b> as <b>${a.fv_status=="1"?"Eligible":"Ineligible"}</b> for <b>${this.reConmoveStatus==="approval"?"Final Approval":"Final Rejection"}</b>.<b  style="color:red;">This decision is final and no further changes can be made</b>.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{ei.default.showLoading();let l={recommended_id:a?.id,application_id:a?.application_id,type:this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.reConmoveStatus=="approval"?"3":"4"};if(i.recommendFor==="approval")if(this.selectedReasons&&this.selectedReasons.length>0)l.eligible_reasons=this.selectedReasons.join(",");else{this.toastService.error("Please select valid reasons for eligibility.");return}else if(i.recommendFor==="rejection")if(this.selectedReasons&&this.selectedReasons.length>0)l.ineligible_reasons=this.selectedReasons.join(",");else{this.toastService.error("Please select valid reasons for ineligibility.");return}this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/reconsider-hold-application`,l,{headers:{Authorization:this.authService.authToken,"Content-Type":"application/json"}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("reconsiderModalClose")?.click(),ei.default.close(),this.selectedFieldVerificationId=[],this.reconsiderForm.patchValue({remarks:"",reasons:"",recommendFor:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),i.recommendFor==="approval"?this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1):this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2),this.resetForms()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message),this.resetForms()})}}).then(l=>{l.dismiss,ei.default.DismissReason.cancel})}getSelectedReasons(i){return i.filter((a,l)=>this.reconsiderForm.get(`reason${l}`)?.value).map(a=>a.reason_id)}onRecommendationChange(i){this.displayReasons=!0,i!==this.reconsiderForm.value.recommendFor&&this.reconsiderForm.reset()}onReasonChange(i,a){if(i.target.checked)this.selectedReasons.push(a);else{let l=this.selectedReasons.indexOf(a);l!==-1&&this.selectedReasons.splice(l,1)}}openHyperlinkModal(i){let a=`${this.appService.departmentBaseUrl}/v1/reconsider-logs?recommended_id=${i}`;this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.recommendedData=J(H({},l),{application_number:this.fieldVerificationsList.find(g=>g.application_id==l?.application_id)?.application_number});let c=[];this.recommendedData?.eligible_reasons&&(c=this.recommendedData?.eligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForEligibility.filter(g=>c.includes(g.reason_id))),this.recommendedData?.ineligible_reasons&&(c=this.recommendedData?.ineligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForInEligibility.filter(g=>c.includes(g.reason_id))),document.getElementById("hyperlinkModalClose")?.click();let S=document.getElementById("hyperlinkModal");S?new j(S).show():console.error("Modal element 'hyperlinkModal' not found.")},l=>{console.error("Error fetching data:",l)})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(Ne),b(fe),b(Lt))},r.\u0275cmp=D({type:r,selectors:[["app-gp-recommend-list"]],decls:218,vars:51,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],[1,"form-control","form-select",3,"value","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["required","",1,"form-control","form-select",2,"text-transform","uppercase",3,"value","change"],["value","1"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],["value","eligible"],["value","ineligible"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["class","btn px-2 py-2","style",`
                             background-color: #ffe8d0;
                             color: #fd7b03;
                             font-weight: 540;
                           `,"type","button","disabled",""],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"d-flex","justify-content-between","pr-5"],[1,"col-md-8","row","mt-3","mb-3"],[1,"col-md-3","text-sm","d-flex","gap-2"],["type","button","class","btn btn-light text-black fw-regular","style","white-space: nowrap;",3,"click",4,"ngIf"],["type","button","class","btn btn-warning text-white fw-bold","style","white-space: nowrap;",3,"click",4,"ngIf"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["id","moveApprovalRejection","tabindex","-1","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","myModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","modalApprovalRejectionClose",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],["class","mb-3 input_raw",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],["id","ConfirmationModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalCenterTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-warning"],[1,"modal-content","shadow-lg"],[1,"modal-body","text-center","py-4",2,"display","flex","flex-direction","column","gap","15px"],[1,"fa-solid","fa-circle-exclamation","fa-3x","text-warning","mb-3",2,"color","#ff9003"],["id","exampleModalLongTitle",1,"modal-title",3,"innerHTML"],[1,"mb-0",3,"innerHTML"],[1,"modal-footer","justify-content-center"],["type","button","data-dismiss","modal",1,"btn","btn-secondary","px-4",3,"click"],["type","button","class","btn btn-primary px-4",3,"click",4,"ngIf","ngIfElse"],["loadingButton",""],["id","reconsiderationModal","tabindex","-1","aria-labelledby","recommendModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-content",2,"max-height","90vh"],["id","recommendModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","reconsiderationModalClose",1,"btn-close"],["id","reconsiderModal","tabindex","-1","aria-labelledby","myModalLabel","aria-hidden","true",1,"modal","fade"],["id","modal1",1,"modal-dialog","modal-dialog-centered",2,"max-width","60%","left","0%"],["type","button","id","reconsiderModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body",2,"max-height","70vh","overflow-y","scroll"],["id","myForm",3,"formGroup","ngSubmit"],[1,"d-flex","gap-3"],["id","input_raw",1,"mb-3","input_raw","flex-grow-1"],["for","applicationNo",1,"form-label"],["type","text","id","applicationNo","disabled","",1,"form-control",3,"value"],["for","date",1,"form-label"],["type","date","id","date","disabled","",1,"form-control",3,"value"],["for","recommendFor",1,"form-label"],[1,"d-flex","flex-column","gap-1","w-100"],[1,"d-flex","flex-column","gap-3","align-items-start",2,"gap","28px"],[1,"d-flex","gap-2"],["type","radio","id","recommendForApproval","formControlName","recommendFor","name","recommendFor","value","approval",1,"radio-green",3,"change"],["for","recommendForApproval",2,"color","green"],["type","radio","id","recommendForIneligible","formControlName","recommendFor","name","recommendFor","value","rejection",3,"change"],["for","recommendForRejection",2,"color","red"],[3,"field"],["class","mb-3",4,"ngIf"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center",4,"ngIf"],["type","button","disabled","","class","btn bg-btn d-flex justify-content-center align-items-center",4,"ngIf"],["id","hyperlinkModal","tabindex","-1","aria-labelledby","hyperlinkModalLabel","aria-hidden","true",1,"modal","fade"],["id","modal2",1,"modal-dialog","modal-dialog-centered"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","hyperlinkModalClose",1,"btn-close"],[1,"mb-3"],[1,"form-label","fw-bold"],["class","form-check",4,"ngFor","ngForOf"],[3,"value"],["class","btn px-3 py-2 me-2","style",`
                background-color: #1778FF;
                color: #fff;
                font-weight: 540;
                border-radius: 7px !important;
              `,"type","button","data-bs-toggle","modal","data-bs-target","#reconsiderationModal",3,"click",4,"ngIf"],["class","btn px-3 py-2 me-2","style",`
                background-color: #508de1;
                color: #f8f8f8;
                font-weight: 540;
                border-radius: 7px !important;
              `,"disabled","","type","button",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                background-color:rgb(133, 211, 133);
                color: #fff;
                font-weight: 540;
                border-radius: 7px !important;
              `,"type","button","data-bs-toggle","modal","data-bs-target","#reconsiderModal",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
              background-color:rgb(133, 211, 133);
                color: #f8f8f8;
                font-weight: 540;
                border-radius: 7px !important;
              `,"disabled","","type","button",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                      background-color: #51A41F;
                      color: #f8f8f8;
                      font-weight: 540;
                      border-radius: 7px !important;
                    `,"type","button","data-bs-toggle","modal","data-bs-target","#moveApprovalRejection",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
                      background-color: #88ff3f;
                      color: #f8f8f8;
                      font-weight: 540;
                      border-radius: 7px !important;
                      opacity: 0.6; /* Add transparency to indicate disabled state visually */
                    `,"type","button","disabled","",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
    background-color: #B80003;
    color: #f8f8f8;
    font-weight: 540;
    border-radius: 7px !important;
  `,"type","button","data-bs-toggle","modal","data-bs-target","#moveApprovalRejection",3,"click",4,"ngIf"],["class","btn px-2 py-2 me-2","style",`
    background-color: #f9383b;
    color: #f8f8f8;
    font-weight: 540;
    border-radius: 7px !important;
    opacity: 0.6; /* Add transparency to indicate disabled state visually */
  `,"type","button","disabled","",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#reconsiderationModal",1,"btn","px-3","py-2","me-2",2,"background-color","#1778FF","color","#fff","font-weight","540","border-radius","7px !important",3,"click"],["disabled","","type","button",1,"btn","px-3","py-2","me-2",2,"background-color","#508de1","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["type","button","data-bs-toggle","modal","data-bs-target","#reconsiderModal",1,"btn","px-2","py-2","me-2",2,"background-color","rgb(133, 211, 133)","color","#fff","font-weight","540","border-radius","7px !important",3,"click"],["disabled","","type","button",1,"btn","px-2","py-2","me-2",2,"background-color","rgb(133, 211, 133)","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["type","button","data-bs-toggle","modal","data-bs-target","#moveApprovalRejection",1,"btn","px-2","py-2","me-2",2,"background-color","#51A41F","color","#f8f8f8","font-weight","540","border-radius","7px !important",3,"click"],["type","button","disabled","",1,"btn","px-2","py-2","me-2",2,"background-color","#88ff3f","color","#f8f8f8","font-weight","540","border-radius","7px !important","opacity","0.6"],["type","button","data-bs-toggle","modal","data-bs-target","#moveApprovalRejection",1,"btn","px-2","py-2","me-2",2,"background-color","#B80003","color","#f8f8f8","font-weight","540","border-radius","7px !important",3,"click"],["type","button","disabled","",1,"btn","px-2","py-2","me-2",2,"background-color","#f9383b","color","#f8f8f8","font-weight","540","border-radius","7px !important","opacity","0.6"],["type","button","disabled","",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540"],[1,"fa","fa-spinner","fa-spin"],["class","btn px-2 py-2","style",`
                             background-color: #ffe8d0;
                             color: #fd7b03;
                             font-weight: 540;
                           `,"type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["aria-current","page",1,"breadcrumb-item","active"],["type","button",1,"btn","btn-light","text-black","fw-regular",2,"white-space","nowrap",3,"click"],["type","button",1,"btn","btn-warning","text-white","fw-bold",2,"white-space","nowrap",3,"click"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"table-responsive","mt-4"],["class","table",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"table"],[2,"font-size","14px","font-weight","620"],["style","width: 5%;",4,"ngIf"],[1,"text-nowrap"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],[2,"width","5%"],["type","checkbox",2,"cursor","pointer",3,"checked","change"],["style","color:rgb(255, 149, 0);"],[1,"text-nowrap",2,"text-transform","uppercase"],[2,"color","rgb(255, 149, 0)"],["href","javascript:void(0)",3,"click",4,"ngIf"],[4,"ngIf"],["href","javascript:void(0)",3,"click"],["class"," text-nowrap","style","color:rgb(255, 149, 0);"],[1,"text-nowrap",2,"color","rgb(255, 149, 0)"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"mt-6","text-center"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"],["type","button",1,"btn","btn-primary","px-4",3,"click"],["type","button",1,"btn","btn-primary","px-4"],[1,"form-check"],["class","form-check-input","type","checkbox","checked","","disabled","",4,"ngIf"],["class","form-check-input","type","checkbox",3,"checked","change",4,"ngIf"],[1,"form-check-label",3,"for"],["type","checkbox","checked","","disabled","",1,"form-check-input"],["type","checkbox",1,"form-check-input",3,"checked","change"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16,"Village"),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.handleVillageChange(f)}),o(20,"option",16),s(21,"All"),n(),h(22,CC,2,2,"option",17),n()()(),o(23,"div",11)(24,"div",12)(25,"label",13),s(26," FET Category "),o(27,"span",14),s(28,"*"),n()(),o(29,"select",18),x("change",function(f){return l.onCategoryChange(f)}),o(30,"option",16),s(31,"All"),n(),o(32,"option",19),s(33,"Non NFSA"),n()()()(),o(34,"div",11)(35,"div",12)(36,"label",13),s(37," Recommended Date "),o(38,"span",14),s(39,"*"),n()(),o(40,"input",20),x("change",function(f){return l.onDateChange(f)}),n()()(),o(41,"div",11)(42,"div",12)(43,"label",13),s(44," FET Status "),o(45,"span",14),s(46,"*"),n()(),o(47,"select",18),x("change",function(f){return l.onStatusChange(f)}),o(48,"option",16),s(49,"All"),n(),o(50,"option",21),s(51,"Eligible"),n(),o(52,"option",22),s(53,"Ineligible"),n()()()()()(),o(54,"div",23)(55,"div",24)(56,"div",25)(57,"div",26),s(58," List under Consideration by DLSC/MLSC "),n(),o(59,"div",27)(60,"div",28)(61,"input",29),x("change",function(f){return l.handleSearchChange(f)}),n(),u(62,"i",30),n(),h(63,DC,8,8)(64,AC,3,0,"button",31)(65,PC,1,1),n()(),o(66,"nav",32)(67,"ol",33)(68,"li",34),s(69),n(),h(70,MC,2,1,"li",35)(71,RC,2,1,"li",35),n()(),o(72,"div",36)(73,"div",37)(74,"div",38),h(75,OC,2,0,"button",39)(76,jC,2,0,"button",40)(77,BC,2,0,"button",39)(78,$C,2,0,"button",40)(79,NC,2,0,"button",39)(80,GC,2,0,"button",39)(81,WC,2,0,"button",39)(82,zC,2,0,"button",39)(83,UC,2,0,"button",40),n()()(),o(84,"div",41)(85,"div",42)(86,"div",43)(87,"span"),s(88,"Total No. of Applications : "),n(),o(89,"span",44),s(90),n()()()(),h(91,HC,3,0,"div",45)(92,w3,3,1),n()(),o(93,"div",46)(94,"div",47)(95,"div",48)(96,"div",49)(97,"h5",50),s(98),n(),u(99,"button",51),n(),o(100,"div",52)(101,"form",53),x("submit",function(){return l.handleApproveRejectSubmit()}),o(102,"div",54)(103,"label",55),s(104,"Approval Date :"),n(),u(105,"input",56),n(),o(106,"div",54)(107,"label",55),s(108,"Total No. Applications :"),n(),u(109,"input",57),n(),h(110,E3,4,1,"div",58)(111,I3,4,1,"div",58),o(112,"div",59)(113,"div",60)(114,"div",61),h(115,T3,2,1,"button",62)(116,k3,3,1),n()()()()()()()(),o(117,"div",63)(118,"div",64)(119,"div",65)(120,"div",66),u(121,"i",67)(122,"h2",68)(123,"p",69),n(),o(124,"div",70)(125,"button",71),x("click",function(){return l.closeModal()}),s(126,"No"),n(),h(127,L3,2,0,"button",72)(128,F3,3,0,"ng-template",null,73,ge),n()()()(),o(130,"div",74)(131,"div",47)(132,"div",75)(133,"div",49)(134,"h5",76),s(135,"Hold Application for Reconsideration"),n(),u(136,"button",77),n(),o(137,"div",52)(138,"form",53),x("submit",function(){return l.handleReconsiderationSubmit()}),o(139,"div",54)(140,"label",55),s(141,"Application No. :"),n(),u(142,"input",57),n(),o(143,"div",54)(144,"label",55),s(145,"Date :"),n(),u(146,"input",56),n(),o(147,"div",59)(148,"div",60)(149,"div",61),h(150,D3,2,0,"button",62)(151,A3,3,0),n()()()()()()()(),o(152,"div",78)(153,"div",79)(154,"div",48)(155,"div",49)(156,"h5",50),s(157,"Application Reconsideration Form"),n(),u(158,"button",80),n(),o(159,"div",81)(160,"form",82),x("ngSubmit",function(){return l.handleReconsiderSubmit()}),o(161,"div",83)(162,"div",84)(163,"label",85),s(164,"Application No. :"),n(),u(165,"input",86),n(),o(166,"div",84)(167,"label",87),s(168,"Date :"),n(),u(169,"input",88),n()(),o(170,"div",54)(171,"label",89),s(172,"DLSC Recommendation "),o(173,"span",14),s(174,"*"),n(),s(175," :"),n(),o(176,"div",90)(177,"div",91)(178,"div",92)(179,"input",93),x("change",function(){return l.handleEligibleIneligible()})("change",function(){return l.onRecommendationChange("approval")})("change",function(f){return l.setReconStatus(f)}),n(),o(180,"label",94),s(181,"For Final Approval"),n(),u(182,"br"),n(),o(183,"div",92)(184,"input",95),x("change",function(){return l.handleEligibleIneligible()})("change",function(){return l.onRecommendationChange("rejection")})("change",function(f){return l.setReconStatus(f)}),n(),o(185,"label",96),s(186,"For Final Rejection"),n(),u(187,"br"),n()(),u(188,"app-form-error",97),n()(),h(189,R3,7,2,"div",98),o(190,"div",59)(191,"div",60)(192,"div",61),h(193,O3,2,0,"button",99)(194,j3,3,0,"button",100),n()()()()()()()(),o(195,"div",101)(196,"div",102)(197,"div",48)(198,"div",49),u(199,"button",103),n(),o(200,"div",52)(201,"form")(202,"div",83)(203,"div",84)(204,"label",85),s(205,"Application No. :"),n(),u(206,"input",86),n(),o(207,"div",84)(208,"label",87),s(209,"Date :"),n(),u(210,"input",88),n()(),o(211,"div",104)(212,"label",105),s(213),o(214,"span",14),s(215,"*"),n(),s(216,": "),n(),h(217,B3,4,4,"div",106),n()()()()()()()),a&2){let c=bt(129),f;d(4),ce("routerLink","/department/portal/approval-module/recommend-list/district-stats/gp-stats/",l.district_id,"/",l.block_id,""),d(15),m("value",l.selectedVillage),d(3),m("ngForOf",l.villageList),d(7),m("value",l.selectedCategory),d(11),m("value",l.selectedDate)("max",l.today),d(7),m("value",l.selectedStatus),d(14),m("value",l.searchValue),d(2),w(63,(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)=="4"?63:-1),d(1),w(64,l.isDownloadingInProgress?64:65),d(5),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.gp_nameorWardNo),d(4),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===2),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===3),d(1),m("ngIf",l.tab===3),d(1),m("ngIf",l.tab===3),d(7),T(" ",l.totalApplicants,""),d(1),w(91,l.isStatsLoading?91:92),d(7),T(" ",l.moveStatus=="approval"?"Finally Reject Form":"Finally Approve Form",""),d(3),m("formGroup",l.recommedationForm),d(4),m("value",l.today),d(4),m("value",l.totalApplicants),d(1),m("ngIf",l.tab===1),d(1),m("ngIf",l.tab===2),d(4),w(115,l.isFormSubmitInProgress?116:115),d(7),m("innerHTML",l.getLabel("heading"),at),d(1),m("innerHTML",l.getLabel("body"),at),d(4),m("ngIf",!l.isFormSubmitInProgress)("ngIfElse",c),d(11),m("formGroup",l.reconsiderationForm),d(4),m("value",l.getApplicationNumber()),d(4),m("value",l.today),d(4),w(150,l.isFormSubmitInProgress?151:150),d(10),m("formGroup",l.reconsiderForm),d(5),m("value",l.getApplicationNumber()),d(4),m("value",l.today),d(19),m("field",l.reconsiderForm.get("recommendFor")),d(1),m("ngIf",(f=l.reconsiderForm.get("recommendFor"))==null?null:f.value),d(4),m("ngIf",!l.isFormSubmitInProgress),d(1),m("ngIf",l.isFormSubmitInProgress),d(12),m("value",l.recommendedData==null?null:l.recommendedData.application_number),d(4),m("value",l.today),d(3),T(" Reasons for ",l.recommendedData!=null&&l.recommendedData.eligible_reasons?"Eligibility":"Ineligibility",""),d(4),m("ngForOf",l.alreadySelectedReasons)}},dependencies:[A,P,W,se,Ie,Te,Y,ai,U,le,Fe,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}.accordion-button[_ngcontent-%COMP%]:focus{box-shadow:none}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:currentColor;background-color:transparent;box-shadow:none}.accordion-button[_ngcontent-%COMP%]:hover{text-decoration:none;color:currentColor;background-color:transparent}.accordion-button[_ngcontent-%COMP%]:after{color:inherit}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}#modal1[_ngcontent-%COMP%]{max-width:80%;left:8.5%}.input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#input_raw[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}#input_raw[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px;border:1px solid #ccc;border-radius:4px;padding:0 10px;font-size:14px;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#fd7b03;box-shadow:0 0 4px #fd7b0380;outline:none}#input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#modal2[_ngcontent-%COMP%]{max-width:80%;top:-22%;left:7.5%}"]});let t=r;return t})();var Ms=B(ve());var Rs=B(me());function $3(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function N3(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function G3(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function W3(t,r){t&1&&(o(0,"th",34),s(1,"ULB/MC"),n())}function z3(t,r){t&1&&s(0," return MC ")}function U3(t,r){t&1&&s(0," return ULB ")}function H3(t,r){if(t&1&&(o(0,"th",34),h(1,z3,1,0)(2,U3,1,0),n()),t&2){let e=p(3);d(1),w(1,e.authService.userDetail.role==4?1:2)}}function Y3(t,r){if(t&1&&(o(0,"a",38),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/approved-list/district-stats/ward-stats/",i.district_id,"/",e==null?null:e.ulb_id,"")}}function q3(t,r){t&1&&(o(0,"a",39),s(1,"View "),n())}function K3(t,r){if(t&1&&(o(0,"tr",35)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,Y3,2,2,"a",36)(9,q3,2,0,"a",37),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.ulb_name),d(2),_(e.count||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function J3(t,r){if(t&1&&(o(0,"tr",35),u(1,"td",30),o(2,"td",40),s(3,"GRAND TOTAL"),n(),o(4,"td",40),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," ")}}function X3(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN"),n(),h(5,W3,2,0,"th",31)(6,H3,3,1,"th",31),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,K3,10,5,"tr",32)(13,J3,7,1,"tr",33),n()()),t&2){let e=p(2);d(5),m("ngIf",e.authService.userDetail.demography_type!=5),d(1),m("ngIf",e.authService.userDetail.demography_type==5),d(6),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function Q3(t,r){t&1&&(o(0,"h5",41),s(1," No Data Found "),n())}function Z3(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Final Approved List "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,N3,3,0,"button",22)(15,G3,3,0),n()()(),o(16,"div",23),h(17,X3,14,4,"table",24)(18,Q3,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var Os=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ulb_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/reviewed-ulb-count?status=eligible&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="APPROVED LIST",l=new Date,c=`Timestamp: ${(0,Rs.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:g.ulb_name||"",fontSize:9},{text:g.count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Ms.default.createPdf(S).download(`Approved List For ${this.district_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-ulb-wise-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter ULB Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],["style","width: 70%;",4,"ngIf"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[2,"width","70%"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black;text-transform: none;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black","text-transform","none"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,$3,3,0,"div",9)(11,Z3,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var js=B(ve());var ka=B(me());function ey(t,r){if(t&1){let e=E();o(0,"div",7)(1,"a",8),x("click",function(){C(e);let a=p();return y(a.goBack())}),o(2,"button",9),u(3,"i",10),s(4," Back"),n()()()}}function ty(t,r){t&1&&(o(0,"div",11),u(1,"i",12),s(2," We are fetching the data, please wait. "),n())}function iy(t,r){if(t&1){let e=E();o(0,"button",27),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",28),s(2,"Download "),n()}}function ny(t,r){t&1&&(o(0,"button",29),u(1,"i",30),s(2,"Downloading... "),n())}function oy(t,r){if(t&1){let e=E();o(0,"a",39),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.gp_id))}),s(1,"View "),n()}if(t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/approved-list/district-stats/gp-stats/",i.district_id,"/",i.block_id,"/",e==null?null:e.gp_id,"")}}function ay(t,r){t&1&&(o(0,"a",40),s(1,"View "),n())}function ry(t,r){if(t&1&&(o(0,"tr",36)(1,"td",32),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,oy,2,3,"a",37)(9,ay,2,0,"a",38),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.gp_name),d(2),_(e.count||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function ly(t,r){if(t&1&&(o(0,"tr",36),u(1,"td",32),o(2,"td",41),s(3,"GRAND TOTAL"),n(),o(4,"td",41),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," ")}}function sy(t,r){if(t&1&&(o(0,"table",31)(1,"thead")(2,"tr")(3,"th",32),s(4,"SN"),n(),o(5,"th",33),s(6,"GP"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,ry,10,5,"tr",34)(13,ly,7,1,"tr",35),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function dy(t,r){t&1&&(o(0,"h5",42),s(1," No Data Found "),n())}function cy(t,r){if(t&1){let e=E();o(0,"div",13)(1,"div",13)(2,"div",14)(3,"div",15),s(4," Final Approved List "),n(),o(5,"nav",16)(6,"ol",17)(7,"li",18),s(8),n(),o(9,"li",19),s(10),n()()()(),o(11,"div",20)(12,"div",21)(13,"input",22),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",23),n(),o(15,"div"),h(16,iy,3,0,"button",24)(17,ny,3,0),n()()(),o(18,"div",25),h(19,sy,14,2,"table",26)(20,dy,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.block_name," "),d(3),m("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}var Bs=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fb=S,this.toastService=g,this.formService=v,this.paginationService=I,this.isStatsLoading=!1,this.isExportInProgress=!1,this.isFormSubmitInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.block_id="",this.district_name="",this.block_name="",this.selectedGpId="",this.selectedImage="",this.ulb_id="",this.today="",this.ulb_name="",this.recommedationForm=this.fb.group({remarks:["",k.required],document:["",k.required]})}goBack(){this.location.back()}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}handleViewClick(i){this.paginationService.setData("gp_id",i,null,1,"ApprovedList",this.authService.userDetail.demography_id,0)}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.block_id=i.block_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.block_name=be.data.find(a=>a.id==this.block_id)?.block_name,this.fetchDrillDownList()}),this.today=(0,ka.default)().format("YYYY-MM-DD")}setselectedImage(i){this.selectedImage=i.target.files[0]}toggleWardSelection(i){if(i==this.selectedGpId){this.selectedGpId="";return}this.selectedGpId=i}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.gp_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/reviewed-gp-count?status=eligible&block_id=${this.block_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="APPROVED LIST",l=new Date,c=`Timestamp: ${(0,ka.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"GP NAME",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:this.block_name||"",fontSize:9},{text:g.gp_name||"",fontSize:9},{text:g.count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.block_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","25%","20%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};js.default.createPdf(S).download(`Approved List For ${this.block_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("photo",this.selectedImage),a.append("remarks",i.remarks),a.append("category","1"),a.append("gp_id",this.selectedGpId),a.append("user_id",this.authService?.userDetail?.demography_id);let l="";l="/v1/recommend-fv-for-ineligible",l="/v1/recommend-fv-for-eligible",this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("recommendFormClose")?.click(),this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G),b(Q),b(K),b(Z),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-gp-wise-stats"]],decls:8,vars:2,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter GP/Ward ",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink","click",4,"ngIf"],["disabled","","type","button","style","color: black;text-transform: none;",4,"ngIf"],[3,"routerLink","click"],["disabled","","type","button",2,"color","black","text-transform","none"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,ey,5,0,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,ty,3,0,"div",6)(7,cy,21,5),n()()()),a&2&&(d(3),w(3,l.authService.userDetail.demography_type!="3"?3:-1),d(3),w(6,l.isStatsLoading?6:7))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var $s=B(ve());var La=B(me());function my(t,r){if(t&1){let e=E();o(0,"div",7)(1,"a",8),x("click",function(){C(e);let a=p();return y(a.goBack())}),o(2,"button",9),u(3,"i",10),s(4," Back"),n()()()}}function py(t,r){t&1&&(o(0,"div",11),u(1,"i",12),s(2," We are fetching the data, please wait. "),n())}function uy(t,r){if(t&1){let e=E();o(0,"button",27),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",28),s(2,"Download "),n()}}function hy(t,r){t&1&&(o(0,"button",29),u(1,"i",30),s(2,"Downloading... "),n())}function fy(t,r){if(t&1){let e=E();o(0,"a",39),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.ward_id))}),s(1,"View "),n()}if(t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/approved-list/district-stats/ward-stats/",i.district_id,"/",i.ulb_id,"/",e==null?null:e.ward_id,"")}}function _y(t,r){t&1&&(o(0,"a",40),s(1,"View "),n())}function gy(t,r){if(t&1&&(o(0,"tr",35)(1,"td",36),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,fy,2,3,"a",37)(9,_y,2,0,"a",38),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.ward_no),d(2),_(e.count||"0"),d(2),m("ngIf",e==null?null:e.count),d(1),m("ngIf",!(e!=null&&e.count))}}function by(t,r){if(t&1&&(o(0,"tr",35),u(1,"td",36),o(2,"td",41),s(3,"GRAND TOTAL"),n(),o(4,"td",41),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("count")," ")}}function vy(t,r){if(t&1&&(o(0,"table",31)(1,"thead")(2,"tr")(3,"th"),s(4,"SN"),n(),o(5,"th",32),s(6,"Ward"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,gy,10,5,"tr",33)(13,by,7,1,"tr",34),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function xy(t,r){t&1&&(o(0,"h5",42),s(1," No Data Found "),n())}function Sy(t,r){if(t&1){let e=E();o(0,"div",13)(1,"div",13)(2,"div",14)(3,"div",15),s(4," Final Approved List "),n(),o(5,"nav",16)(6,"ol",17)(7,"li",18),s(8),n(),o(9,"li",19),s(10),n()()()(),o(11,"div",20)(12,"div",21)(13,"input",22),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",23),n(),o(15,"div"),h(16,uy,3,0,"button",24)(17,hy,3,0),n()()(),o(18,"div",25),h(19,vy,14,2,"table",26)(20,xy,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.ulb_name," "),d(3),m("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}var Ns=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fb=S,this.toastService=g,this.formService=v,this.paginationService=I,this.isStatsLoading=!1,this.isFormSubmitInProgress=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.ulb_id="",this.district_name="",this.ulb_name="",this.selectedWardId="",this.mcIDS=Oe.MC_IDS,this.selectedImage="",this.today="",this.recommedationForm=this.fb.group({remarks:["",k.required],document:["",k.required]})}goBack(){this.location.back()}handleViewClick(i){this.paginationService.setData("ward_id",i,null,1,"ApprovedList",this.authService.userDetail.demography_id,0)}isMcAvailable(){return this.mcIDS?.includes(Number(this.ulb_id))}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}setselectedImage(i){this.selectedImage=i.target.files[0]}toggleWardSelection(i){if(i==this.selectedWardId){this.selectedWardId="";return}this.selectedWardId=i}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.ulb_id=i.ulb_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.ulb_name=he.data.find(a=>a.id==this.ulb_id)?.ulb_name,this.fetchDrillDownList()}),this.today=(0,La.default)().format("YYYY-MM-DD")}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ward_no.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/reviewed-ward-count?status=eligible&ulb_id=${this.ulb_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="APPROVED LIST",l=new Date,c=`Timestamp: ${(0,La.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"GP/WARD",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:this.ulb_name||"",fontSize:9},{text:g.ward_no||"",fontSize:9},{text:g.count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.ulb_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","25%","20%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};$s.default.createPdf(S).download(`Approved List For ${this.ulb_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G),b(Q),b(K),b(Z),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-ward-wise-stats"]],decls:8,vars:2,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter GP/Ward",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[2,"width","5%"],[3,"routerLink","click",4,"ngIf"],["disabled","","type","button","style","color: black;text-transform: none;",4,"ngIf"],[3,"routerLink","click"],["disabled","","type","button",2,"color","black","text-transform","none"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,my,5,0,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,py,3,0,"div",6)(7,Sy,21,5),n()()()),a&2&&(d(3),w(3,(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)!="7"?3:-1),d(3),w(6,l.isStatsLoading?6:7))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Gs=B(me());function Cy(t,r){t&1&&(o(0,"button",38),u(1,"i",39),s(2," Downloading.. "),n())}function yy(t,r){if(t&1){let e=E();o(0,"button",41),x("click",function(){C(e);let a=p(2);return y(a.handleExport())}),u(1,"i",42),s(2,"Download "),n()}}function wy(t,r){if(t&1&&h(0,yy,3,0,"button",40),t&2){let e=p();m("ngIf",e.totalApplicants>0)}}function Ey(t,r){if(t&1&&(o(0,"li",43),s(1),n()),t&2){let e=p();d(1),_(e.ulb_name)}}function Iy(t,r){if(t&1&&(o(0,"li",43),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function Ty(t,r){t&1&&(o(0,"div",44),u(1,"i",39),s(2," We are fetching the data, please wait. "),n())}function ky(t,r){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td",52),s(6),n(),o(7,"td",52),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n()()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(e==null?null:e.fetStatus),d(2),_(e==null?null:e.blockUlbStatus),d(2),_(a.appService.dateFormat(e==null?null:e.reviewed_date))}}function Ly(t,r){t&1&&(o(0,"span"),u(1,"i",39),s(2," Loading..."),n())}function Fy(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function Dy(t,r){if(t&1){let e=E();o(0,"div",53)(1,"button",54),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,Ly,3,0,"span",55)(3,Fy,2,0,"span",55),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function Ay(t,r){if(t&1&&(o(0,"div",45)(1,"table",46)(2,"thead",47)(3,"tr")(4,"th",48),s(5,"SN"),n(),o(6,"th",48),s(7,"Application No."),n(),o(8,"th",48),s(9,"Applicant Name"),n(),o(10,"th",48),s(11,"Father/Husband Name"),n(),o(12,"th",48),s(13,"FET Status"),n(),o(14,"th",48),s(15,"BLSC/ULSC Recommendation"),n(),o(16,"th",48),s(17," Approval Date"),n()()(),o(18,"tbody",49),h(19,ky,15,7,"tr",50),n()()(),h(20,Dy,4,2,"div",51)),t&2){let e=p(2);d(19),m("ngForOf",e.fieldVerificationsList),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!==e.totalApplicants)}}function Vy(t,r){t&1&&(o(0,"h5",56),s(1," No Application Found "),n())}function Py(t,r){if(t&1&&(o(0,"div"),h(1,Ay,21,2)(2,Vy,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}var Ws=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.paginationService=F,this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.isDownloadingInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.ulb_name="",this.exportInProgress=!1,this.ulb_id="",this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required]})}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.ward_id=i.ward_id,this.ulb_id=i.ulb_id,this.district_id=i.district_id,this.district_name=$.data.find(c=>c?.id==this.district_id)?.district_name,this.ulb_name=he.data.find(c=>c?.id==this.ulb_id)?.ulb_name,this.gp_nameorWardNo=He.data.find(c=>String(c?.id)===this.ward_id)?.ward_no;let l=this.paginationService.getData("ward_id",this.ward_id,"ApprovedList",this.authService.userDetail.demography_id);l?(this.fieldVerificationsList=l.data,this.page=l.page,this.totalApplicants=l.totalCount):this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}),this.today=(0,Gs.default)().format("YYYY-MM-DD")}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate))}goBack(){this.location.back()}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/reviewed-list?&type=eligible&page=${this.page}&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&review_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}let L="";return I.block_or_ulb_status==null?L=I.fv_status=="1"?"For Approval":"For Rejection":L=I.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},I),{fetStatus:F,blockUlbStatus:L})}),this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,1,"ApprovedList",this.authService.userDetail.demography_id,v.totalCount),this.eligibleCount=v.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/reviewed-list?&type=eligible&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&review_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}let ee="";return L.block_or_ulb_status==null?ee=L.fv_status=="1"?"For Approval":"For Rejection":ee=L.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},L),{fetStatus:N,blockUlbStatus:ee})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F],this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,this.page,"ApprovedList",this.authService.userDetail.demography_id,I.totalCount)}this.eligibleCount=I.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(){this.isDownloadingInProgress=!0,this.page=1;let i="/v1/reviewed-list-pdf?type=eligible";this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.isDownloadingInProgress=!1,this.downloadFile(a,"approved_application.pdf")},a=>{this.isDownloadingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}onStatusChange(i){this.selectedStatus=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-ward-approved-stats"]],decls:59,vars:10,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],["required","",1,"form-control","form-select",2,"text-transform","uppercase",3,"value","change"],["value",""],["value","eligible"],["value","ineligible"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["class","btn px-2 py-2","style",`
                           background-color: #ffe8d0;
                           color: #fd7b03;
                           font-weight: 540;
                         `,"type","button","disabled",""],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["type","button","disabled","",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540"],[1,"fa","fa-spinner","fa-spin"],["class","btn px-2 py-2","style",`
                           background-color: #ffe8d0;
                           color: #fd7b03;
                           font-weight: 540;
                         `,"type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"table-responsive","mt-4"],[1,"table"],[2,"font-size","14px","font-weight","620"],[1,"text-nowrap"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],["class","text-center mt-3",4,"ngIf"],[2,"text-transform","uppercase"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16," FET Status "),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.onStatusChange(f)}),o(20,"option",16),s(21,"All"),n(),o(22,"option",17),s(23,"Eligible"),n(),o(24,"option",18),s(25,"Ineligible"),n()()()(),o(26,"div",11)(27,"div",12)(28,"label",13),s(29," Approval Date "),o(30,"span",14),s(31,"*"),n()(),o(32,"input",19),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(33,"div",20)(34,"div",21)(35,"div",22)(36,"div",23),s(37," Final Approved List "),n(),o(38,"div",24)(39,"div",25)(40,"input",26),x("change",function(f){return l.handleSearchChange(f)}),n(),u(41,"i",27),n(),h(42,Cy,3,0,"button",28)(43,wy,1,1),n()(),o(44,"nav",29)(45,"ol",30)(46,"li",31),s(47),n(),h(48,Ey,2,1,"li",32)(49,Iy,2,1,"li",32),n()(),o(50,"div",33)(51,"div",34)(52,"div",35)(53,"span"),s(54,"Total No. of Applications : "),n(),o(55,"span",36),s(56),n()()()(),h(57,Ty,3,0,"div",37)(58,Py,3,1),n()()()),a&2&&(d(19),m("value",l.selectedStatus),d(13),m("value",l.selectedDate)("max",l.today),d(8),m("value",l.searchValue),d(2),w(42,l.isDownloadingInProgress?42:43),d(5),_(l.district_name),d(1),m("ngIf",l.ulb_name),d(1),m("ngIf",l.gp_nameorWardNo),d(7),T(" ",l.totalApplicants,""),d(1),w(57,l.isStatsLoading?57:58))},dependencies:[A,P,se,Ie,Te,le,Fe],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var In=B(me());function My(t,r){t&1&&(o(0,"div",27),u(1,"i",28),s(2," We are fetching the data, please wait. "),n())}function Ry(t,r){t&1&&(o(0,"button",38),s(1," Publish "),n())}function Oy(t,r){if(t&1){let e=E();o(0,"button",39),x("click",function(){C(e);let a=p(2);return y(a.showMessage())}),s(1," Publish "),n()}}function jy(t,r){if(t&1&&(o(0,"div",29)(1,"div",30)(2,"p")(3,"span",31),s(4,"Total Applications : "),n(),o(5,"span",32),s(6),n()()(),o(7,"div",30)(8,"p")(9,"span",33),s(10,"Published : "),n(),o(11,"span",32),s(12),n()()(),o(13,"div",30)(14,"p")(15,"span",33),s(16,"Un-Published : "),n(),o(17,"span",32),s(18),n()()(),o(19,"div",34)(20,"div",35),h(21,Ry,2,0,"button",36)(22,Oy,2,0,"button",37),n()()()),t&2){let e=p();d(6),T(" ",e.provisionalListDetails==null?null:e.provisionalListDetails.total_applications," "),d(6),T(" ",e.provisionalListDetails==null?null:e.provisionalListDetails.total_published," "),d(6),T(" ",e.provisionalListDetails==null?null:e.provisionalListDetails.unpublished_applications," "),d(3),m("ngIf",e.showPublish()),d(1),m("ngIf",!e.showPublish())}}function By(t,r){t&1&&(o(0,"div",27),u(1,"i",28),s(2," We are fetching the data, please wait. "),n())}function $y(t,r){if(t&1&&(o(0,"tbody",47)(1,"tr")(2,"td"),s(3),n(),o(4,"td"),s(5),n(),o(6,"td"),s(7),n(),o(8,"td",44),s(9),n(),o(10,"td",44),s(11),n(),o(12,"td",44),s(13),n(),o(14,"td",44),s(15),n(),o(16,"td",45)(17,"a",48),s(18,"View"),n()()()()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(3),_(i+1),d(2),_(a.appService.dateFormat(e==null?null:e.published_date)),d(2),$e("",a.appService.dateFormat(e==null?null:e.from_date)," To ",a.appService.dateFormat(e==null?null:e.to_date),""),d(2),_(a.getTotalNumber(e)),d(2),_(e==null?null:e.total_eligible),d(2),_(e==null?null:e.total_ineligible),d(2),_(e!=null&&e.rejected_count?e==null?null:e.rejected_count:0),d(2),Ae("routerLink","/department/portal/approval-module/provisional-list/gp-wise-stats/",a.district_id,"/",a.block_id,"/",e==null?null:e.id,"")}}function Ny(t,r){if(t&1&&(o(0,"table",42)(1,"thead",43)(2,"tr")(3,"th"),s(4,"SN"),n(),o(5,"th"),s(6,"Publish Date"),n(),o(7,"th"),s(8,"Date Range"),n(),o(9,"th",44),s(10,"Total"),n(),o(11,"th",44),s(12,"Eligible"),n(),o(13,"th",44),s(14,"Ineligible"),n(),o(15,"th",44),s(16,"Rejected"),n(),o(17,"th",45),s(18,"Action"),n()()(),h(19,$y,19,11,"tbody",46),n()),t&2){let e=p(2);d(19),m("ngForOf",e.provisionalLogs)}}function Gy(t,r){t&1&&(o(0,"h5",49),s(1," No Data Found "),n())}function Wy(t,r){if(t&1&&(o(0,"div",40),h(1,Ny,20,1,"table",41)(2,Gy,2,0),n()),t&2){let e=p();d(1),w(1,(e.provisionalLogs==null?null:e.provisionalLogs.length)>0?1:2)}}function zy(t,r){t&1&&(o(0,"button",50),s(1," Publish "),n())}function Uy(t,r){t&1&&(o(0,"button",51),s(1," Publishing... "),u(2,"i",52),n())}var zs=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.httpClient=i,this.authService=a,this.appService=l,this.route=c,this.location=f,this.toastService=S,this.router=g,this.fb=v,this.formService=I,this.isStatsLoading=!1,this.isProvisionalDetailsLoading=!1,this.isFormSubmitInProgress=!1,this.block_id="",this.district_id="",this.district_name="",this.block_name="",this.provisionalListDetails={},this.provisionalLogs=[],this.today="",this.from_date="",this.to_date="",this.publishProvisionalListForm=this.fb.group({})}ngOnInit(){this.route.params.subscribe(i=>{this.block_id=i.block_id,this.district_id=i.district_id,this.district_name=$.data.find(a=>a?.id==this.district_id)?.district_name,this.block_name=be.data.find(a=>a?.id==this.block_id)?.block_name,this.fetchProvisionalList(),this.fetchProvisionalHistory()}),this.today=(0,In.default)().format("YYYY-MM-DD")}handlepublishProvisionalList(){if(this.publishProvisionalListForm.status==="INVALID"){this.formService.triggerFormValidation(this.publishProvisionalListForm);return}let i=this.publishProvisionalListForm.value,a=`/v1/publish-block-provisional-data?category=1&block_id=${this.block_id}&from_date=${this.from_date}&to_date=${this.to_date}&total_unassigned_eligible=${this.provisionalListDetails.eligible_unpublished}&total_unassigned_ineligible=${this.provisionalListDetails.ineligible_unpublished}&user_id=${this.authService.userDetail.demography_id}&total_unassigned_rejected=${this.provisionalListDetails.rejected_unpublished}`;this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${a}`,{},{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.toastService.success(l.message),document.getElementsByClassName("btn-close")[0]?.click(),this.fetchProvisionalList(),this.fetchProvisionalHistory(),setTimeout(()=>{this.isFormSubmitInProgress=!1},2e3)},l=>{this.toastService.error(l.error.message),this.isFormSubmitInProgress=!1})}fetchProvisionalList(){this.isProvisionalDetailsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/provisional-publish-form-data?category=1&block_id=${this.block_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isProvisionalDetailsLoading=!1,this.provisionalListDetails=J(H({},i.data),{total_applications:i?.data?.eligible_unpublished+i?.data?.ineligible_unpublished+i?.data?.total_published+i?.data?.rejected_unpublished,unpublished_applications:i?.data?.eligible_unpublished+i?.data?.ineligible_unpublished+i?.data?.rejected_unpublished}),i?.first_date?this.from_date=(0,In.default)(i?.first_date).format("YYYY-MM-DD"):this.from_date=(0,In.default)(i?.last_date).subtract(1,"day").format("YYYY-MM-DD"),this.to_date=(0,In.default)(i?.last_date).subtract(1,"day").format("YYYY-MM-DD")},i=>{this.isProvisionalDetailsLoading=!1,this.provisionalListDetails=[]})}showPublish(){return Number(this.provisionalListDetails?.eligible_unpublished)+Number(this.provisionalListDetails?.ineligible_unpublished)+Number(this.provisionalListDetails?.rejected_unpublished)>0}getTotalNumber(i){let a=parseInt(i.total_eligible)||0,l=parseInt(i.total_ineligible)||0,c=parseInt(i.rejected_count)||0;return a+l+c}showMessage(){this.toastService.warning("There are No Applications Pending to Publish")}fetchProvisionalHistory(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/provisional-publish-logs?block_id=${this.block_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.provisionalLogs=i.data},i=>{this.isStatsLoading=!1,this.provisionalLogs=[]})}};r.\u0275fac=function(a){return new(a||r)(b(M),b(V),b(O),b(R),b(G),b(K),b(Ne),b(Q),b(Z))},r.\u0275cmp=D({type:r,selectors:[["app-provisional-gp-stats"]],decls:55,vars:10,consts:[[1,"container"],[1,"card"],[1,"card-body",2,"padding","0 0 10px 50px !important"],[1,"col-md-4","col-12","mb-1","mb-md-0",2,"font-weight","640","font-size","large","color","#fe8b03","margin-top","20px"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-1","mb-md-0",2,"font-weight","640","font-size","large","color","#fe8b03"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["id","publishProvisionalList","tabindex","-1","aria-labelledby","publishProvisionalListLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","publishProvisionalListLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],[1,"d-flex","flex-column","gap-1","w-100"],["disabled","","type","date",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","mt-5"],[1,"col-md-4","text-left"],[1,"fw-bold",2,"margin-left","30px !important"],[1,"rounded","px-2","py-2","d-inline-block","text-left",2,"background","#cccccc","width","100px","text-align","left"],[1,"fw-bold"],[1,"row","mt-3"],[1,"col-md-4","offset-md-4","text-center"],["class","btn px-4","style","background: #fe8b03; color: white; font-weight: 500","data-bs-toggle","modal","data-bs-target","#publishProvisionalList",4,"ngIf"],["class","btn px-4","style","background: #fe8b03; color: white; font-weight: 500",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#publishProvisionalList",1,"btn","px-4",2,"background","#fe8b03","color","white","font-weight","500"],[1,"btn","px-4",2,"background","#fe8b03","color","white","font-weight","500",3,"click"],[1,"table-responsive","mt-3"],["class","table mt-4"],[1,"table","mt-4"],[2,"font-size","14px","font-weight","620"],[2,"text-align","center"],[1,"text-center"],["style","font-size: 14px",4,"ngFor","ngForOf"],[2,"font-size","14px"],[3,"routerLink"],[1,"mt-6","text-center"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4," Provisional Beneficiary List - Publish "),n(),h(5,My,3,0,"div",4)(6,jy,23,5),n()(),o(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),s(11," Published Provisional Beneficiary Lists "),n(),u(12,"div",9),n(),h(13,By,3,0,"div",4)(14,Wy,3,1),n()()(),o(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"h5",14),s(20," Publish Provisional List Form"),n(),u(21,"button",15),n(),o(22,"div",16)(23,"form",17),x("submit",function(){return l.handlepublishProvisionalList()}),o(24,"div",18)(25,"label",19),s(26,"From Date (Start) :"),n(),o(27,"div",20),u(28,"input",21),n()(),o(29,"div",18)(30,"label",19),s(31,"Till Date (End) :"),n(),o(32,"div",20),u(33,"input",21),n()(),o(34,"div",18)(35,"label",19),s(36,"Total Application to Publish :"),n(),u(37,"input",22),n(),o(38,"div",18)(39,"label",19),s(40,"No. of Provisional Eligible :"),n(),u(41,"input",22),n(),o(42,"div",18)(43,"label",19),s(44,"No. of Provisional Ineligible :"),n(),u(45,"input",22),n(),o(46,"div",18)(47,"label",19),s(48,"Rejected :"),n(),u(49,"input",22),n(),o(50,"div",23)(51,"div",24)(52,"div",25),h(53,zy,2,0,"button",26)(54,Uy,3,0),n()()()()()()()()),a&2&&(d(5),w(5,l.isProvisionalDetailsLoading?5:6),d(8),w(13,l.isStatsLoading?13:14),d(10),m("formGroup",l.publishProvisionalListForm),d(5),m("value",l.from_date),d(5),m("value",l.to_date),d(4),m("value",l.provisionalListDetails.unpublished_applications),d(4),m("value",l.provisionalListDetails.eligible_unpublished),d(4),m("value",l.provisionalListDetails.ineligible_unpublished),d(4),m("value",l.provisionalListDetails.rejected_unpublished),d(4),w(53,l.isFormSubmitInProgress?54:53))},dependencies:[A,P,W,se,le,Ee],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var Tn=B(me());function Hy(t,r){t&1&&(o(0,"div",26),u(1,"i",27),s(2," We are fetching the data, please wait. "),n())}function Yy(t,r){t&1&&(o(0,"button",36),s(1," Publish "),n())}function qy(t,r){if(t&1){let e=E();o(0,"button",37),x("click",function(){C(e);let a=p(2);return y(a.showMessage())}),s(1," Publish "),n()}}function Ky(t,r){if(t&1&&(o(0,"div",28)(1,"div",29)(2,"p")(3,"span",30),s(4,"Total Applications : "),n(),o(5,"span",31),s(6),n()()(),o(7,"div",29)(8,"p")(9,"span",30),s(10,"Published : "),n(),o(11,"span",31),s(12),n()()(),o(13,"div",29)(14,"p")(15,"span",30),s(16,"Un-Published : "),n(),o(17,"span",31),s(18),n()()(),o(19,"div",32)(20,"div",33),h(21,Yy,2,0,"button",34)(22,qy,2,0,"button",35),n()()()),t&2){let e=p();d(6),_(e.provisionalListDetails==null?null:e.provisionalListDetails.total_applications),d(6),_(e.provisionalListDetails==null?null:e.provisionalListDetails.total_published),d(6),_(e.provisionalListDetails==null?null:e.provisionalListDetails.unpublished_applications),d(3),m("ngIf",e.showPublish()),d(1),m("ngIf",!e.showPublish())}}function Jy(t,r){t&1&&(o(0,"div",26),u(1,"i",27),s(2," We are fetching the data, please wait. "),n())}function Xy(t,r){if(t&1&&(o(0,"tbody",45)(1,"tr")(2,"td"),s(3),n(),o(4,"td"),s(5),n(),o(6,"td"),s(7),n(),o(8,"td",42),s(9),n(),o(10,"td",42),s(11),n(),o(12,"td",42),s(13),n(),o(14,"td",42),s(15),n(),o(16,"td",43)(17,"a",46),s(18,"View"),n()()()()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(3),_(i+1),d(2),_(a.appService.dateFormat(e==null?null:e.published_date)),d(2),$e("",a.appService.dateFormat(e==null?null:e.from_date)," To ",a.appService.dateFormat(e==null?null:e.to_date),""),d(2),_(a.getTotalNumber(e)),d(2),_(e==null?null:e.total_eligible),d(2),_(e==null?null:e.total_ineligible),d(2),_(e!=null&&e.rejected_count?e==null?null:e.rejected_count:0),d(2),Ae("routerLink","/department/portal/approval-module/provisional-list/ulb-provisional-log/",a.district_id,"/",a.ulb_id,"/",e==null?null:e.id,"")}}function Qy(t,r){if(t&1&&(o(0,"table",40)(1,"thead",41)(2,"tr")(3,"th"),s(4,"SN"),n(),o(5,"th"),s(6,"Publish Date"),n(),o(7,"th"),s(8,"Date Range"),n(),o(9,"th",42),s(10,"Total"),n(),o(11,"th",42),s(12,"Eligible"),n(),o(13,"th",42),s(14,"Ineligible"),n(),o(15,"th",42),s(16,"Rejected"),n(),o(17,"th",43),s(18,"Action"),n()()(),h(19,Xy,19,11,"tbody",44),n()),t&2){let e=p(2);d(19),m("ngForOf",e.provisionalLogs)}}function Zy(t,r){t&1&&(o(0,"h5",47),s(1," No Data Found "),n())}function ew(t,r){if(t&1&&(o(0,"div",38),h(1,Qy,20,1,"table",39)(2,Zy,2,0),n()),t&2){let e=p();d(1),w(1,(e.provisionalLogs==null?null:e.provisionalLogs.length)>0?1:2)}}function tw(t,r){t&1&&(o(0,"button",48),s(1," Publish "),n())}function iw(t,r){t&1&&(o(0,"button",49),s(1," Publishing... "),u(2,"i",50),n())}var Us=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.httpClient=i,this.authService=a,this.appService=l,this.route=c,this.location=f,this.toastService=S,this.router=g,this.fb=v,this.formService=I,this.isStatsLoading=!1,this.isProvisionalDetailsLoading=!1,this.isFormSubmitInProgress=!1,this.ulb_id="",this.district_id="",this.district_name="",this.ulb_name="",this.provisionalListDetails={},this.provisionalLogs=[],this.today="",this.from_date="",this.to_date="",this.publishProvisionalListForm=this.fb.group({})}ngOnInit(){this.route.params.subscribe(i=>{this.ulb_id=i.ulb_id,this.district_id=i.district_id,this.district_name=$.data.find(a=>a?.id==this.district_id)?.district_name,this.ulb_name=he.data.find(a=>a?.id==this.ulb_id)?.ulb_name,this.fetchProvisionalList(),this.fetchProvisionalHistory()}),this.today=(0,Tn.default)().format("YYYY-MM-DD")}handlepublishProvisionalList(){if(this.publishProvisionalListForm.status==="INVALID"){this.formService.triggerFormValidation(this.publishProvisionalListForm);return}let i=this.publishProvisionalListForm.value,a=`/v1/publish-ulb-provisional-data?category=1&ulb_id=${this.ulb_id}&from_date=${this.from_date}&to_date=${this.to_date}&total_unassigned_eligible=${this.provisionalListDetails.eligible_unpublished}&total_unassigned_ineligible=${this.provisionalListDetails.ineligible_unpublished}&user_id=${this.authService.userDetail.demography_id}&total_unassigned_rejected=${this.provisionalListDetails.rejected_unpublished}`;this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${a}`,{},{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.toastService.success(l.message),document.getElementsByClassName("btn-close")[0]?.click(),this.fetchProvisionalList(),this.fetchProvisionalHistory(),setTimeout(()=>{this.isFormSubmitInProgress=!1},2e3)},l=>{this.toastService.error(l.error.message),this.isFormSubmitInProgress=!1})}fetchProvisionalList(){this.isProvisionalDetailsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/provisional-publish-form-data?category=1&ulb_id=${this.ulb_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isProvisionalDetailsLoading=!1,this.provisionalListDetails=J(H({},i.data),{total_applications:i?.data?.eligible_unpublished+i?.data?.ineligible_unpublished+i?.data?.total_published+i?.data?.rejected_unpublished,unpublished_applications:i?.data?.eligible_unpublished+i?.data?.ineligible_unpublished+i?.data?.rejected_unpublished}),i?.first_date?this.from_date=(0,Tn.default)(i?.first_date).format("YYYY-MM-DD"):this.from_date=(0,Tn.default)(i?.last_date).subtract(1,"day").format("YYYY-MM-DD"),this.to_date=(0,Tn.default)(i?.last_date).subtract(1,"day").format("YYYY-MM-DD")},i=>{this.isProvisionalDetailsLoading=!1,this.provisionalListDetails=[]})}showPublish(){return Number(this.provisionalListDetails?.eligible_unpublished)+Number(this.provisionalListDetails?.ineligible_unpublished)+Number(this.provisionalListDetails?.rejected_unpublished)>0}getTotalNumber(i){let a=parseInt(i.total_eligible)||0,l=parseInt(i.total_ineligible)||0,c=parseInt(i.rejected_count)||0;return a+l+c}showMessage(){this.toastService.warning("There are No Applications Pending to Publish")}fetchProvisionalHistory(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/provisional-publish-logs?ulb_id=${this.ulb_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.provisionalLogs=i.data},i=>{this.isStatsLoading=!1,this.provisionalLogs=[]})}};r.\u0275fac=function(a){return new(a||r)(b(M),b(V),b(O),b(R),b(G),b(K),b(Ne),b(Q),b(Z))},r.\u0275cmp=D({type:r,selectors:[["app-provisional-ward-stats"]],decls:55,vars:10,consts:[[1,"container"],[1,"card"],[1,"card-body"],[1,"col-md-4","col-12","mb-1","mb-md-0",2,"font-weight","640","font-size","large","color","#fe8b03","margin-top","20px"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"card","mt-3"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-1","mb-md-0",2,"font-weight","640","font-size","large","color","#fe8b03"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["id","publishProvisionalList","tabindex","-1","aria-labelledby","publishProvisionalListLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","publishProvisionalListLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],[1,"d-flex","flex-column","gap-1","w-100"],["disabled","","type","date",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","mt-5"],[1,"col-md-4","text-center"],[1,"fw-bold"],[1,"rounded","px-5","py-2",2,"background","#cccccc"],[1,"row","mt-3"],[1,"col-md-4","offset-md-4","text-center"],["class","btn px-4","style","background: #fe8b03; color: white; font-weight: 500","data-bs-toggle","modal","data-bs-target","#publishProvisionalList",4,"ngIf"],["class","btn px-4","style","background: #fe8b03; color: white; font-weight: 500",3,"click",4,"ngIf"],["data-bs-toggle","modal","data-bs-target","#publishProvisionalList",1,"btn","px-4",2,"background","#fe8b03","color","white","font-weight","500"],[1,"btn","px-4",2,"background","#fe8b03","color","white","font-weight","500",3,"click"],[1,"table-responsive","mt-3"],["class","table mt-4"],[1,"table","mt-4"],[2,"font-size","14px","font-weight","620"],[2,"text-align","center"],[1,"text-center"],["style","font-size: 14px",4,"ngFor","ngForOf"],[2,"font-size","14px"],[3,"routerLink"],[1,"mt-6","text-center"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4," Provisional Beneficiary List - Publish "),n(),h(5,Hy,3,0,"div",4)(6,Ky,23,5),n()(),o(7,"div",5)(8,"div",2)(9,"div",6)(10,"div",7),s(11," Published Provisional Beneficiary Lists "),n(),u(12,"div",8),n(),h(13,Jy,3,0,"div",4)(14,ew,3,1),n()()(),o(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"h5",13),s(20,"Publish Provisional List Form"),n(),u(21,"button",14),n(),o(22,"div",15)(23,"form",16),x("submit",function(){return l.handlepublishProvisionalList()}),o(24,"div",17)(25,"label",18),s(26,"From Date (Start) :"),n(),o(27,"div",19),u(28,"input",20),n()(),o(29,"div",17)(30,"label",18),s(31,"Till Date (End) :"),n(),o(32,"div",19),u(33,"input",20),n()(),o(34,"div",17)(35,"label",18),s(36,"Total Application to Publish :"),n(),u(37,"input",21),n(),o(38,"div",17)(39,"label",18),s(40,"No. of Provisional Eligible :"),n(),u(41,"input",21),n(),o(42,"div",17)(43,"label",18),s(44,"No. of Provisional Ineligible :"),n(),u(45,"input",21),n(),o(46,"div",17)(47,"label",18),s(48,"Rejected :"),n(),u(49,"input",21),n(),o(50,"div",22)(51,"div",23)(52,"div",24),h(53,tw,2,0,"button",25)(54,iw,3,0),n()()()()()()()()),a&2&&(d(5),w(5,l.isProvisionalDetailsLoading?5:6),d(8),w(13,l.isStatsLoading?13:14),d(10),m("formGroup",l.publishProvisionalListForm),d(5),m("value",l.from_date),d(5),m("value",l.to_date),d(4),m("value",l.provisionalListDetails.unpublished_applications),d(4),m("value",l.provisionalListDetails.eligible_unpublished),d(4),m("value",l.provisionalListDetails.ineligible_unpublished),d(4),m("value",l.provisionalListDetails.rejected_unpublished),d(4),w(53,l.isFormSubmitInProgress?54:53))},dependencies:[A,P,W,se,le,Ee],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();function nw(t,r){if(t&1&&(o(0,"option",23),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),_(e==null?null:e.district_name)}}function ow(t,r){if(t&1&&(o(0,"option",23),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),_(e==null?null:e.block_name)}}function aw(t,r){if(t&1&&(o(0,"select",24)(1,"option",15),s(2,"Select"),n(),h(3,ow,2,2,"option",16),n()),t&2){let e=p();d(3),m("ngForOf",e.blockUlbs)}}function rw(t,r){if(t&1&&(o(0,"option",23),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),_(e==null?null:e.ulb_name)}}function lw(t,r){if(t&1&&(o(0,"select",25)(1,"option",15),s(2,"Select"),n(),h(3,rw,2,2,"option",16),n()),t&2){let e=p();d(3),m("ngForOf",e.blockUlbs)}}function sw(t,r){if(t&1&&(o(0,"option",23),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),_(e!=null&&e.gp_name?e==null?null:e.gp_name:e==null?null:e.ward_no)}}function dw(t,r){t&1&&(o(0,"div",26),u(1,"i",27),s(2," We are fetching the data, please wait. "),n())}function cw(t,r){if(t&1&&(o(0,"td"),s(1),Ce(2,"getNameById"),n()),t&2){let e=p().$implicit;d(1),_(Eo(2,1,e==null?null:e.gp_id,"gp"))}}function mw(t,r){if(t&1&&(o(0,"td"),s(1),Ce(2,"getNameById"),n()),t&2){let e=p().$implicit;d(1),_(Eo(2,1,e==null?null:e.ward_id,"ward"))}}function pw(t,r){if(t&1){let e=E();o(0,"a",37),x("click",function(){C(e);let a=p(2).$implicit,l=p(3);return y(l.handleExport(1,a==null?null:a.id))}),s(1," Download "),u(2,"i",38),n()}}function uw(t,r){t&1&&(o(0,"span",39),u(1,"i",27),s(2," Downloading..."),u(3,"i",38),n())}function hw(t,r){if(t&1&&h(0,pw,3,0,"a",36)(1,uw,4,0),t&2){let e=p().$implicit,i=p(3);w(0,!i.eligibleexportInProgress||i.downloadPublishId!=(e==null?null:e.id)?0:1)}}function fw(t,r){t&1&&(o(0,"span"),s(1,"N/A"),n())}function _w(t,r){if(t&1){let e=E();o(0,"a",37),x("click",function(){C(e);let a=p(2).$implicit,l=p(3);return y(l.handleExport(2,a==null?null:a.id))}),s(1," Download "),u(2,"i",38),n()}}function gw(t,r){t&1&&(o(0,"span",39),u(1,"i",27),s(2," Downloading..."),u(3,"i",38),n())}function bw(t,r){if(t&1&&h(0,_w,3,0,"a",36)(1,gw,4,0),t&2){let e=p().$implicit,i=p(3);w(0,!i.ineligibleexportInProgress||i.downloadPublishId!=(e==null?null:e.id)?0:1)}}function vw(t,r){t&1&&(o(0,"span"),s(1,"N/A"),n())}function xw(t,r){if(t&1){let e=E();o(0,"a",37),x("click",function(){C(e);let a=p(2).$implicit,l=p(3);return y(l.handleExport(3,a==null?null:a.id))}),s(1," Download "),u(2,"i",38),n()}}function Sw(t,r){t&1&&(o(0,"span",39),u(1,"i",27),s(2," Downloading..."),u(3,"i",38),n())}function Cw(t,r){if(t&1&&h(0,xw,3,0,"a",36)(1,Sw,4,0),t&2){let e=p().$implicit,i=p(3);w(0,!i.rejectedexportInProgress||i.downloadPublishId!=(e==null?null:e.id)?0:1)}}function yw(t,r){t&1&&(o(0,"span"),s(1,"N/A"),n())}function ww(t,r){if(t&1&&(o(0,"tr",34),h(1,cw,3,4,"td",35)(2,mw,3,4,"td",35),o(3,"td"),s(4),n(),o(5,"td"),h(6,hw,2,1)(7,fw,2,0),n(),o(8,"td"),h(9,bw,2,1)(10,vw,2,0),n(),o(11,"td"),h(12,Cw,2,1)(13,yw,2,0),n()()),t&2){let e=r.$implicit,i=p(3);d(1),m("ngIf",e==null?null:e.gp_id),d(1),m("ngIf",e==null?null:e.ward_id),d(2),_(i.appService.dateFormat(e==null?null:e.published_date)),d(2),w(6,i.haveData(e==null?null:e.total_eligible)?6:7),d(3),w(9,i.haveData(e==null?null:e.total_ineligible)?9:10),d(3),w(12,i.haveData(e==null?null:e.total_rejected)?12:13)}}function Ew(t,r){if(t&1&&(o(0,"div",29)(1,"table",30)(2,"thead",31)(3,"tr")(4,"th",32),s(5,"GP/WARD"),n(),o(6,"th",32),s(7,"Date Published"),n(),o(8,"th",32),s(9,"Provisionally Eligible List"),n(),o(10,"th",32),s(11,"Provisionally Ineligible List"),n(),o(12,"th",32),s(13,"Rejected List"),n()()(),o(14,"tbody"),h(15,ww,14,6,"tr",33),n()()()),t&2){let e=p(2);d(15),m("ngForOf",e.provisonalLog)}}function Iw(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function Tw(t,r){if(t&1&&(o(0,"div"),h(1,Ew,16,1,"div",28)(2,Iw,2,0),n()),t&2){let e=p();d(1),w(1,e.provisonalLog.length?1:2)}}var Fa=(()=>{let r=class r{constructor(i,a,l,c,f,S,g){this.route=i,this.fb=a,this.appService=l,this.authService=c,this.httpClient=f,this.location=S,this.toastService=g,this.district_id="",this.block_id="",this.gpWard_id="",this.ulb_id="",this.log_id="",this.districts=[],this.blockUlbs=[],this.gpWards=[],this.exportInProgress=!1,this.eligibleexportInProgress=!1,this.ineligibleexportInProgress=!1,this.rejectedexportInProgress=!1,this.provisonalLog=[],this.downloadPublishId="",this.isStatsLoading=!1,this.districts=$.data,this.provisionalLogForm=this.fb.group({district_id:[""],ulb_id:[""],block_id:[""],gp_ward_id:[""]})}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.log_id=i.log_id,this.block_id=i.block_id,this.ulb_id=i.ulb_id,this.fetchProvisionalLog(),this.provisionalLogForm.patchValue({district_id:this.district_id,block_id:this.block_id,ulb_id:this.ulb_id}),this.provisionalLogForm.get("district_id")?.disable(),this.provisionalLogForm.get("block_id")?.disable(),this.provisionalLogForm.get("ulb_id")?.disable(),this.provisionalLogForm.updateValueAndValidity(),this.district_id&&(this.districts=$.data.filter(a=>a.id==this.district_id),this.block_id&&(this.blockUlbs=be.data.filter(a=>a?.id==this.block_id),this.gpWards=Ue.data.filter(a=>a?.block_id==this.block_id)),this.ulb_id&&(this.blockUlbs=he.data.filter(a=>a?.id==this.ulb_id),this.gpWards=He.data.filter(a=>a?.ulb_id==this.ulb_id)))})}haveData(i){return Number(i)>0}goBack(){this.location.back()}handleSearch(){this.fetchProvisionalLog()}handleGpWardChange(){this.fetchProvisionalLog()}fetchProvisionalLog(){let i=`/v1/provisional-publish-sublogs?published_log_id=${this.log_id}`,a=this.provisionalLogForm.value;this.block_id&&a.gp_ward_id&&(i+=`&gp_id=${a.gp_ward_id}`),this.ulb_id&&a.gp_ward_id&&(i+=`&ward_id=${a.gp_ward_id}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isStatsLoading=!1,this.provisonalLog=l.data},l=>{this.isStatsLoading=!1,this.provisonalLog=[]})}handleExport(i,a){let l="";i==1?l=`/v1/provisional-eligible-published-list-pdf?published_id=${a}`:i==2?l=`/v1/provisional-ineligible-published-list-pdf?published_id=${a}`:l=`/v1/provisional-rejected-published-list-pdf?published_id=${a}`,i==1?this.eligibleexportInProgress=!0:i==2?this.ineligibleexportInProgress=!0:this.rejectedexportInProgress=!0,this.downloadPublishId=a,this.httpClient.get(`${this.appService.departmentBaseUrl}${l}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(c=>{this.eligibleexportInProgress=!1,this.ineligibleexportInProgress=!1,this.rejectedexportInProgress=!1,this.downloadFile(c,i==1?"eligible_application.pdf":i==2?"ineligible_application.pdf":"rejected_application.pdf"),this.downloadPublishId=""},c=>{this.eligibleexportInProgress=!1,this.ineligibleexportInProgress=!1,this.rejectedexportInProgress=!1,c?.status==400&&this.toastService.error("No Results Found."),this.downloadPublishId=""})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}};r.\u0275fac=function(a){return new(a||r)(b(R),b(Q),b(O),b(V),b(M),b(G),b(K))},r.\u0275cmp=D({type:r,selectors:[["app-provisional-view-log"]],decls:42,vars:6,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-2"],[1,"card-body",2,"padding","8px 15px !important"],[1,"col-md-4","col-12","mb-1","mb-md-0",2,"font-weight","640","font-size","large","color","#fe8b03","margin-bottom","6px"],[1,"row","form-row","align-items-end",3,"formGroup"],[1,"form-group","col-md-3"],["for","category",1,"form-label",2,"font-weight","540","color","#666666"],[1,"text-danger"],["id","district_id","formControlName","district_id",1,"form-control","form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","form-control form-select","id","block_id","formControlName","block_id",4,"ngIf"],["class","form-control form-select","id","ulb_id","formControlName","ulb_id",4,"ngIf"],["for","fvStatus",1,"form-label",2,"font-weight","540","color","#666666"],["id","gp_ward_id","formControlName","gp_ward_id",1,"form-control","form-select",3,"change"],[1,"card","mt-3"],["class","w-100 d-flex justify-content-center align-items-center"],[3,"value"],["id","block_id","formControlName","block_id",1,"form-control","form-select"],["id","ulb_id","formControlName","ulb_id",1,"form-control","form-select"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],["class","table-responsive mt-3"],[1,"table-responsive","mt-3"],[1,"table","table-bordered"],[1,"bg-dark","text-white"],[2,"background","black","color","white"],["style","font-weight: 500;",4,"ngFor","ngForOf"],[2,"font-weight","500"],[4,"ngIf"],["class","text-black","style","text-decoration: none;","type","button"],["type","button",1,"text-black",2,"text-decoration","none",3,"click"],["aria-hidden","true",1,"fa","fa-file","text-danger"],[1,"d-flex","gap-2"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8)(10,"div",9),s(11," Published Provisional Beneficiary Lists "),n(),o(12,"form",10)(13,"div",11)(14,"label",12),s(15,"District/MC "),o(16,"span",13),s(17,"*"),n()(),o(18,"select",14)(19,"option",15),s(20,"Select"),n(),h(21,nw,2,2,"option",16),n()(),o(22,"div",11)(23,"label",12),s(24,"Block/ULB "),o(25,"span",13),s(26,"*"),n()(),h(27,aw,4,1,"select",17)(28,lw,4,1,"select",18),n(),o(29,"div",11)(30,"label",19),s(31,"GP/Ward "),o(32,"span",13),s(33,"*"),n()(),o(34,"select",20),x("change",function(){return l.handleGpWardChange()}),o(35,"option",15),s(36,"Select"),n(),h(37,sw,2,2,"option",16),n()()()()(),o(38,"div",21)(39,"div",8),h(40,dw,3,0,"div",22)(41,Tw,3,1),n()()()),a&2&&(d(12),m("formGroup",l.provisionalLogForm),d(9),m("ngForOf",l.districts),d(6),m("ngIf",l.block_id),d(1),m("ngIf",l.ulb_id),d(9),m("ngForOf",l.gpWards),d(3),w(40,l.isStatsLoading?40:41))},dependencies:[A,P,se,Ie,Te,ut,U,le,Ee,Ve,sr],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}main.sidebar-on[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0!important}"]});let t=r;return t})();var Hs=B(me()),Ys=B(ve());function Lw(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function Fw(t,r){t&1&&(o(0,"th"),s(1,"Village"),n())}function Dw(t,r){t&1&&(o(0,"th",25),s(1,"Action"),n())}function Aw(t,r){if(t&1&&(o(0,"td"),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.village_name)}}function Vw(t,r){t&1&&(o(0,"td",25),s(1," Recommended "),n())}function Pw(t,r){if(t&1&&h(0,Vw,2,0,"td",22),t&2){let e=p(5);m("ngIf",e.type==1||e.type==2)}}function Mw(t,r){if(t&1){let e=E();o(0,"a",28),x("click",function(){C(e);let a=p(4).$implicit,l=p(3);return y(l.handleRevert(a==null?null:a.id))}),s(1,"Revert"),n()}}function Rw(t,r){t&1&&(u(0,"i",11),o(1,"a",29),s(2,"Reverting.."),n())}function Ow(t,r){if(t&1&&(o(0,"td",25),h(1,Mw,2,0,"a",27)(2,Rw,3,0),n()),t&2){let e=p(3).$implicit,i=p(3);d(1),w(1,i.revertingId!=(e==null?null:e.id)||!i.isRevertingInProgress?1:2)}}function jw(t,r){if(t&1&&h(0,Ow,3,1,"td",22),t&2){let e=p(5);m("ngIf",e.type==1||e.type==2)}}function Bw(t,r){t&1&&(o(0,"td",25),s(1," Reverted "),n())}function $w(t,r){if(t&1&&h(0,Bw,2,0,"td",22),t&2){let e=p(5);m("ngIf",e.type==1||e.type==2)}}function Nw(t,r){if(t&1&&h(0,Pw,1,1,"td",26)(1,jw,1,1)(2,$w,1,1),t&2){let e=p().$implicit;w(0,(e==null?null:e.is_recommended)!="0"?0:(e==null?null:e.status)!=0?1:2)}}function Gw(t,r){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),h(3,Aw,2,1,"td",21),o(4,"td"),s(5),Ce(6,"getFieldVerificationCategoryNameById"),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),h(17,Nw,3,1),n()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(1),m("ngIf",a.gp_id),d(2),_(Le(6,9,e==null?null:e.field_verification_category)),d(3),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.created_at)),d(2),T(" ",e==null?null:e.remarks," "),d(1),w(17,a.authService.userDetail.demography_type=="3"||a.authService.userDetail.demography_type=="5"?17:-1)}}function Ww(t,r){if(t&1&&(o(0,"div",18)(1,"table",19)(2,"thead",20)(3,"tr")(4,"th"),s(5,"SN"),n(),h(6,Fw,2,0,"th",21),o(7,"th"),s(8,"Category"),n(),o(9,"th"),s(10,"Application No."),n(),o(11,"th"),s(12,"Applicant Name"),n(),o(13,"th"),s(14,"Father/Husband Name"),n(),o(15,"th"),s(16,"Transaction Date"),n(),o(17,"th"),s(18,"Remarks"),n(),h(19,Dw,2,0,"th",22),n()(),o(20,"tbody",23),h(21,Gw,18,11,"tr",24),n()()()),t&2){let e=p(2);d(6),m("ngIf",e.gp_id),d(13),m("ngIf",(e.type==1||e.type==2)&&(e.authService.userDetail.demography_type=="3"||e.authService.userDetail.demography_type=="5")),d(2),m("ngForOf",e.logHistory)}}function zw(t,r){t&1&&(o(0,"h5",30),s(1," No Data Found "),n())}function Uw(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",13),s(2),n(),o(3,"div",14)(4,"button",15),x("click",function(){C(e);let a=p();return y(a.exportToPdf(a.logHistory))}),u(5,"i",16),s(6,"Download "),n()()(),h(7,Ww,22,3,"div",17)(8,zw,2,0)}if(t&2){let e=p();d(2),T(" ",e.type==1?"Eligible to Ineligible List":"Ineligible to Eligible List"," "),d(5),w(7,e.logHistory.length>0?7:8)}}var kn=(()=>{let r=class r{constructor(i,a,l,c,f,S){this.location=i,this.appService=a,this.authService=l,this.httpClient=c,this.route=f,this.toastService=S,this.isExportInProgress=[],this.logHistory=[],this.gp_id="",this.ward_id="",this.type="",this.isRevertingInProgress=!1,this.isStatsLoading=!1,this.revertingId="",this.district_name="",this.ulb_name="",this.gpWardNo="",this.block_name=""}ngOnInit(){this.route.params.subscribe(i=>{this.district_name=$.data.find(a=>a?.id==i.district_id)?.district_name,this.ulb_name=be.data.find(a=>a?.id==i.block_id)?.block_name,this.block_name=he.data.find(a=>a?.id==i.ulb_id)?.ulb_name,this.gp_id=i.gp_id,this.ward_id=i.ward_id,this.gp_id&&(this.gpWardNo=Ue.data.find(a=>a?.id==this.gp_id)?.gp_name),this.ward_id&&(this.gpWardNo=He.data.find(a=>a?.id==this.ward_id)?.ward_no),this.type=i.type,this.fetchLogHistory()})}exportToPdf(i){this.isExportInProgress=!0;let a=`${this.type==1?"Eligible to Ineligible List":"Ineligible to Eligible List"}`,l=new Date,c=`Timestamp: ${(0,Hs.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"Application No.",fillColor:"#d3d3d3",bold:!0},{text:"Applicant Name",fillColor:"#d3d3d3",bold:!0},{text:"Father/Husband Name",fillColor:"#d3d3d3",bold:!0},{text:"Transaction Date",fillColor:"#d3d3d3",bold:!0},{text:"Remarks",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.application_number||"",fontSize:9},{text:g.applicant_name||"",fontSize:9},{text:g.spouse_or_father_name||"",fontSize:9},{text:this.appService.dateFormat(g.created_at)||"",fontSize:9},{text:g.remarks,fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["33%","33%","34%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0],fontSize:8},{text:`BLOCK/ULB/MC :  ${String(this.ulb_name?this.ulb_name:this.block_name).toUpperCase()}`,alignment:"center",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0],fontSize:8},{text:`GP/WARD :  ${String(this.gpWardNo).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0],fontSize:8}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","20%","20%","20%","15%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Ys.default.createPdf(S).download("Field Verified Log List"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}handleRevert(i){this.isRevertingInProgress=!0,this.revertingId=i,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/revert-field-verification-status-log?log_id=${i}`,{},{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.toastService.success(a.message),this.isRevertingInProgress=!1,this.fetchLogHistory()},a=>{this.isRevertingInProgress=!1,this.toastService.error(a.error.message)})}goBack(){this.location.back()}fetchLogHistory(){let i=`/v1/field-verification-status-logs?type=${this.type}`;this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.logHistory=a.data,this.isStatsLoading=!1},a=>{this.logHistory=[],this.isStatsLoading=!1})}};r.\u0275fac=function(a){return new(a||r)(b(G),b(O),b(V),b(M),b(R),b(K))},r.\u0275cmp=D({type:r,selectors:[["app-view-log-status"]],decls:12,vars:1,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","mt-3"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["class","table-responsive mt-3"],[1,"table-responsive","mt-3"],[1,"table","mt-4"],[2,"font-size","14px","font-weight","620"],[4,"ngIf"],["class","text-center",4,"ngIf"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],[1,"text-center"],["class","text-center"],["type","button","class","btn btn-sm","style","background-color: #ECCD42;"],["type","button",1,"btn","btn-sm",2,"background-color","#ECCD42",3,"click"],["disabled","","type","button",1,"btn","btn-sm",2,"background-color","#ECCD42"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,Lw,3,0,"div",9)(11,Uw,9,2),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,$n],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}"]});let t=r;return t})();var qs=B(ve());var Ks=B(me());function Hw(t,r){t&1&&(o(0,"div",11),u(1,"i",12),s(2," We are fetching the data, please wait. "),n())}function Yw(t,r){t&1&&(o(0,"div",19),s(1," Approval to Rejected List "),n())}function qw(t,r){t&1&&(o(0,"div",19),s(1," Rejected to Approval List "),n())}function Kw(t,r){t&1&&(o(0,"th"),s(1,"Village"),n())}function Jw(t,r){t&1&&(o(0,"th",28),s(1,"Action"),n())}function Xw(t,r){if(t&1&&h(0,Jw,2,0,"th",27),t&2){let e=p(3);m("ngIf",e.type==1||e.type==2)}}function Qw(t,r){if(t&1&&(o(0,"td"),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.village_name)}}function Zw(t,r){if(t&1){let e=E();o(0,"a",30),x("click",function(){C(e);let a=p(4).$implicit,l=p(3);return y(l.handleRevert(a==null?null:a.id))}),s(1,"Revert"),n()}}function eE(t,r){t&1&&(u(0,"i",12),o(1,"a",31),s(2,"Reverting.."),n())}function tE(t,r){if(t&1&&(o(0,"td",28),h(1,Zw,2,0,"a",29)(2,eE,3,0),n()),t&2){let e=p(3).$implicit,i=p(3);d(1),w(1,i.revertingId!=(e==null?null:e.id)||!i.isRevertingInProgress?1:2)}}function iE(t,r){if(t&1&&h(0,tE,3,1,"td",27),t&2){let e=p(5);m("ngIf",e.type==1||e.type==2)}}function nE(t,r){t&1&&(o(0,"td",28),s(1," Reverted "),n())}function oE(t,r){if(t&1&&h(0,nE,2,0,"td",27),t&2){let e=p(5);m("ngIf",e.type==1||e.type==2)}}function aE(t,r){if(t&1&&h(0,iE,1,1,"td",24)(1,oE,1,1),t&2){let e=p().$implicit;w(0,(e==null?null:e.status)!=0?0:1)}}function rE(t,r){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),h(3,Qw,2,1,"td",23),o(4,"td"),s(5,"Non NFSA"),n(),o(6,"td"),s(7),n(),o(8,"td"),s(9),n(),o(10,"td"),s(11),n(),o(12,"td"),s(13),n(),o(14,"td"),s(15),n(),h(16,aE,2,1),n()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(1),m("ngIf",a.gp_id),d(4),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.created_at)),d(2),T(" ",e==null?null:e.remarks," "),d(1),w(16,a.authService.userDetail.demography_type=="2"?16:-1)}}function lE(t,r){if(t&1&&(o(0,"div",20)(1,"table",21)(2,"thead",22)(3,"tr")(4,"th"),s(5,"SN"),n(),h(6,Kw,2,0,"th",23),o(7,"th"),s(8,"Category"),n(),o(9,"th"),s(10,"Application No."),n(),o(11,"th"),s(12,"Applicant Name"),n(),o(13,"th"),s(14,"Father/Husband Name"),n(),o(15,"th"),s(16,"Transaction Date"),n(),o(17,"th"),s(18,"Remarks"),n(),h(19,Xw,1,1,"th",24),n()(),o(20,"tbody",25),h(21,rE,17,8,"tr",26),n()()()),t&2){let e=p(2);d(6),m("ngIf",e.gp_id),d(13),w(19,e.authService.userDetail.demography_type=="2"?19:-1),d(2),m("ngForOf",e.logHistory)}}function sE(t,r){t&1&&(o(0,"h5",32),s(1," No Data Found "),n())}function dE(t,r){if(t&1){let e=E();o(0,"div",13),h(1,Yw,2,0,"div",14)(2,qw,2,0,"div",14),o(3,"div",15)(4,"button",16),x("click",function(){C(e);let a=p();return y(a.exportToPdf(a.logHistory))}),u(5,"i",17),s(6,"Download "),n()()(),h(7,lE,22,3,"div",18)(8,sE,2,0)}if(t&2){let e=p();d(1),m("ngIf",e.type==1),d(1),m("ngIf",e.type==2),d(5),w(7,e.logHistory.length>0?7:8)}}var Da=(()=>{let r=class r{constructor(i,a,l,c,f,S){this.location=i,this.appService=a,this.authService=l,this.httpClient=c,this.route=f,this.toastService=S,this.logHistory=[],this.gp_id="",this.ward_id="",this.type="",this.district_name="",this.ulb_name="",this.gpWardNo="",this.block_name="",this.isRevertingInProgress=!1,this.isExportInProgress=!1,this.isStatsLoading=!1,this.revertingId=""}ngOnInit(){this.route.params.subscribe(i=>{this.district_name=$.data.find(a=>a?.id==i.district_id)?.district_name,this.ulb_name=be.data.find(a=>a?.id==i.block_id)?.block_name,this.block_name=he.data.find(a=>a?.id==i.ulb_id)?.ulb_name,this.gp_id=i.gp_id,this.ward_id=i.ward_id,this.gp_id&&(this.gpWardNo=Ue.data.find(a=>a?.id==this.gp_id)?.gp_name),this.ward_id&&(this.gpWardNo=He.data.find(a=>a?.id==this.ward_id)?.ward_no),this.type=i.type,this.fetchLogHistory()})}handleRevert(i){this.isRevertingInProgress=!0,this.revertingId=i,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/revert-recommended-status-log?log_id=${i}`,{},{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.toastService.success(a.message),this.isRevertingInProgress=!1,this.fetchLogHistory()},a=>{this.isRevertingInProgress=!1,this.toastService.error(a.error.message)})}goBack(){this.location.back()}exportToPdf(i){this.isExportInProgress=!0;let a=`${this.type==1?"Approval to Rejected List":"Rejected to Approval List"}`,l=new Date,c=`Timestamp: ${(0,Ks.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"Application No.",fillColor:"#d3d3d3",bold:!0},{text:"Applicant Name",fillColor:"#d3d3d3",bold:!0},{text:"Father/Husband Name",fillColor:"#d3d3d3",bold:!0},{text:"Transaction Date",fillColor:"#d3d3d3",bold:!0},{text:"Remarks",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.application_number||"",fontSize:9},{text:g.applicant_name||"",fontSize:9},{text:g.spouse_or_father_name||"",fontSize:9},{text:this.appService.dateFormat(g.created_at)||"",fontSize:9},{text:g.remarks,fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["33%","33%","34%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0],fontSize:8},{text:`BLOCK/ULB/MC :  ${String(this.ulb_name?this.ulb_name:this.block_name).toUpperCase()}`,alignment:"center",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0],fontSize:8},{text:`GP/WARD :  ${String(this.gpWardNo).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0],fontSize:8}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","20%","20%","20%","15%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};qs.default.createPdf(S).download("Recommend List Log List"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}fetchLogHistory(){let i=`/v1/recommended-status-logs?type=${this.type}`;this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.logHistory=a.data,this.isStatsLoading=!1},a=>{this.logHistory=[],this.isStatsLoading=!1})}};r.\u0275fac=function(a){return new(a||r)(b(G),b(O),b(V),b(M),b(R),b(K))},r.\u0275cmp=D({type:r,selectors:[["app-view-log-status"]],decls:13,vars:1,consts:[[1,"container"],[1,"mb-3","text-end","mt-3"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","mt-3"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],["class","col-md-4 col-12 mb-2 mb-md-0","style","font-weight: 640; font-size: large",4,"ngIf"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["class","table-responsive mt-3"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"font-weight","640","font-size","large"],[1,"table-responsive","mt-3"],[1,"table","mt-4"],[2,"font-size","14px","font-weight","620"],[4,"ngIf"],["class","text-center"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"text-center"],["type","button","class","btn btn-sm","style","background-color: #ECCD42;"],["type","button",1,"btn","btn-sm",2,"background-color","#ECCD42",3,"click"],["disabled","","type","button",1,"btn","btn-sm",2,"background-color","#ECCD42"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),u(3,"div",3),o(4,"div",4)(5,"a",5),x("click",function(){return l.goBack()}),o(6,"button",6),u(7,"i",7),s(8," Back"),n()()()()(),o(9,"div",8)(10,"div",9),h(11,Hw,3,0,"div",10)(12,dE,9,3),n()()()),a&2&&(d(11),w(11,l.isStatsLoading?11:12))},dependencies:[A,P],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}"]});let t=r;return t})();var Aa=B(ve()),Js=B(Ut()),Xs=B(me());function cE(t,r){t&1&&(o(0,"div",4),u(1,"i",5),s(2," We are fetching the data, please wait. "),n())}function mE(t,r){if(t&1){let e=E();o(0,"div",14)(1,"input",15),x("ngModelChange",function(a){C(e);let l=p(2);return y(l.searchTerm=a)}),n(),u(2,"i",16),n()}if(t&2){let e=p(2);d(1),m("ngModel",e.searchTerm)}}function pE(t,r){if(t&1){let e=E();o(0,"button",17),x("click",function(){C(e);let a=p(2);return y(a.exportToPDF(a.filteredDistrictStats))}),u(1,"i",18),s(2,"Download "),n()}}function uE(t,r){t&1&&(o(0,"button",19),u(1,"i",20),s(2,"Downloading... "),n())}function hE(t,r){if(t&1&&(o(0,"td",27)(1,"a",28),s(2,"View Block"),n(),o(3,"a",29),s(4,"View ULB"),n()()),t&2){let e=p().$implicit;d(1),Se("routerLink","/department/portal/approval-module/existing-benificiary/district-stats/block-stats/",e==null?null:e.district_id,""),d(2),Se("routerLink","/department/portal/approval-module/existing-benificiary/district-stats/ulb-stats/",e==null?null:e.district_id,"")}}function fE(t,r){t&1&&(o(0,"td",27)(1,"a",30),s(2,"View Block"),n(),o(3,"a",31),s(4,"View ULB"),n()())}function _E(t,r){if(t&1&&(o(0,"tr",25)(1,"td",22),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),h(7,hE,5,2,"td",26)(8,fE,5,0,"td",26),n()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e==null?null:e.district_name),d(2),_((e==null?null:e.total)||"0"),d(1),m("ngIf",(e==null?null:e.total)!=="0"),d(1),m("ngIf",(e==null?null:e.total)==="0")}}function gE(t,r){if(t&1&&(o(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),s(4,"SN"),n(),o(5,"th",23),s(6,"District/MC"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,_E,9,5,"tr",24),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredDistrictStats)}}function bE(t,r){t&1&&(o(0,"h5",32),s(1," No Data Found "),n())}function vE(t,r){if(t&1&&(o(0,"div",6)(1,"div",6)(2,"div",7),s(3," Objections (NFSA) "),n(),o(4,"div",8),h(5,mE,3,1,"div",9),o(6,"div",10),h(7,pE,3,0,"button",11)(8,uE,3,0),n()()(),o(9,"div",12),h(10,gE,13,1,"table",13)(11,bE,2,0),n()()),t&2){let e=p();d(5),w(5,e.authService.userDetail.demography_type!="2"?5:-1),d(2),w(7,e.isExportInProgress?8:7),d(3),w(10,e.filteredDistrictStats&&e.filteredDistrictStats.length>0?10:11)}}Aa.default.vfs=Js.default.pdfMake.vfs;var Qs=(()=>{let r=class r{constructor(i,a,l,c){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm=""}ngOnInit(){this.route.queryParams.subscribe(i=>{this.type=+i.type}),this.fetchDrillDownList()}get filteredDistrictStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.district_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/district-wise/nfsa-objected-count`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.authService.userDetail.role.id=="4"?this.drilldownStats=i.data.filter(a=>a.district_id==this.authService.userDetail.demography_id):this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPDF(i){this.isExportInProgress=!0;let a="EXISTING BENEFICIARY LIST (NFSA/SFSS)",l=new Date,c=`Timestamp: ${(0,Xs.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"District/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.district_name||"",fontSize:9},{text:g.total||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{body:f,widths:["20%","50%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Aa.default.createPdf(S).download("Existing_Beneficiary_List_(NFSA/SFSS).pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R))},r.\u0275cmp=D({type:r,selectors:[["app-existing-benificiary-district-stats"]],decls:5,vars:1,consts:[[1,"container","my-4"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["class","search-box me-2","style","flex-grow: 1; max-width: 30%"],[1,"col-md-2","text-sm-end"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter District Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"],[1,"btn","btn-sm","btn-primary","ms-1",2,"white-space","nowrap",3,"routerLink"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary",2,"white-space","nowrap"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary","ms-1",2,"white-space","nowrap"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),h(3,cE,3,0,"div",3)(4,vE,12,3),n()()()),a&2&&(d(3),w(3,l.isStatsLoading?3:4))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Zs=B(ve());var ed=B(me());function xE(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function SE(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function CE(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function yE(t,r){if(t&1&&(o(0,"a",36),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/existing-benificiary/district-stats/gp-stats/",i.district_id,"/",e==null?null:e.block_id,"")}}function wE(t,r){t&1&&(o(0,"a",37),s(1,"View "),n())}function EE(t,r){if(t&1&&(o(0,"tr",33)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,yE,2,2,"a",34)(9,wE,2,0,"a",35),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.block_name),d(2),_(e.total||"0"),d(2),m("ngIf",(e==null?null:e.total)!=="0"),d(1),m("ngIf",(e==null?null:e.total)==="0")}}function IE(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN"),n(),o(5,"th",31),s(6,"Block/ULB/MC"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,EE,10,5,"tr",32),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats)}}function TE(t,r){t&1&&(o(0,"h5",38),s(1," No Data Found "),n())}function kE(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Objections (NFSA) "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,SE,3,0,"button",22)(15,CE,3,0),n()()(),o(16,"div",23),h(17,IE,13,1,"table",24)(18,TE,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var td=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.block_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/block-wise/nfsa-objected-count?district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="EXISTING BENEFICIARY LIST (NFSA/SFSS)",l=new Date,c=`Timestamp: ${(0,ed.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:g.block_name||"",fontSize:9},{text:g.total||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Zs.default.createPdf(S).download(`Existing_Beneficiary_List_(NFSA/SFSS)_For_${this.district_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-existing-benificiary-block-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Block Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled",""],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,xE,3,0,"div",9)(11,kE,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var id=B(ve());var nd=B(me());function LE(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function FE(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function DE(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function AE(t,r){if(t&1&&(o(0,"a",36),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/existing-benificiary/district-stats/ward-stats/",i.district_id,"/",e==null?null:e.ulb_id,"")}}function VE(t,r){t&1&&(o(0,"a",37),s(1,"View "),n())}function PE(t,r){if(t&1&&(o(0,"tr",33)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,AE,2,2,"a",34)(9,VE,2,0,"a",35),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.ulb_name),d(2),_(e.total||"0"),d(2),m("ngIf",(e==null?null:e.total)!=="0"),d(1),m("ngIf",(e==null?null:e.total)==="0")}}function ME(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN"),n(),o(5,"th",31),s(6,"Block/ULB/MC"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,PE,10,5,"tr",32),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats)}}function RE(t,r){t&1&&(o(0,"h5",38),s(1," No Data Found "),n())}function OE(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Objections (NFSA) "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,FE,3,0,"button",22)(15,DE,3,0),n()()(),o(16,"div",23),h(17,ME,13,1,"table",24)(18,RE,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var od=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ulb_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/ulb-wise/nfsa-objected-count?district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="EXISTING BENEFICIARY LIST (NFSA/SFSS)",l=new Date,c=`Timestamp: ${(0,nd.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:g.ulb_name||"",fontSize:9},{text:g.total||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};id.default.createPdf(S).download(`Existing Beneficiary List (NFSA/SFSS) For ${this.district_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-existing-benificiary-ulb-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter ULB Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled",""],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,LE,3,0,"div",9)(11,OE,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var ad=B(ve());var Va=B(me());function jE(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function BE(t,r){if(t&1){let e=E();o(0,"button",26),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",27),s(2,"Download "),n()}}function $E(t,r){t&1&&(o(0,"button",28),u(1,"i",29),s(2,"Downloading... "),n())}function NE(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/existing-benificiary/district-stats/ward-existing-benificiary-list/",i.district_id,"/",i.ulb_id,"/",e==null?null:e.ward_id,"")}}function GE(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function WE(t,r){if(t&1&&(o(0,"tr",34)(1,"td",31),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,NE,2,3,"a",35)(9,GE,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),T("",i+1," "),d(2),_(e.ward_no),d(2),_(e.total||"0"),d(2),m("ngIf",(e==null?null:e.total)!=="0"),d(1),m("ngIf",(e==null?null:e.total)==="0")}}function zE(t,r){if(t&1&&(o(0,"table",30)(1,"thead")(2,"tr")(3,"th",31),s(4,"SN"),n(),o(5,"th",32),s(6,"GP/Ward"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,WE,10,5,"tr",33),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats)}}function UE(t,r){t&1&&(o(0,"h5",39),s(1," No Data Found "),n())}function HE(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Objections (NFSA) "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n(),o(9,"li",18),s(10),n()()()(),o(11,"div",19)(12,"div",20)(13,"input",21),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",22),n(),o(15,"div"),h(16,BE,3,0,"button",23)(17,$E,3,0),n()()(),o(18,"div",24),h(19,zE,13,1,"table",25)(20,UE,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.ulb_name," "),d(3),m("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}var rd=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fb=S,this.toastService=g,this.formService=v,this.isStatsLoading=!1,this.isFormSubmitInProgress=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.ulb_id="",this.district_name="",this.ulb_name="",this.selectedWardId="",this.selectedImage="",this.today="",this.recommedationForm=this.fb.group({remarks:["",k.required],document:["",k.required]})}goBack(){this.location.back()}setselectedImage(i){this.selectedImage=i.target.files[0]}toggleWardSelection(i){if(i==this.selectedWardId){this.selectedWardId="";return}this.selectedWardId=i}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.ulb_id=i.ulb_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.ulb_name=he.data.find(a=>a.id==this.ulb_id)?.ulb_name,this.fetchDrillDownList()}),this.today=(0,Va.default)().format("YYYY-MM-DD")}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ward_no.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/ward-wise/nfsa-objected-count?ulb_id=${this.ulb_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="EXISTING BENEFICIARY LIST (NFSA/SFSS)",l=new Date,c=`Timestamp: ${(0,Va.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"GP/WARD",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:this.ulb_name||"",fontSize:9},{text:g.ward_no||"",fontSize:9},{text:g.total||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.ulb_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","25%","20%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};ad.default.createPdf(S).download(`Field Verified List For ${this.ulb_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G),b(Q),b(K),b(Z))},r.\u0275cmp=D({type:r,selectors:[["app-existing-benificiary-ward-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter GP/Ward",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["disabled","","type","button",4,"ngIf"],[3,"routerLink"],["disabled","","type","button"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,jE,3,0,"div",9)(11,HE,21,5),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var ld=B(ve());var Pa=B(me());function YE(t,r){t&1&&(o(0,"div",31),u(1,"i",32),s(2," We are fetching the data, please wait. "),n())}function qE(t,r){if(t&1){let e=E();o(0,"button",47),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",48),s(2,"Download "),n()}}function KE(t,r){t&1&&(o(0,"button",49),u(1,"i",50),s(2,"Downloading... "),n())}function JE(t,r){if(t&1&&(o(0,"a",58),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/existing-benificiary/district-stats/gp-existing-benificiary-list/",i.district_id,"/",i.block_id,"/",e==null?null:e.gp_id,"")}}function XE(t,r){t&1&&(o(0,"a",59),s(1,"View "),n())}function QE(t,r){if(t&1&&(o(0,"tr",55)(1,"td",52),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,JE,2,3,"a",56)(9,XE,2,0,"a",57),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.gp_name),d(2),_(e.total||"0"),d(2),m("ngIf",(e==null?null:e.total)!=="0"),d(1),m("ngIf",(e==null?null:e.total)==="0")}}function ZE(t,r){if(t&1&&(o(0,"table",51)(1,"thead")(2,"tr")(3,"th",52),s(4,"SN"),n(),o(5,"th",53),s(6,"GP/Ward"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,QE,10,5,"tr",54),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats)}}function e4(t,r){t&1&&(o(0,"h5",60),s(1," No Data Found "),n())}function t4(t,r){if(t&1){let e=E();o(0,"div",33)(1,"div",33)(2,"div",34)(3,"div",35),s(4," Objections (NFSA) "),n(),o(5,"nav",36)(6,"ol",37)(7,"li",38),s(8),n(),o(9,"li",39),s(10),n()()()(),o(11,"div",40)(12,"div",41)(13,"input",42),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",43),n(),o(15,"div"),h(16,qE,3,0,"button",44)(17,KE,3,0),n()()(),o(18,"div",45),h(19,ZE,13,1,"table",46)(20,e4,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.block_name," "),d(3),m("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}function i4(t,r){t&1&&(o(0,"button",61),s(1," Recommend "),n())}function n4(t,r){t&1&&(o(0,"button",62),s(1," Recommending... "),u(2,"i",63),n())}var sd=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fb=S,this.toastService=g,this.formService=v,this.isStatsLoading=!1,this.isExportInProgress=!1,this.isFormSubmitInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.block_id="",this.district_name="",this.block_name="",this.selectedGpId="",this.selectedImage="",this.ulb_id="",this.today="",this.ulb_name="",this.recommedationForm=this.fb.group({remarks:["",k.required],document:["",k.required]})}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.block_id=i.block_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.block_name=be.data.find(a=>a.id==this.block_id)?.block_name,this.fetchDrillDownList()}),this.today=(0,Pa.default)().format("YYYY-MM-DD")}setselectedImage(i){this.selectedImage=i.target.files[0]}toggleWardSelection(i){if(i==this.selectedGpId){this.selectedGpId="";return}this.selectedGpId=i}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ward_no.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/gp-wise/nfsa-objected-count?block_id=${this.block_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="EXISTING BENEFICIARY LIST (NFSA/SFSS)",l=new Date,c=`Timestamp: ${(0,Pa.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"GP NAME",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:this.block_name||"",fontSize:9},{text:g.gp_name||"",fontSize:9},{text:g.total||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.block_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","25%","20%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};ld.default.createPdf(S).download(`Existing Beneficiary List (NFSA/SFSS) For ${this.block_name}`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("photo",this.selectedImage),a.append("remarks",i.remarks),a.append("category","1"),a.append("gp_id",this.selectedGpId),a.append("user_id",this.authService?.userDetail?.demography_id);let l="";l="/v1/recommend-fv-for-ineligible",l="/v1/recommend-fv-for-eligible",this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("recommendFormClose")?.click(),this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G),b(Q),b(K),b(Z))},r.\u0275cmp=D({type:r,selectors:[["app-existing-benificiary-gp-stats"]],decls:61,vars:9,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],["id","recommendModal","tabindex","-1","aria-labelledby","recommendModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","recommendModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],[1,"text-danger"],[1,"d-flex","flex-column","gap-1","w-100"],["formControlName","document","type","file","id","document",1,"form-control",3,"change"],[3,"field"],["formControlName","remarks","id","remarks","placeholder","200 Charecters only","maxlength","200",1,"form-control",2,"resize","none","height","100px"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter GP/Ward",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["disabled","","type","button",4,"ngIf"],[3,"routerLink"],["disabled","","type","button"],[1,"mt-6","text-center"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,YE,3,0,"div",9)(11,t4,21,5),n()()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"h5",14),s(17,"Recommendation Form"),n(),u(18,"button",15),n(),o(19,"div",16)(20,"form",17),x("submit",function(){return l.handleRecomendationSubmit()}),o(21,"div",18)(22,"label",19),s(23,"Recommendation Date :"),n(),u(24,"input",20),n(),o(25,"div",18)(26,"label",19),s(27,"No. of Applications :"),n(),u(28,"input",21),n(),o(29,"div",18)(30,"label",19),s(31,"Recommended for Approval :"),n(),u(32,"input",21),n(),o(33,"div",18)(34,"label",19),s(35,"Recommended for Rejection :"),n(),u(36,"input",21),n(),o(37,"div",18)(38,"label",19),s(39,"Upload Proceedings "),o(40,"span",22),s(41,"*"),n(),s(42," :"),n(),o(43,"div",23)(44,"input",24),x("change",function(f){return l.setselectedImage(f)}),n(),u(45,"app-form-error",25),n()(),o(46,"div",18)(47,"label",19),s(48,"Remarks "),o(49,"span",22),s(50,"*"),n(),s(51," :"),n(),o(52,"div",23)(53,"textarea",26),s(54,"                      "),n(),u(55,"app-form-error",25),n()(),o(56,"div",27)(57,"div",28)(58,"div",29),h(59,i4,2,0,"button",30)(60,n4,3,0),n()()()()()()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11),d(10),m("formGroup",l.recommedationForm),d(4),m("value",l.today),d(4),m("value",5),d(4),m("value",1),d(4),m("value",4),d(9),m("field",l.recommedationForm.get("document")),d(10),m("field",l.recommedationForm.get("remarks")),d(4),w(59,l.isFormSubmitInProgress?60:59))},dependencies:[A,P,W,se,Y,U,le,St,X,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var dd=B(me());function o4(t,r){if(t&1&&(o(0,"li",48),s(1),n()),t&2){let e=p();d(1),_(e.ulb_name)}}function a4(t,r){if(t&1&&(o(0,"li",48),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function r4(t,r){t&1&&(o(0,"div",49),u(1,"i",50),s(2," We are fetching the data, please wait. "),n())}var l4="/department/portal/approval-module/existing-benificiary/district-stats/field-verification-report",s4=t=>[l4,t],d4=t=>({"disabled-link":t});function c4(t,r){if(t&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td",54),s(6),n(),o(7,"td",54),s(8),n(),o(9,"td"),s(10,"N/A"),n(),o(11,"td",55)(12,"a",56),x("click",function(a){return a.preventDefault()}),n()(),o(13,"td",55)(14,"button",57),x("click",function(){let l=C(e).$implicit,c=p(3);return y(c.openObjectionsModal(l==null?null:l.application_number))}),n()()()}if(t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(4),et("pointer-events",e!=null&&e.id?"auto":"none"),m("routerLink",e!=null&&e.id?_e(9,s4,+(e==null?null:e.id)):null)("ngClass",_e(11,d4,!(e!=null&&e.id))),Ze("aria-disabled",!(e!=null&&e.id))}}function m4(t,r){t&1&&(o(0,"span"),u(1,"i",50),s(2," Loading..."),n())}function p4(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function u4(t,r){if(t&1){let e=E();o(0,"div",58)(1,"button",59),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,m4,3,0,"span",60)(3,p4,2,0,"span",60),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function h4(t,r){if(t&1&&(o(0,"table",45)(1,"thead",51)(2,"tr")(3,"th",46),s(4,"SN"),n(),o(5,"th",46),s(6,"Application No."),n(),o(7,"th",46),s(8,"Applicant Name"),n(),o(9,"th",46),s(10,"Father/Husband Name"),n(),o(11,"th",46),s(12,"FET Date"),n(),o(13,"th",46),s(14,"FV Report"),n(),o(15,"th",46),s(16,"Objections"),n()()(),o(17,"tbody",52),h(18,c4,15,13,"tr",47),n()(),h(19,u4,4,2,"div",53)),t&2){let e=p(2);d(18),m("ngForOf",e.fieldVerificationsList),d(1),m("ngIf",e.newApplicationList.length&&e.newApplicationList.length===e.pageSize)}}function f4(t,r){t&1&&(o(0,"h5",61),s(1," No Application Found "),n())}function _4(t,r){if(t&1&&(o(0,"div"),h(1,h4,20,2)(2,f4,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}function g4(t,r){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td",55),u(10,"a",62),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14,"Pending"),n()()),t&2){let e=r.$implicit,i=r.index,a=p();d(2),_(i+1),d(2),_(a.appService.dateFormat(e.created_at)),d(2),T("GR-",e.grievance_ref_no,""),d(2),_(e.submitted_by),d(4),_(e.ineligible_id)}}var cd=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.ulb_name="",this.exportInProgress=!1,this.isDataLoading=!1,this.objectionsList=[],this.ulb_id="",this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required]}),this.recommedationForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required]}),this.redressForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required],recommendFor:["",k.required]})}setTab(i){this.tab=i,this.page=1,this.selectedFieldVerificationId=[],this.searchValue="",this.selectedCategory="",this.selectedDate="",this.selectedVillage="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}setselectedImage(i){this.selectedImage=i.target.files[0]}setmoveStatus(i){this.moveStatus=i}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.ward_id=i.ward_id,this.ulb_id=i.ulb_id,this.district_id=i.district_id,this.district_name=$.data.find(l=>l?.id==this.district_id)?.district_name,this.ulb_name=he.data.find(l=>l?.id==this.ulb_id)?.ulb_name,this.gp_nameorWardNo=He.data.find(l=>String(l?.id)===this.ward_id)?.ward_no,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}),this.today=(0,dd.default)().format("YYYY-MM-DD")}goBack(){this.location.back()}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("photo",this.selectedImage),a.append("remarks",i.remarks),a.append("category","1"),a.append("ward_id",this.ward_id),a.append("user_id",this.authService?.userDetail?.demography_id);let l="";this.tab==2&&(l="/v1/recommend-fv-for-ineligible"),this.tab==1&&(l="/v1/recommend-fv-for-eligible"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("recommendFormClose")?.click(),this.selectedFieldVerificationId=[],this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g="/v1/nfsa-objected-list?";i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&application_number=${this.searchValue}`),this.selectedVillage&&(g+=`&villageId=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data,this.eligibleCount=v.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v="/v1/nfsa-objected-list?";i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&application_number=${this.searchValue}`),this.selectedVillage&&(v+=`&villageId=${this.selectedVillage}`),this.selectedDate&&(v+=`&fv_status_date=${this.selectedDate}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{this.newApplicationList=I.data,I?.data?.length&&(this.fieldVerificationsList=[...this.fieldVerificationsList,...I.data]),this.eligibleCount=I.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}handleSubmit(){if(this.assignFieldOfficerForm.status==="INVALID"){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("remarks",i.remarks),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("field_verification_id",a?.id),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="eligible"?"3":"4"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/move-field-verification-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("BtnClose")?.click(),this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}handleRedressSubmit(){if(this.redressForm.status==="INVALID"){this.formService.triggerFormValidation(this.redressForm);return}let i=this.redressForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("remarks",i.remarks),l.append("status",i.recommendFor),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("ward_id  ",this.ward_id),l.append("category","1"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/redress-objected-application`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("redressModalClose")?.click(),this.selectedFieldVerificationId=[],this.redressForm.patchValue({remarks:"",document:"",recommendFor:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(){this.isLoadMoreInProgress=!0;let i="/v1/drilldown/fv-list-export";this.gp_id&&(i+=`?gp=${this.gp_id}`),this.ward_id&&(i+=`?ward=${this.ward_id}`),this.selectedDate&&(i+=`&date=${this.selectedDate}`),this.selectedAssignTo&&(i+=`&assignTo=${this.selectedAssignTo}`),this.selectedCategory&&(i+=`&category=${this.selectedCategory}`),this.tab&&(i+=`&status=${this.tab===1?1:0}`),this.searchValue&&(i+=`&applicationNo=${this.searchValue}`),this.selectedVillage&&(i+=`&villageId=${this.selectedVillage}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.exportInProgress=!1,this.downloadFile(a,this.tab===1?"eligible_application.pdf":"ineligible_application.pdf")},a=>{this.exportInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}openObjectionsModal(i){if(!i){console.error("Application number is required");return}let a=`${this.appService.departmentBaseUrl}/v1/objection-list/by-application-number?application_number=${i}`;this.isDataLoading=!0,this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDataLoading=!1,this.objectionsList=l.data||[]},l=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-ward-existing-benificiary-list"]],decls:77,vars:9,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter Application No.",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"d-flex","justify-content-between","pr-5"],[1,"col-md-8","row","mt-3","mb-3"],[1,"col-md-3","text-sm","d-flex","gap-2"],["type","button",1,"btn","btn-warning","text-white","fw-bold"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["id","objectionsModal","tabindex","-1","aria-labelledby","objectionsModalLabel","aria-hidden","true",1,"modal","fade","custom-modal-position"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","objectionsModalLabel",1,"modal-title",2,"color","#fd7b03"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"table-responsive"],[1,"table"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[2,"font-size","14px","font-weight","620"],[2,"font-size","14px"],["class","text-center mt-3",4,"ngIf"],[2,"text-transform","uppercase"],[1,"text-center"],[1,"far","fa-file-alt",3,"routerLink","ngClass","click"],["data-bs-toggle","modal","data-bs-target","#objectionsModal",1,"btn","btn-link","fas","fa-eye",2,"cursor","pointer","color","#007bff","border","none","background","transparent",3,"click"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"mt-6","text-center"],[1,"fas","fa-file",2,"cursor","pointer","color","#007bff"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16," FET Date "),o(17,"span",14),s(18,"*"),n()(),o(19,"input",15),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19),s(24," Objections (NFSA) "),n(),o(25,"div",20)(26,"div",21)(27,"input",22),x("change",function(f){return l.handleSearchChange(f)}),n(),u(28,"i",23),n()()(),o(29,"nav",24)(30,"ol",25)(31,"li",26),s(32),n(),h(33,o4,2,1,"li",27)(34,a4,2,1,"li",27),n()(),o(35,"div",28)(36,"div",29)(37,"div",30)(38,"button",31),s(39," Objection "),n()()()(),o(40,"div",32)(41,"div",33)(42,"div",34)(43,"span"),s(44,"Total No. of Applications : "),n(),o(45,"span",35),s(46),n()()()(),h(47,r4,3,0,"div",36)(48,_4,3,1),n()(),o(49,"div",37)(50,"div",38)(51,"div",39)(52,"div",40)(53,"h5",41),s(54,"Objections"),n(),u(55,"button",42),n(),o(56,"div",43)(57,"div",44)(58,"table",45)(59,"thead")(60,"tr")(61,"th"),s(62,"SN"),n(),o(63,"th",46),s(64,"Objection Date"),n(),o(65,"th",46),s(66,"Objection Ref. No."),n(),o(67,"th",46),s(68,"Objection Filed By"),n(),o(69,"th",46),s(70,"Objection Details"),n(),o(71,"th",46),s(72,"Objection Reasons"),n(),o(73,"th",46),s(74,"Status"),n()()(),o(75,"tbody"),h(76,g4,15,5,"tr",47),n()()()()()()()()),a&2&&(d(19),m("value",l.selectedDate)("max",l.today),d(8),m("value",l.searchValue),d(5),_(l.district_name),d(1),m("ngIf",l.ulb_name),d(1),m("ngIf",l.gp_nameorWardNo),d(12),T(" ",l.totalApplicants,""),d(1),w(47,l.isStatsLoading?47:48),d(29),m("ngForOf",l.objectionsList))},dependencies:[xt,A,P,W,se,le,Fe],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}.modal-xl[_ngcontent-%COMP%]{max-width:78%}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}@media (max-width: 768px){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;padding:.5rem}}.table-responsive[_ngcontent-%COMP%]{overflow-x:scroll}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}.custom-modal-position[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{top:22%;left:8.5%;transform:translateY(-50%);position:relative}"]});let t=r;return t})();var md=B(me());function b4(t,r){if(t&1&&(o(0,"option",53),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),T(" ",e==null?null:e.village_name,"")}}function v4(t,r){if(t&1&&(o(0,"li",54),s(1),n()),t&2){let e=p();d(1),_(e.block_name)}}function x4(t,r){if(t&1&&(o(0,"li",54),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function S4(t,r){t&1&&(o(0,"div",55),u(1,"i",56),s(2," We are fetching the data, please wait. "),n())}var C4="/department/portal/approval-module/existing-benificiary/district-stats/field-verification-report",y4=t=>[C4,t],w4=t=>({"disabled-link":t});function E4(t,r){if(t&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td",59)(4,"input",60),x("change",function(){let l=C(e).$implicit,c=p(3);return y(c.onSelect(l==null?null:l.id))}),n()(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td",63),s(10),n(),o(11,"td",63),s(12),n(),o(13,"td"),s(14,"N/A"),n(),o(15,"td",64)(16,"a",65),x("click",function(a){return a.preventDefault()}),n()(),o(17,"td",64)(18,"button",66),x("click",function(){let l=C(e).$implicit,c=p(3);return y(c.openObjectionsModal(l==null?null:l.application_number))}),n()()()}if(t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(2),m("checked",a.selectedFieldVerificationId.includes(e==null?null:e.id)),d(2),_((e==null?null:e.village_name)||"N/A"),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(4),et("pointer-events",e!=null&&e.id?"auto":"none"),m("routerLink",e!=null&&e.id?_e(11,y4,+(e==null?null:e.id)):null)("ngClass",_e(13,w4,!(e!=null&&e.id))),Ze("aria-disabled",!(e!=null&&e.id))}}function I4(t,r){t&1&&(o(0,"span"),u(1,"i",56),s(2," Loading..."),n())}function T4(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function k4(t,r){if(t&1){let e=E();o(0,"div",67)(1,"button",68),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,I4,3,0,"span",69)(3,T4,2,0,"span",69),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function L4(t,r){if(t&1){let e=E();o(0,"div",57)(1,"table",50)(2,"thead",58)(3,"tr")(4,"th",51),s(5,"SN"),n(),o(6,"th",59)(7,"input",60),x("change",function(){C(e);let a=p(2);return y(a.toggleSelectAll())}),n()(),o(8,"th",51),s(9,"Village"),n(),o(10,"th",51),s(11,"Application No."),n(),o(12,"th",51),s(13,"Applicant Name"),n(),o(14,"th",51),s(15,"Father/Husband Name"),n(),o(16,"th",51),s(17,"FET Date"),n(),o(18,"th",51),s(19,"FV Report"),n(),o(20,"th",51),s(21,"Objections"),n()()(),o(22,"tbody",61),h(23,E4,19,15,"tr",52),n()()(),h(24,k4,4,2,"div",62)}if(t&2){let e=p(2);d(7),m("checked",e.isAllSelected()),d(16),m("ngForOf",e.fieldVerificationsList),d(1),m("ngIf",e.newApplicationList.length&&e.newApplicationList.length===e.pageSize)}}function F4(t,r){t&1&&(o(0,"h5",70),s(1," No Application Found "),n())}function D4(t,r){if(t&1&&(o(0,"div"),h(1,L4,25,3)(2,F4,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}function A4(t,r){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td",64),u(10,"a",71),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14,"Pending"),n()()),t&2){let e=r.$implicit,i=r.index,a=p();d(2),_(i+1),d(2),_(a.appService.dateFormat(e.created_at)),d(2),T("GR-",e.grievance_ref_no,""),d(2),_(e.submitted_by),d(4),_(e.ineligible_id)}}var pd=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.objectionsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.isDataLoading=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.ulb_name="",this.exportInProgress=!1,this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required]}),this.redressForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required],recommendFor:["",k.required]}),this.recommedationForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required]})}setTab(i){this.tab=i,this.page=1,this.selectedFieldVerificationId=[],this.searchValue="",this.selectedCategory="",this.selectedDate="",this.selectedVillage="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}setselectedImage(i){this.selectedImage=i.target.files[0]}setmoveStatus(i){this.moveStatus=i}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.gp_id=i.gp_id,this.block_id=i.block_id,this.district_id=i.district_id,this.district_name=$.data.find(l=>l?.id==this.district_id)?.district_name,this.block_name=be.data.find(l=>l?.id==this.block_id)?.block_name,this.gp_id&&this.fetchVillages(),this.gp_nameorWardNo=Ue.data.find(l=>String(l?.id)===this.gp_id)?.gp_name,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}),this.today=(0,md.default)().format("YYYY-MM-DD")}goBack(){this.location.back()}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=this.fieldVerificationsList?.find(f=>f?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("remarks",i.remarks),l.append("category","1"),l.append("gp_id",this.gp_id),l.append("user_id",this.authService?.userDetail?.demography_id);let c="";this.tab==2&&(c="/v1/recommend-fv-for-ineligible"),this.tab==1&&(c="/v1/recommend-fv-for-eligible"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(f=>{this.isFormSubmitInProgress=!1,this.toastService.success(f.message),document.getElementById("recommendFormClose")?.click(),this.selectedFieldVerificationId=[],this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}fetchVillages(){let i=`/v1/fv/village-list?gp_id=${this.gp_id}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.villageList=a.data},a=>{this.villageList=[]})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g="/v1/nfsa-objected-list?";i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&application_number=${this.searchValue}`),this.selectedVillage&&(g+=`&villageId=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data,this.eligibleCount=v.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v="/v1/nfsa-objected-list?";i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&application_number=${this.searchValue}`),this.selectedVillage&&(v+=`&villageId=${this.selectedVillage}`),this.selectedDate&&(v+=`&fv_status_date=${this.selectedDate}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{this.newApplicationList=I.data,I?.data?.length&&(this.fieldVerificationsList=[...this.fieldVerificationsList,...I.data]),this.eligibleCount=I.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}handleSubmit(){if(this.assignFieldOfficerForm.status==="INVALID"){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("remarks",i.remarks),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("field_verification_id",a?.id),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="eligible"?"3":"4"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/move-field-verification-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("BtnClose")?.click(),this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}handleRedressSubmit(){if(this.redressForm.status==="INVALID"){this.formService.triggerFormValidation(this.redressForm);return}let i=this.redressForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("remarks",i.remarks),l.append("status",i.recommendFor),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("gp_id",this.gp_id),l.append("category","1"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/redress-objected-application`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("redressModalClose")?.click(),this.selectedFieldVerificationId=[],this.redressForm.patchValue({remarks:"",document:"",recommendFor:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(){this.isLoadMoreInProgress=!0;let i="/v1/drilldown/fv-list-export";this.gp_id&&(i+=`?gp=${this.gp_id}`),this.ward_id&&(i+=`?ward=${this.ward_id}`),this.selectedDate&&(i+=`&date=${this.selectedDate}`),this.selectedAssignTo&&(i+=`&assignTo=${this.selectedAssignTo}`),this.selectedCategory&&(i+=`&category=${this.selectedCategory}`),this.tab&&(i+=`&status=${this.tab===1?1:0}`),this.searchValue&&(i+=`&applicationNo=${this.searchValue}`),this.selectedVillage&&(i+=`&villageId=${this.selectedVillage}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.exportInProgress=!1,this.downloadFile(a,this.tab===1?"eligible_application.pdf":"ineligible_application.pdf")},a=>{this.exportInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}openObjectionsModal(i){if(!i){console.error("Application number is required");return}let a=`${this.appService.departmentBaseUrl}/v1/objection-list/by-application-number?application_number=${i}`;this.isDataLoading=!0,this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDataLoading=!1,this.objectionsList=l.data||[]},l=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-gp-existing-benificiary-list"]],decls:90,vars:11,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],[1,"form-control","form-select",3,"value","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter Application No.",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"d-flex","justify-content-between","pr-5"],[1,"col-md-8","row","mt-3","mb-3"],[1,"col-md-3","text-sm","d-flex","gap-2"],["type","button",1,"btn","btn-warning","text-white","fw-bold"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["id","objectionsModal","tabindex","-1","aria-labelledby","objectionsModalLabel","aria-hidden","true",1,"modal","fade","custom-modal-position"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","objectionsModalLabel",1,"modal-title",2,"color","#fd7b03"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"table-responsive"],[1,"table"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],[3,"value"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"table-responsive","mt-4"],[2,"font-size","14px","font-weight","620"],[2,"width","5%"],["type","checkbox",2,"cursor","pointer",3,"checked","change"],[2,"font-size","14px"],["class","text-center mt-3",4,"ngIf"],[2,"text-transform","uppercase"],[1,"text-center"],[1,"far","fa-file-alt",3,"routerLink","ngClass","click"],["data-bs-toggle","modal","data-bs-target","#objectionsModal",1,"btn","btn-link","fas","fa-eye",2,"cursor","pointer","color","#007bff","border","none","background","transparent",3,"click"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"mt-6","text-center"],[1,"fas","fa-file",2,"cursor","pointer","color","#007bff"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16,"Village"),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.handleVillageChange(f)}),o(20,"option",16),s(21,"All"),n(),h(22,b4,2,2,"option",17),n()()(),o(23,"div",11)(24,"div",12)(25,"label",13),s(26," FET Date "),o(27,"span",14),s(28,"*"),n()(),o(29,"input",18),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(30,"div",19)(31,"div",20)(32,"div",21)(33,"div",22),s(34," Objections (NFSA) "),n(),o(35,"div",23)(36,"div",24)(37,"input",25),x("change",function(f){return l.handleSearchChange(f)}),n(),u(38,"i",26),n(),o(39,"button",27),u(40,"i",28),s(41,"Download "),n()()(),o(42,"nav",29)(43,"ol",30)(44,"li",31),s(45),n(),h(46,v4,2,1,"li",32)(47,x4,2,1,"li",32),n()(),o(48,"div",33)(49,"div",34)(50,"div",35)(51,"button",36),s(52," Objection "),n()()()(),o(53,"div",37)(54,"div",38)(55,"div",39)(56,"span"),s(57,"Total No. of Applications : "),n(),o(58,"span",40),s(59),n()()()(),h(60,S4,3,0,"div",41)(61,D4,3,1),n()(),o(62,"div",42)(63,"div",43)(64,"div",44)(65,"div",45)(66,"h5",46),s(67,"Objections"),n(),u(68,"button",47),n(),o(69,"div",48)(70,"div",49)(71,"table",50)(72,"thead")(73,"tr")(74,"th"),s(75,"SN"),n(),o(76,"th",51),s(77,"Objection Date"),n(),o(78,"th",51),s(79,"Objection Ref. No."),n(),o(80,"th",51),s(81,"Objection Filed By"),n(),o(82,"th",51),s(83,"Objection Details"),n(),o(84,"th",51),s(85,"Objection Reasons"),n(),o(86,"th",51),s(87,"Status"),n()()(),o(88,"tbody"),h(89,A4,15,5,"tr",52),n()()()()()()()()),a&2&&(d(19),m("value",l.selectedVillage),d(3),m("ngForOf",l.villageList),d(7),m("value",l.selectedDate)("max",l.today),d(8),m("value",l.searchValue),d(8),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.gp_nameorWardNo),d(12),T(" ",l.totalApplicants,""),d(1),w(60,l.isStatsLoading?60:61),d(29),m("ngForOf",l.objectionsList))},dependencies:[xt,A,P,W,se,Ie,Te,le,Fe],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}.modal-xl[_ngcontent-%COMP%]{max-width:78%}@media (max-width: 768px){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;padding:.5rem}}.table-responsive[_ngcontent-%COMP%]{overflow-x:scroll}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}.custom-modal-position[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{top:22%;left:8.5%;transform:translateY(-50%);position:relative}"]});let t=r;return t})();function V4(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function P4(t,r){t&1&&(o(0,"th"),s(1,"Village"),n())}function M4(t,r){t&1&&(o(0,"th",29),s(1,"Action"),n())}function R4(t,r){if(t&1&&(o(0,"td"),s(1),n()),t&2){let e=p().$implicit;d(1),_(e==null?null:e.village_name)}}function O4(t,r){if(t&1){let e=E();o(0,"a",31),x("click",function(){C(e);let a=p(2).$implicit,l=p(3);return y(l.handleRevert(a==null?null:a.id))}),s(1,"Revert"),n()}}function j4(t,r){t&1&&(u(0,"i",11),o(1,"a",32),s(2,"Reverting.."),n())}function B4(t,r){if(t&1&&(o(0,"td",29),h(1,O4,2,0,"a",30)(2,j4,3,0),n()),t&2){let e=p().$implicit,i=p(3);d(1),w(1,i.revertingId!=(e==null?null:e.id)||!i.isRevertingInProgress?1:2)}}function $4(t,r){if(t&1&&(o(0,"tr")(1,"td",24),s(2),n(),h(3,R4,2,1,"td",25),o(4,"td"),s(5),Ce(6,"getFieldVerificationCategoryNameById"),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),h(17,B4,3,1,"td",26),n()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(1),m("ngIf",a.gp_id),d(2),_(Le(6,9,e==null?null:e.field_verification_category)),d(3),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.created_at)),d(2),T(" ",e==null?null:e.remarks," "),d(1),m("ngIf",a.type==1||a.type==2)}}function N4(t,r){if(t&1&&(o(0,"div",21)(1,"table",22)(2,"thead",23)(3,"tr")(4,"th",24),s(5,"SN"),n(),h(6,P4,2,0,"th",25),o(7,"th"),s(8,"Category"),n(),o(9,"th"),s(10,"Application No."),n(),o(11,"th"),s(12,"Applicant Name"),n(),o(13,"th"),s(14,"Father/Husband Name"),n(),o(15,"th"),s(16,"Transaction Date"),n(),o(17,"th"),s(18,"Remarks"),n(),h(19,M4,2,0,"th",26),n()(),o(20,"tbody",27),h(21,$4,18,11,"tr",28),n()()()),t&2){let e=p(2);d(6),m("ngIf",e.gp_id),d(13),m("ngIf",e.type==1||e.type==2),d(2),m("ngForOf",e.logHistory)}}function G4(t,r){t&1&&(o(0,"h5",33),s(1," No Data Found "),n())}function W4(t,r){if(t&1&&(o(0,"div",12)(1,"div",13),s(2," Eligible to Ineligible List "),n(),o(3,"div",14)(4,"div",15),u(5,"input",16)(6,"i",17),n(),o(7,"button",18),u(8,"i",19),s(9,"Download "),n()()(),h(10,N4,22,3,"div",20)(11,G4,2,0)),t&2){let e=p();d(10),w(10,e.logHistory.length>0?10:11)}}var Ma=(()=>{let r=class r{constructor(i,a,l,c,f,S){this.location=i,this.appService=a,this.authService=l,this.httpClient=c,this.route=f,this.toastService=S,this.logHistory=[],this.gp_id="",this.ward_id="",this.type="",this.isRevertingInProgress=!1,this.isStatsLoading=!1,this.revertingId=""}ngOnInit(){this.route.params.subscribe(i=>{this.gp_id=i.gp_id,this.ward_id=i.ward_id,this.type=i.type,this.fetchLogHistory()})}handleRevert(i){this.isRevertingInProgress=!0,this.revertingId=i,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/revert-field-verification-status-log?log_id=${i}`,{},{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.toastService.success(a.message),this.isRevertingInProgress=!1,this.fetchLogHistory()},a=>{this.isRevertingInProgress=!1,this.toastService.error(a.error.message)})}goBack(){this.location.back()}fetchLogHistory(){let i=`/v1/field-verification-status-logs?type=${this.type}`;this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.logHistory=a.data,this.isStatsLoading=!1},a=>{this.logHistory=[],this.isStatsLoading=!1})}};r.\u0275fac=function(a){return new(a||r)(b(G),b(O),b(V),b(M),b(R),b(K))},r.\u0275cmp=D({type:r,selectors:[["app-existing-benificiary-view-logs"]],decls:12,vars:1,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","mt-3"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder"," Enter Application No.",1,"form-control"],[1,"fa","fa-search"],["type","button",1,"btn","px-2","py-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","540"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["class","table-responsive mt-3"],[1,"table-responsive","mt-3"],[1,"table","mt-4"],[2,"font-size","14px","font-weight","620"],[2,"width","5%"],[4,"ngIf"],["class","text-center",4,"ngIf"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],[1,"text-center"],["type","button","class","btn btn-sm","style","background-color: #ECCD42;"],["type","button",1,"btn","btn-sm",2,"background-color","#ECCD42",3,"click"],["disabled","","type","button",1,"btn","btn-sm",2,"background-color","#ECCD42"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,V4,3,0,"div",9)(11,W4,12,1),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,$n],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}"]});let t=r;return t})();var Ra=B(me());var Ln=B(Ht()),Oa=B(ve()),ud=B(Ut());function z4(t,r){if(t&1){let e=E();o(0,"div",26),u(1,"div",27),o(2,"div",28)(3,"a",29),x("click",function(){C(e);let a=p();return y(a.goBack())}),o(4,"button",30),u(5,"i",31),s(6," Back "),n()()()()}}function U4(t,r){if(t&1&&(o(0,"div",32),s(1),n()),t&2){let e=p();d(1),T(" ",e.getProceedingTypeHeading()," Committee Proceedings ")}}function H4(t,r){t&1&&(o(0,"div",32),s(1," Own Committee Proceedings "),n())}function Y4(t,r){t&1&&(o(0,"a",33),s(1," + Add New"),n())}function q4(t,r){if(t&1&&(o(0,"li",34),s(1),n()),t&2){let e=p();d(1),T(" ",e.block_name," ")}}function K4(t,r){if(t&1&&(o(0,"li",34),s(1),n()),t&2){let e=p();d(1),T(" ",e.ulb_name," ")}}function J4(t,r){t&1&&(o(0,"div",35),u(1,"i",36),s(2," We are fetching the data, please wait. "),n())}function X4(t,r){t&1&&(o(0,"th",46),s(1,"Action"),n())}function Q4(t,r){if(t&1){let e=E();o(0,"i",52),x("click",function(){C(e);let a=p(2).$implicit,l=p(3);return y(l.downloadPdf(a==null?null:a.pdf_path,a==null?null:a.updated_at,a==null?null:a.id))}),n()}}function Z4(t,r){t&1&&(o(0,"div",53),u(1,"i",54)(2,"i",55),n())}function eI(t,r){if(t&1&&(o(0,"td",49),h(1,Q4,1,0,"i",50)(2,Z4,3,0,"div",51),n()),t&2){let e=p().$implicit,i=p(3);d(1),m("ngIf",!i.isdownloadProgress||i.selectedId!=(e==null?null:e.id)),d(1),m("ngIf",i.isdownloadProgress&&i.selectedId==(e==null?null:e.id))}}function tI(t,r){t&1&&(o(0,"td",49),u(1,"i",56),n())}var iI=t=>({id:t});function nI(t,r){if(t&1&&(o(0,"a",60),u(1,"i",61),n()),t&2){let e=p(2).$implicit;m("queryParams",_e(1,iI,e==null?null:e.id))}}function oI(t,r){if(t&1){let e=E();o(0,"button",62),x("click",function(){C(e);let a=p(2).$implicit,l=p(3);return y(l.deleteProceeding(a==null?null:a.id,a==null?null:a.proceding_number))}),u(1,"i",63),n()}}function aI(t,r){if(t&1&&(o(0,"td")(1,"div",57),h(2,nI,2,3,"a",58)(3,oI,2,0,"button",59),n()()),t&2){let e=p().$implicit;d(2),m("ngIf",!e.pdf_path),d(1),m("ngIf",!e.pdf_path)}}function rI(t,r){if(t&1&&(o(0,"tr")(1,"td",41),s(2),n(),o(3,"td",47),s(4),n(),o(5,"td",47),s(6),n(),h(7,eI,3,2,"td",48)(8,tI,2,0,"td",48)(9,aI,4,2,"td"),n()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),T(" ",i+1," "),d(2),_(a.appService.dateFormat(e==null?null:e.proceding_date)),d(2),_(e==null?null:e.proceding_number),d(1),m("ngIf",e.pdf_path),d(1),m("ngIf",!e.pdf_path),d(1),w(9,!a.district_id&&!a.ulb_id&&!a.block_id?9:-1)}}function lI(t,r){if(t&1&&(o(0,"div",38)(1,"table",39)(2,"thead",40)(3,"tr")(4,"th",41),s(5," SN "),n(),o(6,"th",42),s(7,"Proceeding Date"),n(),o(8,"th",42),s(9,"Proceeding No."),n(),o(10,"th",42),s(11,"Proceeding Copy"),n(),h(12,X4,2,0,"th",43),n()(),o(13,"tbody",44),h(14,rI,10,6,"tr",45),n()()()),t&2){let e=p(2);d(12),w(12,!e.district_id&&!e.ulb_id&&!e.block_id?12:-1),d(2),m("ngForOf",e.newApplicationList)}}function sI(t,r){t&1&&(o(0,"h5",64),s(1,"No Proceedings Found"),n())}function dI(t,r){if(t&1&&(o(0,"div"),h(1,lI,15,2,"div",37)(2,sI,2,0),n()),t&2){let e=p();d(1),w(1,e.newApplicationList.length?1:2)}}function cI(t,r){t&1&&(o(0,"span"),u(1,"i",36),s(2," Loading..."),n())}function mI(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function pI(t,r){if(t&1){let e=E();o(0,"div",65)(1,"button",66),x("click",function(){C(e);let a=p();return y(a.loadMore())}),h(2,cI,3,0,"span",67)(3,mI,2,0,"span",67),n()()}if(t&2){let e=p();d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}Oa.default.vfs=ud.default.pdfMake.vfs;var Ri=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedProceedingType="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.ward_no="",this.ulb_id="",this.block_name="",this.ulb_name="",this.district_name="",this.moveStatus="",this.categories=[],this.selectedId="",this.totalApplicants=0,this.isUsersLoading=!1,this.isdownloadProgress=!1,this.users=[],this.gp_nameorWardNo="",this.is_mc_user="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=1,this.exportInProgress=!1,this.loadMoreFlag=!0,this.categories=this.fieldVerification.fieldVerificationCategories,this.addNewProceedingForm=this.fb.group({proceedingDate:["",k.required],proceedingNo:["",k.required],remarks:["",[k.required,k.pattern(/.*\S.*/)]],document:["",k.required]})}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=3*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 3 MB."),this.resetForms();return}this.selectedImage=a}resetForms(){this.selectedImage="",this.addNewProceedingForm.patchValue({document:""}),this.addNewProceedingForm.updateValueAndValidity()}setmoveStatus(i){this.moveStatus=i}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.block_id=i.block_id,this.district_id=i.district_id,this.ulb_id=i.ulb_id,this.district_name=$.data.find(l=>l?.id==this.district_id)?.district_name,this.block_name=be.data.find(l=>l?.id==this.block_id)?.block_name,this.ulb_name=he.data.find(l=>l?.id==this.ulb_id)?.ulb_name,this.route.queryParams.subscribe(l=>{l.is_mc==1&&(this.is_mc_user=!0)}),this.fetchApplicationList()}),this.today=(0,Ra.default)().format("YYYY-MM-DD")}goBack(){this.location.back()}fetchVillages(){let i=`/v1/fv/village-list?gp_id=${this.gp_id}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.villageList=a.data},a=>{this.villageList=[]})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}loadMore(){this.page=this.page+1,this.loadMoreFetchApplicationList()}loadMoreFetchApplicationList(){let i="/proceeding/list",a=new URLSearchParams;this.district_id||this.block_id||this.ulb_id?(this.district_id&&a.append("district_id",this.district_id),this.block_id&&(a.append("block_id",this.block_id),a.delete("district_id")),this.ulb_id&&(this.is_mc_user?a.append("mc_id",this.ulb_id):a.append("ulb_id",this.ulb_id),a.delete("district_id"))):this.authService.userDetail.demography_type=="1"?a.append("is_state_user","1"):this.authService.userDetail.demography_type=="2"&&a.append("is_district_user","1"),this.selectedDate&&a.append("proceding_date",this.selectedDate),this.searchValue&&a.append("proceding_number",this.searchValue),a.append("page",this.page.toString()),a.append("pageSize",this.pageSize.toString()),i+=`?${a.toString()}`,this.isLoadMoreInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isLoadMoreInProgress=!1,this.newApplicationList=[...this.newApplicationList,...l.data],this.applications=[...this.applications,...l.data],this.newApplicationList.length>=this.totalApplicants&&(this.loadMoreFlag=!1)},l=>{this.isLoadMoreInProgress=!1})}isInvalidFile(i){return!i||new Date(i)<new Date("2025-02-03T00:00:00.000Z")}fetchApplicationList(){this.page=1;let i="/proceeding/list",a=new URLSearchParams;this.district_id||this.block_id||this.ulb_id?(this.district_id&&a.append("district_id",this.district_id),this.block_id&&(a.append("block_id",this.block_id),a.delete("district_id")),this.ulb_id&&(this.is_mc_user?a.append("mc_id",this.ulb_id):a.append("ulb_id",this.ulb_id),a.delete("district_id"))):this.authService.userDetail.demography_type=="1"?a.append("is_state_user","1"):this.authService.userDetail.demography_type=="2"&&a.append("is_district_user","1"),this.selectedDate&&a.append("proceding_date",this.selectedDate),this.searchValue&&a.append("proceding_number",this.searchValue),a.append("page",this.page.toString()),a.append("pageSize",this.pageSize.toString()),i+=`?${a.toString()}`,this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.newApplicationList=l.data,this.applications=l.data,this.totalApplicants=l.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1},l=>{this.isStatsLoading=!1})}getProceedingType(){if(this.authService.userDetail.demography_type=="1")return"SLSC";if(this.authService.userDetail.demography_type=="2")return"DLSC";if(this.authService.userDetail.demography_type=="3")return"BLSC";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==7)return"ULSC";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==4)return"MLSC"}getProceedingTypeHeading(){if(this.authService.userDetail.role?.id==15)return"DLSC";if(this.district_id&&this.block_id)return"BLSC";if(this.district_id&&this.ulb_id)return"ULSC/MLSC";if(this.district_id)return"DLSC"}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList()}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}exportToPdf(i){this.exportInProgress=!0;let a="Committee Proceedings List",l=new Date,c=`Timestamp: ${(0,Ra.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"PROCEEDING DATE",fillColor:"#d3d3d3",bold:!0},{text:"PROCEEDING NO.",fillColor:"#d3d3d3",bold:!0},{text:"DESCRIPTION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[v+1,this.appService.dateFormat(g?.proceding_date),g.proceding_number,{text:g.description,fontSize:8}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.block_name?this.block_name:this.ulb_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","15%","15%","60%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Oa.default.createPdf(S).download("commitee_proceedings_list.pdf"),setTimeout(()=>{this.exportInProgress=!1},3e3)}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}downloadPdf(i,a,l){if(this.selectedId=l,!i){this.toastService.error("No Pdf Available");return}a=i?.split("/")[i?.split("/").length-2],i=i?.split("/")[i?.split("/").length-1],this.isdownloadProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/proceeding/download-approval-application-file?file_name=${i}&file_date=${a}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(c=>{this.isdownloadProgress=!1;let f=new Blob([c],{type:"application/octet-stream"}),S=window.URL.createObjectURL(f),g=document.createElement("a");g.href=S,g.download=i,g.click(),window.URL.revokeObjectURL(S),this.selectedId=""},c=>{c.status==404&&this.toastService.error("File not found. Please try again later."),this.isdownloadProgress=!0,this.selectedId=""})}handleSearchChange(i){this.searchValue=i.target.value,this.page=1,this.searchValue.trim()===""?this.newApplicationList=this.applications:this.newApplicationList=this.applications.filter(a=>String(a.proceding_number).toLowerCase().includes(this.searchValue?.trim().toLowerCase()))}onSubmit(){this.fetchApplicationList()}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}handleAddNewSubmit(){if(this.addNewProceedingForm.status==="INVALID"){this.formService.triggerFormValidation(this.addNewProceedingForm);return}let i=this.addNewProceedingForm.value,a=new FormData;a.append("proceding_date",i.proceedingDate),a.append("proceding_number",i.proceedingNo),a.append("description",i.remarks),i.document&&a.append("proceeding_pdf",this.selectedImage);let c="/proceeding/add-form";this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(f=>{this.isFormSubmitInProgress=!1,this.toastService.success(f.message),document.getElementById("addNewProceedingClose")?.click(),this.addNewProceedingForm.reset(),this.selectedImage=null,this.fetchApplicationList()},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}deleteProceeding(i,a){Ln.default.fire({title:"Are you sure?",text:`You are about to delete the proceeding with number ${a}. If you would like to proceed, please click "Submit". To cancel or review, click "Back".`,icon:"warning",allowOutsideClick:!1,confirmButtonColor:"#015A99",cancelButtonColor:"#001523",showCancelButton:!0,confirmButtonText:"Submit",cancelButtonText:"Back",reverseButtons:!0}).then(l=>{l.isConfirmed?this.httpClient.post(`${this.appService.departmentBaseUrl}/proceeding/update-form`,{id:i},{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.newApplicationList=this.newApplicationList.filter(f=>f.proceding_number!==i),Ln.default.fire("Deleted!","The proceeding has been deleted successfully.","success"),this.fetchApplicationList()},c=>{console.error("Error deleting proceeding:",c),Ln.default.fire("Error!","Failed to delete the proceeding.","error")}):Ln.default.fire("Cancelled","The deletion process has been cancelled.","info")})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-committee-proceeding-list"]],decls:34,vars:12,consts:[[1,"container-fluid"],["class","row mb-2"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],["type","date","required","",1,"form-control",2,"text-transform","uppercase","cursor","pointer",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],["class","col-md-4 col-12 mb-2 mb-md-0","style","color: #fd7b03; font-size: 1.3rem",4,"ngIf"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","300px","position","relative"],["type","text","placeholder","Enter Proceeding No.",1,"form-control",2,"padding-right","30px",3,"value","change"],[1,"fa","fa-search",2,"position","absolute","top","50%","right","10px","transform","translateY(-50%)","color","#ccc"],["style",`white-space: nowrap;  background-color: #1778ff;
            color: #f8f8f8;
            font-weight: 540;
            border-radius: 7px !important;`,"routerLink","/department/portal/approval-module/committee-proceeding/own-stats/committee-proceeding-list/add-form","class","btn btn-sm  px-2 py-2 me-2"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url(
            "data:image/svg + xml,
            %3Csvgxmlns='http://www.w3.org/2000/svg'width='8'height='8'%3E%3Cpathd='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z'fill='%236c757d'/%3E%3C/svg%3E"
          )`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],["class","w-100 d-flex justify-content-center align-items-center"],["class","text-center mt-3",4,"ngIf"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],["routerLink","/department/portal/approval-module/committee-proceeding/own-stats/committee-proceeding-list/add-form",1,"btn","btn-sm","px-2","py-2","me-2",2,"white-space","nowrap","background-color","#1778ff","color","#f8f8f8","font-weight","540","border-radius","7px !important"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],["class","table-responsive mt-4"],[1,"table-responsive","mt-4"],[1,"table"],[2,"font-size","14px","font-weight","620"],[2,"width","5%"],[1,"text-nowrap","text-center"],["class","text-nowrap"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],[1,"text-nowrap"],[1,"text-center"],["class","text-center cursor-pointer",4,"ngIf"],[1,"text-center","cursor-pointer"],["style","cursor: pointer;","class","fas fa-file-pdf text-danger",3,"click",4,"ngIf"],["class","d-flex align-items-center w-full justify-content-center",4,"ngIf"],[1,"fas","fa-file-pdf","text-danger",2,"cursor","pointer",3,"click"],[1,"d-flex","align-items-center","w-full","justify-content-center"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"],[1,"fas","fa-file-pdf","text-danger",2,"cursor","pointer"],[1,"fas","fa-file-pdf","text-danger",2,"cursor","pointer","color","gray !important"],[1,"d-flex","gap-2","align-items-center"],["type","button","routerLink","/department/portal/approval-module/committee-proceeding/own-stats/committee-proceeding-list/add-form","class","btn p-0 border-0 bg-transparent text-danger text-center ","style"," cursor: pointer;",3,"queryParams",4,"ngIf"],["class","btn p-0 border-0 bg-transparent text-danger text-center ","style"," cursor: pointer;",3,"click",4,"ngIf"],["type","button","routerLink","/department/portal/approval-module/committee-proceeding/own-stats/committee-proceeding-list/add-form",1,"btn","p-0","border-0","bg-transparent","text-danger","text-center",2,"cursor","pointer",3,"queryParams"],[1,"fa-regular","fa-pen-to-square",2,"font-size","20px"],[1,"btn","p-0","border-0","bg-transparent","text-danger","text-center",2,"cursor","pointer",3,"click"],[1,"fa","fa-trash",2,"font-size","20px"],[1,"mt-6","text-center"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"]],template:function(a,l){a&1&&(o(0,"div",0),h(1,z4,7,0,"div",1),o(2,"form",2)(3,"div",3)(4,"div",4),s(5," Filter "),n()(),o(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),s(10," Proceeding Date "),o(11,"span",9),s(12,"*"),n()(),o(13,"input",10),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(14,"div",11)(15,"div",12)(16,"div",13),h(17,U4,2,1,"div",14)(18,H4,2,0,"div",14),o(19,"div",15)(20,"div",16)(21,"input",17),x("change",function(f){return l.handleSearchChange(f)}),n(),u(22,"i",18),n(),h(23,Y4,2,0,"a",19),n()(),o(24,"nav",20)(25,"ol",21)(26,"li",22),s(27),n(),h(28,q4,2,1,"li",23)(29,K4,2,1,"li",23),n()(),o(30,"div"),h(31,J4,3,0,"div",24)(32,dI,3,1)(33,pI,4,2,"div",25),n()()()()),a&2&&(d(1),w(1,l.district_id||l.ulb_id||l.block_id?1:-1),d(12),m("value",l.selectedDate)("max",l.today),d(4),m("ngIf",l.district_id||l.ulb_id||l.block_id||(l.authService.userDetail==null?null:l.authService.userDetail.role.id)==15),d(1),m("ngIf",!l.district_id&&!l.ulb_id&&!l.block_id&&(l.authService.userDetail==null?null:l.authService.userDetail.role.id)!=15),d(3),m("value",l.searchValue),d(2),w(23,!l.district_id&&!l.ulb_id&&!l.block_id&&(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)!=15?23:-1),d(4),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.ulb_name),d(2),w(31,l.isStatsLoading?31:32),d(2),m("ngIf",(l.newApplicationList==null?null:l.newApplicationList.length)&&l.newApplicationList.length<l.totalApplicants))},dependencies:[A,P,W,se,le,Fe],styles:["button.text-danger[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#c82333;transform:scale(1.1);transition:all .2s ease-in-out}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}"]});let t=r;return t})();var hd=B(ve()),fd=B(Ut());function uI(t,r){if(t&1){let e=E();o(0,"div",11)(1,"input",12),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(2,"i",13),n()}if(t&2){let e=p();d(1),m("ngModel",e.searchTerm)}}var _d="/department/portal/approval-module/committee-proceeding/district-stats/committee-proceeding-list",hI=t=>[_d,t];function fI(t,r){if(t&1&&(o(0,"td",15)(1,"a",16),s(2," View "),n()()),t&2){let e=p().$implicit;d(1),m("routerLink",_e(1,hI,e.id))}}var _I=(t,r)=>[_d,t,r],gI=()=>({is_mc:1});function bI(t,r){if(t&1&&(o(0,"td",15)(1,"a",17),s(2," View "),n()()),t&2){let e=p().$implicit;d(1),m("routerLink",rt(2,_I,e==null?null:e.district_id,e.id))("queryParams",$t(5,gI))}}function vI(t,r){if(t&1&&(o(0,"tr")(1,"td",8),s(2),n(),o(3,"td"),s(4),n(),h(5,fI,3,3,"td",14)(6,bI,3,6,"td",14),n()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.name||e.ulb_name),d(1),m("ngIf",!e.ulb_name),d(1),m("ngIf",e.ulb_name)}}hd.default.vfs=fd.default.pdfMake.vfs;var gd=(()=>{let r=class r{constructor(i,a,l,c){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.districtList=[],this.mcIds=Oe.MC_IDS,this.searchTerm=""}ngOnInit(){if(this.authService.userDetail.demography_type=="1"){this.districtList=$.data.map(a=>({id:parseInt(a.id,10),name:a.district_name}));let i=he?.data?.filter(a=>this.mcIds?.includes(a.id));this.districtList=[...this.districtList,...i]}else this.authService.userDetail.demography_type=="2"&&(this.districtList=$.data?.filter(i=>i?.id==this.authService.userDetail.demography_id)?.map(i=>({id:parseInt(i.id,10),name:i.district_name})))}get filteredDistricts(){return this.districtList.filter(i=>i?.name?.toLowerCase()?.includes(this.searchTerm?.trim()?.toLowerCase())||i?.ulb_name?.toLowerCase()?.includes(this?.searchTerm?.trim()?.toLowerCase()))}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R))},r.\u0275cmp=D({type:r,selectors:[["app-committee-proceeding-district-stats"]],decls:20,vars:2,consts:[[1,"container","my-4"],[1,"card"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["class","search-box me-2","style","flex-grow: 1; max-width: 30%"],[1,"table"],[2,"width","5%"],[2,"width","80%"],[4,"ngFor","ngForOf"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter District/MC Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink","queryParams"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",3)(5,"div",4),s(6," DLSC / MLSC Proceedings "),n(),o(7,"div",5),h(8,uI,3,1,"div",6),n()(),o(9,"table",7)(10,"thead")(11,"tr")(12,"th",8),s(13,"SN"),n(),o(14,"th",9),s(15,"District/MC"),n(),o(16,"th"),s(17,"Action"),n()()(),o(18,"tbody"),h(19,vI,7,4,"tr",10),n()()()()()()),a&2&&(d(8),w(8,l.authService.userDetail.demography_type==1?8:-1),d(11),m("ngForOf",l.filteredDistricts))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();function xI(t,r){if(t&1){let e=E();o(0,"div",11)(1,"input",12),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(2,"i",13),n()}if(t&2){let e=p();d(1),m("ngModel",e.searchTerm)}}var SI="/department/portal/approval-module/committee-proceeding/blsc-ulsc/block",CI=t=>[SI,t],yI="/department/portal/approval-module/committee-proceeding/blsc-ulsc/ulb",wI=t=>[yI,t];function EI(t,r){if(t&1&&(o(0,"td",16)(1,"a",17),s(2," View Block "),n(),o(3,"a",18),s(4," View ULB "),n()()),t&2){let e=p().$implicit;d(1),m("routerLink",_e(2,CI,e.id)),d(2),m("routerLink",_e(4,wI,e.id))}}var II="/department/portal/approval-module/committee-proceeding/blsc-ulsc/ulb-stats",TI=(t,r)=>[II,t,r];function kI(t,r){if(t&1&&(o(0,"td",16)(1,"a",17),s(2," View Ward "),n()()),t&2){let e=p().$implicit;d(1),m("routerLink",rt(1,TI,e.district_id,e.ulb_id))}}function LI(t,r){if(t&1&&(o(0,"tr")(1,"td",8),s(2),n(),o(3,"td",14),s(4),n(),h(5,EI,5,6,"td",15)(6,kI,3,4,"td",15),n()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.name),d(1),m("ngIf",!(e!=null&&e.ulb_id)),d(1),m("ngIf",e==null?null:e.ulb_id)}}var bd=(()=>{let r=class r{constructor(i){this.authService=i,this.districtList=[],this.searchTerm=""}ngOnInit(){this.authService.userDetail.demography_type=="1"?this.districtList=$.data.map(i=>({id:parseInt(i.id,10),name:i.district_name,district_id:i.id})):this.authService.userDetail.demography_type=="2"?this.districtList=$.data?.filter(i=>i.id==this.authService.userDetail.demography_id).map(i=>({id:parseInt(i.id,10),name:i.district_name,district_id:i.id})):this.authService.userDetail.demography_type=="5"&&(this.districtList=[{ulb_id:this.authService.userDetail.demography_id,district_id:this.authService.userDetail.district_id,name:this.authService.userDetail.demography_name}])}get filteredDistricts(){return this.authService.userDetail.demography_type=="1"?this.districtList.filter(i=>i.name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.districtList}};r.\u0275fac=function(a){return new(a||r)(b(V))},r.\u0275cmp=D({type:r,selectors:[["app-committee-proceeding-block-stats"]],decls:20,vars:2,consts:[[1,"container","my-4"],[1,"card"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["class","search-box me-2","style","flex-grow: 1; max-width: 30%"],[1,"table"],[2,"width","5%"],[2,"width","60%"],[4,"ngFor","ngForOf"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter Block/ULB Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],[2,"width","70%"],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"],[1,"btn","btn-sm","btn-primary","ms-1",2,"white-space","nowrap",3,"routerLink"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",3)(5,"div",4),s(6," BLSC / ULSC Proceedings "),n(),o(7,"div",5),h(8,xI,3,1,"div",6),n()(),o(9,"table",7)(10,"thead")(11,"tr")(12,"th",8),s(13,"SN"),n(),o(14,"th",9),s(15,"District/MC"),n(),o(16,"th"),s(17,"Action"),n()()(),o(18,"tbody"),h(19,LI,7,4,"tr",10),n()()()()()()),a&2&&(d(8),w(8,l.authService.userDetail.demography_type==1||l.authService.userDetail.demography_type==2?8:-1),d(11),m("ngForOf",l.filteredDistricts))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();function FI(t,r){if(t&1&&(o(0,"tr",19)(1,"td",16),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td",20)(8,"a",21),s(9,"View"),n()()()),t&2){let e=r.$implicit,i=r.index,a=p();d(2),_(i+1),d(2),_(a.district_name),d(2),_(e.ulb_name),d(2),ce("routerLink","/department/portal/approval-module/committee-proceeding/blsc-ulsc/ulb-stats/",e.district_id,"/",e.id,"")}}var vd=(()=>{let r=class r{constructor(i,a){this.route=i,this.location=a,this.districtId="",this.district_name="",this.mcIds=Oe.MC_IDS,this.filteredUlbs=[],this.searchTerm=""}ngOnInit(){this.route.params.subscribe(i=>{this.districtId=i.district_id,this.district_name=$.data.find(a=>a.id==this.districtId)?.district_name||"",this.filterByUlbs()})}filterByUlbs(){let i=he.data.filter(a=>a?.district_id==this.districtId&&!this.mcIds.includes(a?.id));this.filteredUlbs=i.filter(a=>a.ulb_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())).sort((a,l)=>a.ulb_name.localeCompare(l.ulb_name))}goBack(){this.location.back()}};r.\u0275fac=function(a){return new(a||r)(b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-ulb-blsc-ulsc-proceedings"]],decls:31,vars:2,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter ULB Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],[1,"table"],[2,"width","5%"],[2,"width","60%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back "),n()()()(),o(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",9)(12,"div",10),s(13," BLSC / ULSC Proceedings "),n(),o(14,"div",11)(15,"div",12)(16,"input",13),x("ngModelChange",function(f){return l.searchTerm=f})("ngModelChange",function(){return l.filterByUlbs()}),n(),u(17,"i",14),n()()(),o(18,"table",15)(19,"thead")(20,"tr")(21,"th",16),s(22,"SN"),n(),o(23,"th"),s(24,"District/MC"),n(),o(25,"th",17),s(26,"ULB/MC"),n(),o(27,"th"),s(28,"Action"),n()()(),o(29,"tbody"),h(30,FI,10,5,"tr",18),n()()()()()()),a&2&&(d(16),m("ngModel",l.searchTerm),d(14),m("ngForOf",l.filteredUlbs))},dependencies:[A,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();function DI(t,r){if(t&1&&(o(0,"tr",19)(1,"td",16),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td",20)(8,"a",21),s(9,"View"),n()()()),t&2){let e=r.$implicit,i=r.index,a=p();d(2),_(i+1),d(2),_(a.district_name),d(2),_(e.block_name),d(2),ce("routerLink","/department/portal/approval-module/committee-proceeding/blsc-ulsc/block-stats/",e.district_id,"/",e.id,"")}}var xd=(()=>{let r=class r{constructor(i,a){this.route=i,this.location=a,this.districtId="",this.district_name="",this.filteredBlocks=[],this.searchTerm=""}ngOnInit(){this.route.params.subscribe(i=>{this.districtId=i.district_id,this.district_name=$.data.find(a=>a.id==this.districtId)?.district_name||"",this.filterByBlocks()})}filterByBlocks(){let i=be.data.filter(a=>a.district_id==this.districtId);this.filteredBlocks=i.filter(a=>a.block_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())).sort((a,l)=>a.block_name.localeCompare(l.block_name))}goBack(){this.location.back()}};r.\u0275fac=function(a){return new(a||r)(b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-block-blsc-ulsc-proceedings"]],decls:31,vars:2,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter Block Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],[1,"table"],[2,"width","5%"],[2,"width","60%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back "),n()()()(),o(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",9)(12,"div",10),s(13," BLSC / ULSC Proceedings "),n(),o(14,"div",11)(15,"div",12)(16,"input",13),x("ngModelChange",function(f){return l.searchTerm=f})("ngModelChange",function(){return l.filterByBlocks()}),n(),u(17,"i",14),n()()(),o(18,"table",15)(19,"thead")(20,"tr")(21,"th",16),s(22,"SN"),n(),o(23,"th"),s(24,"District/MC"),n(),o(25,"th",17),s(26,"Block/MC"),n(),o(27,"th"),s(28,"Action"),n()()(),o(29,"tbody"),h(30,DI,10,5,"tr",18),n()()()()()()),a&2&&(d(16),m("ngModel",l.searchTerm),d(14),m("ngForOf",l.filteredBlocks))},dependencies:[A,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var zt=B(me());function AI(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",13)(2,"label",43),s(3,"Date of publication of the Provisional List for "),u(4,"br"),s(5,"inviting objections"),o(6,"span"),s(7,"*"),n()(),o(8,"input",44),x("change",function(a){C(e);let l=p();return y(l.handleDateOfPublicationChange(a))})("keydown",function(a){C(e);let l=p();return y(l.onKeyDown(a))}),n(),u(9,"app-form-error",16),n(),o(10,"div",13)(11,"label",45),s(12,"Date of inviting objections on Provisional"),u(13,"br"),s(14," List(From)"),o(15,"span"),s(16,"*"),n()(),u(17,"input",46),n(),o(18,"div",13)(19,"label",47),s(20,"Date of inviting objections on Provisional "),u(21,"br"),s(22,"List(To)"),o(23,"span"),s(24,"*"),n()(),u(25,"input",48),n()()}if(t&2){let e=p();d(9),m("field",e.meetingForm.get("datePublication")),d(8),m("value",e.startDateSubmission),d(8),m("value",e.lastDateSubmission)}}function VI(t,r){if(t&1){let e=E();o(0,"input",54),x("change",function(){C(e);let a=p(2);return y(a.handleToDateChange())})("keydown",function(a){C(e);let l=p(2);return y(l.onKeyDown(a))}),n()}if(t&2){let e=p(2),i;m("min",(i=e.meetingForm.get("fromDate"))==null?null:i.value)}}function PI(t,r){t&1&&u(0,"input",55)}function MI(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",13)(2,"label",49),s(3,"Recommended Date (From)"),o(4,"span"),s(5,"*"),n()(),o(6,"input",50),x("change",function(){C(e);let a=p();return y(a.handleFromDateChange())})("keydown",function(a){C(e);let l=p();return y(l.onKeyDown(a))}),n(),u(7,"app-form-error",16),n(),o(8,"div",13)(9,"label",51),s(10,"Recommended Date (To)"),o(11,"span"),s(12,"*"),n()(),h(13,VI,1,1,"input",52)(14,PI,1,0,"input",53),u(15,"app-form-error",16),n()()}if(t&2){let e=p(),i,a;d(6),m("max",e.today),d(1),m("field",e.meetingForm.get("fromDate")),d(6),m("ngIf",(i=e.meetingForm.get("fromDate"))==null?null:i.value),d(1),m("ngIf",!((a=e.meetingForm.get("fromDate"))!=null&&a.value)),d(1),m("field",e.meetingForm.get("toDate"))}}function RI(t,r){t&1&&(o(0,"th",56),s(1,"Total Applications presented for the consideration of the Committee (1A+2A+3A)"),n())}function OI(t,r){t&1&&(o(0,"th",56),s(1,"Total Applications presented for the consideration of the Committee (1A+2A)"),n())}var tn=(t,r,e)=>[t,r,e];function jI(t,r){if(t&1&&(o(0,"div",34)(1,"table",35)(2,"thead",57)(3,"tr")(4,"th",56),s(5,"Table - 1"),n(),o(6,"th",9),s(7,"Nos. of Applications"),n()()(),o(8,"tbody")(9,"tr")(10,"td"),s(11,"1A"),n(),o(12,"td"),s(13),n(),o(14,"td"),u(15,"input",58),n()(),o(16,"tr")(17,"td"),s(18,"1B"),n(),o(19,"td"),s(20),n(),o(21,"td"),u(22,"input",58),n()(),o(23,"tr")(24,"td"),s(25,"1C"),n(),o(26,"td"),s(27),n(),o(28,"td"),u(29,"input",58),n()()()()(),o(30,"div",34)(31,"table",35)(32,"thead",57)(33,"tr")(34,"th",56),s(35,"Table - 2"),n(),o(36,"th",9),s(37,"Nos. of Applications"),n()()(),o(38,"tbody")(39,"tr")(40,"td"),s(41,"2A"),n(),o(42,"td"),s(43),n(),o(44,"td"),u(45,"input",58),n()(),o(46,"tr")(47,"td"),s(48,"2B"),n(),o(49,"td"),s(50),n(),o(51,"td"),u(52,"input",58),n()(),o(53,"tr")(54,"td"),s(55,"2C"),n(),o(56,"td"),s(57),n(),o(58,"td"),u(59,"input",58),n()()()()(),o(60,"div",34)(61,"table",35)(62,"thead",57)(63,"tr")(64,"th",56),s(65,"Table - 3"),n(),o(66,"th",9),s(67,"Nos. of Applications"),n()()(),o(68,"tbody")(69,"tr")(70,"td"),s(71,"3A"),n(),o(72,"td"),s(73),n(),o(74,"td"),u(75,"input",58),n()(),o(76,"tr")(77,"td"),s(78,"3B"),n(),o(79,"td"),s(80),n(),o(81,"td"),u(82,"input",58),n()(),o(83,"tr")(84,"td"),s(85,"3C"),n(),o(86,"td"),s(87),n(),o(88,"td"),u(89,"input",58),n()(),o(90,"tr")(91,"td"),s(92,"3D"),n(),o(93,"td"),s(94),n(),o(95,"td"),u(96,"input",58),n()()()()(),o(97,"div",34)(98,"table",35)(99,"thead",57)(100,"tr")(101,"th",56),s(102,"Table - 4 Summary (Break up of Applications)"),n(),o(103,"th",9),s(104,"Nos. of Applications"),n()()(),o(105,"tbody")(106,"tr")(107,"td"),s(108,"4A"),n(),o(109,"td"),s(110),n(),o(111,"td"),u(112,"input",58),n()(),o(113,"tr")(114,"td"),s(115,"4B"),n(),o(116,"td"),s(117),n(),o(118,"td"),u(119,"input",58),n()(),o(120,"tr")(121,"td"),s(122,"4C"),n(),o(123,"td"),s(124),n(),o(125,"td"),u(126,"input",58),n()(),o(127,"tr")(128,"td"),s(129,"4D"),n(),o(130,"td"),s(131),n(),o(132,"td"),u(133,"input",58),n()()()()()),t&2){let e=p();d(13),_(e.getLabel(5)),d(2),m("value",e.tableData==null?null:e.tableData.fet_eligible),d(5),_(e.getLabel(6)),d(2),m("value",e.tableData==null?null:e.tableData.fet_eligible_approval),d(5),T(" ",e.getLabel(7)," "),d(2),m("value",e.tableData==null?null:e.tableData.fet_eligible_rejection),d(14),_(e.getLabel(8)),d(2),m("value",e.tableData==null?null:e.tableData.fet_ineligible),d(5),_(e.getLabel(9)),d(2),m("value",e.tableData==null?null:e.tableData.fet_ineligible_rejection),d(5),T(" ",e.getLabel(10)," "),d(2),m("value",e.tableData==null?null:e.tableData.fet_ineligible_approval),d(14),_(e.getLabel(1)),d(2),m("value",e.tableData==null?null:e.tableData.total_objected),d(5),_(e.getLabel(2)),d(2),m("value",e.tableData==null?null:e.tableData.objected_eligible),d(5),_(e.getLabel(3)),d(2),m("value",e.tableData==null?null:e.tableData.objected_ineligible),d(5),_(e.getLabel(4)),d(2),m("value",e.tableData==null?null:e.tableData.objected_pending),d(14),_(e.getLabel(11)),d(2),m("value",e.getSum(vt(28,tn,e.tableData==null?null:e.tableData.fet_eligible_approval,e.tableData==null?null:e.tableData.fet_ineligible_approval,e.tableData==null?null:e.tableData.objected_eligible))),d(5),_(e.getLabel(12)),d(2),m("value",e.getSum(vt(32,tn,e.tableData==null?null:e.tableData.fet_eligible_rejection,e.tableData==null?null:e.tableData.fet_ineligible_rejection,e.tableData==null?null:e.tableData.objected_ineligible))),d(5),_(e.getLabel(13)),d(2),m("value",e.tableData==null?null:e.tableData.objected_pending),d(5),_(e.getLabel(14)),d(2),m("value",e.getSum(vt(44,tn,e.getSum(vt(36,tn,e.tableData==null?null:e.tableData.fet_eligible_approval,e.tableData==null?null:e.tableData.fet_ineligible_approval,e.tableData==null?null:e.tableData.objected_eligible)),e.getSum(vt(40,tn,e.tableData==null?null:e.tableData.fet_eligible_rejection,e.tableData==null?null:e.tableData.fet_ineligible_rejection,e.tableData==null?null:e.tableData.objected_ineligible)),e.tableData==null?null:e.tableData.objected_pending)))}}var ja=(t,r,e,i)=>[t,r,e,i],en=(t,r)=>[t,r],Sd=t=>[t];function BI(t,r){if(t&1&&(o(0,"div",34)(1,"table",35)(2,"thead",57)(3,"tr")(4,"th",56),s(5,"Table - 1"),n(),o(6,"th",9),s(7,"Nos. of Applications"),n()()(),o(8,"tbody")(9,"tr")(10,"td"),s(11,"1A"),n(),o(12,"td"),s(13),n(),o(14,"td"),u(15,"input",58),n()(),o(16,"tr")(17,"td"),s(18,"1B"),n(),o(19,"td"),s(20),n(),o(21,"td"),u(22,"input",58),n()(),o(23,"tr")(24,"td"),s(25,"1C"),n(),o(26,"td"),s(27),n(),o(28,"td"),u(29,"input",58),n()()()()(),o(30,"div",34)(31,"table",35)(32,"thead",57)(33,"tr")(34,"th",56),s(35,"Table - 2"),n(),o(36,"th",9),s(37,"Nos. of Applications"),n()()(),o(38,"tbody")(39,"tr")(40,"td"),s(41,"2A"),n(),o(42,"td"),s(43),n(),o(44,"td"),u(45,"input",58),n()(),o(46,"tr")(47,"td"),s(48,"2B"),n(),o(49,"td"),s(50),n(),o(51,"td"),u(52,"input",58),n()(),o(53,"tr")(54,"td"),s(55,"2C"),n(),o(56,"td"),s(57),n(),o(58,"td"),u(59,"input",58),n()()()()(),o(60,"div",34)(61,"table",35)(62,"thead",57)(63,"tr")(64,"th",56),s(65,"Table - 3"),n(),o(66,"th",9),s(67,"Nos. of Applications"),n()()(),o(68,"tbody")(69,"tr")(70,"td"),s(71,"3A"),n(),o(72,"td"),s(73),n(),o(74,"td"),u(75,"input",58),n()(),o(76,"tr")(77,"td"),s(78,"3B"),n(),o(79,"td"),s(80),n(),o(81,"td"),u(82,"input",58),n()(),o(83,"tr")(84,"td"),s(85,"3B.(i)"),n(),o(86,"td"),s(87),n(),o(88,"td"),u(89,"input",58),n()(),o(90,"tr")(91,"td"),s(92,"3B.(ii)"),n(),o(93,"td"),s(94),n(),o(95,"td"),u(96,"input",58),n()(),o(97,"tr")(98,"td"),s(99,"3C"),n(),o(100,"td"),s(101),n(),o(102,"td"),u(103,"input",58),n()()()()(),o(104,"div",34)(105,"table",35)(106,"thead",57)(107,"tr")(108,"th",56),s(109,"Table - 4 Summary (Break up of Applications)"),n(),o(110,"th",9),s(111,"Nos. of Applications"),n()()(),o(112,"tbody")(113,"tr")(114,"td"),s(115,"4A"),n(),o(116,"td"),s(117),n(),o(118,"td"),u(119,"input",58),n()(),o(120,"tr")(121,"td"),s(122,"4B"),n(),o(123,"td"),s(124),n(),o(125,"td"),u(126,"input",58),n()(),o(127,"tr")(128,"td"),s(129,"4C"),n(),o(130,"td"),s(131),n(),o(132,"td"),u(133,"input",58),n()(),o(134,"tr")(135,"td"),s(136,"4D"),n(),o(137,"td"),s(138),n(),o(139,"td"),u(140,"input",58),n()()()()()),t&2){let e=p();d(13),_(e.getLabel(1)),d(2),m("value",e.tableData==null?null:e.tableData.block_or_ulb_recommended_approval),d(5),_(e.getLabel(2)),d(2),m("value",e.tableData==null?null:e.tableData.block_or_ulb_recommended_approval_approved_by_district),d(5),T(" ",e.getLabel(3)," "),d(2),m("value",e.tableData==null?null:e.tableData.block_or_ulb_recommended_approval_hold_by_district),d(14),_(e.getLabel(4)),d(2),m("value",e.tableData==null?null:e.tableData.block_or_ulb_recommended_rejection),d(5),_(e.getLabel(5)),d(2),m("value",e.tableData==null?null:e.tableData.block_or_ulb_recommended_rejection_rejected_by_district),d(5),T(" ",e.getLabel(6)," "),d(2),m("value",e.tableData==null?null:e.tableData.block_or_ulb_recommended_rejection_hold_by_district),d(14),_(e.getLabel(7)),d(2),m("value",e.tableData==null?null:e.tableData.total_hold),d(5),_(e.getLabel(8)),d(2),m("value",e.getSum(oi(30,ja,e.tableData.hold_recommended_approval,e.tableData.hold_finally_approval,e.tableData.hold_recommended_rejection,e.tableData.hold_finally_rejection))),d(5),_(e.getLabel(9)),d(2),m("value",e.tableData==null?null:e.tableData.hold_finally_approval),d(5),_(e.getLabel(10)),d(2),m("value",e.tableData==null?null:e.tableData.hold_finally_rejection),d(5),_(e.getLabel(11)),d(2),m("value",e.tableData==null?null:e.tableData.hold_pending),d(14),_(e.getLabel(12)),d(2),m("value",e.getSum(rt(35,en,e.tableData==null?null:e.tableData.block_or_ulb_recommended_approval_approved_by_district,e.tableData==null?null:e.tableData.hold_finally_approval))),d(5),_(e.getLabel(13)),d(2),m("value",e.getSum(rt(38,en,e.tableData==null?null:e.tableData.hold_finally_rejection,e.tableData==null?null:e.tableData.block_or_ulb_recommended_rejection_rejected_by_district))),d(5),_(e.getLabel(14)),d(2),m("value",e.getSum(_e(41,Sd,e.tableData==null?null:e.tableData.hold_pending))+(e.getSum(oi(43,ja,e.tableData.hold_recommended_approval,e.tableData.hold_finally_approval,e.tableData.hold_recommended_rejection,e.tableData.hold_finally_rejection))-e.getSum(rt(48,en,e.tableData==null?null:e.tableData.hold_finally_rejection,e.tableData.hold_finally_approval)))),d(5),_(e.getLabel(15)),d(2),m("value",e.getSum(vt(67,tn,e.getSum(_e(51,Sd,e.tableData==null?null:e.tableData.hold_pending))+(e.getSum(oi(53,ja,e.tableData.hold_recommended_approval,e.tableData.hold_finally_approval,e.tableData.hold_recommended_rejection,e.tableData.hold_finally_rejection))-e.getSum(rt(58,en,e.tableData==null?null:e.tableData.hold_finally_rejection,e.tableData.hold_finally_approval))),e.getSum(rt(61,en,e.tableData==null?null:e.tableData.hold_finally_rejection,e.tableData==null?null:e.tableData.block_or_ulb_recommended_rejection_rejected_by_district)),e.getSum(rt(64,en,e.tableData==null?null:e.tableData.block_or_ulb_recommended_approval_approved_by_district,e.tableData==null?null:e.tableData.hold_finally_approval)))))}}function $I(t,r){if(t&1&&s(0),t&2){let e=p(2);T(" As per the SUBHADRA Guidelines, the ",e.getProceedingType()," has conducted verification of the randomly generated applicants. All actions taken, including updates to eligibility status, have been reflected in the Subhadra Portal and have been approved or rejected, as applicable. ")}}function NI(t,r){if(t&1&&s(0),t&2){let e=p(2);$e(" As per the SUBHADRA Guidelines, the ",e.getProceedingType()," has conducted verification of the randomly generated applicants. All actions taken, including updates to eligibility status, have been reflected in the Subhadra Portal and recommended to the ",e.getProceedingType()=="MLSC"?"MLSC":"DLSC"," for approval and rejection. ")}}function GI(t,r){if(t&1){let e=E();o(0,"div",59)(1,"div",60)(2,"div",61)(3,"label")(4,"input",62),x("change",function(a){C(e);let l=p();return y(l.handleCheckBoxChange(a))}),n(),h(5,$I,1,1)(6,NI,1,2),n()()()()}if(t&2){let e=p();d(4),m("value",e.isConsentGiven)("disabled",e.isSaveDownload),d(1),w(5,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==4?5:6)}}function WI(t,r){if(t&1){let e=E();o(0,"button",68),x("click",function(){C(e);let a=p().index,l=p();return y(l.removeRow(a))}),s(1," - "),n()}}function zI(t,r){if(t&1&&(o(0,"tr",63)(1,"td"),s(2),n(),o(3,"td"),u(4,"input",64),o(5,"span",65),s(6),n()(),o(7,"td"),u(8,"input",66),o(9,"span",65),s(10),n()(),o(11,"td"),h(12,WI,2,0,"button",67),n()()),t&2){let e=r.index,i=p();m("formGroupName",e),d(2),_(e+1),d(2),m("id","name-"+e),d(2),_(i.getErrorMessage(e,"name")),d(2),m("id","designation-"+e),d(2),_(i.getErrorMessage(e,"designation")),d(2),m("ngIf",!i.is_draft_saved&&!i.proceeding_id&&e>0)}}function UI(t,r){if(t&1){let e=E();o(0,"button",69),x("click",function(){C(e);let a=p();return y(a.addRow())}),s(1," + "),n()}}function HI(t,r){t&1&&(o(0,"button",72),s(1," Save "),n())}function YI(t,r){t&1&&(o(0,"button",73),s(1," Saving... "),u(2,"i",74),n())}function qI(t,r){if(t&1&&(o(0,"div",70),h(1,HI,2,0,"button",71)(2,YI,3,0),n()),t&2){let e=p();d(1),w(1,!e.isFormSubmitInProgress&&!e.isdownloadProgress?1:2)}}var KI="/department/portal/approval-module/committee-proceeding/export-commitee-proceedings-details",JI=t=>[KI,t];function XI(t,r){if(t&1&&(o(0,"div",70)(1,"a",75),s(2," Print "),n()()),t&2){let e=p();d(1),m("routerLink",_e(1,JI,e.proceeding_id))}}function QI(t,r){if(t&1){let e=E();o(0,"button",77),x("click",function(){C(e);let a=p(2);return y(a.handleSubmit())}),s(1," Submit "),n()}}function ZI(t,r){t&1&&(o(0,"button",73),s(1," Submiting... "),u(2,"i",74),n())}function e5(t,r){if(t&1){let e=E();o(0,"div")(1,"div",34)(2,"table",35)(3,"thead",57)(4,"tr")(5,"th"),s(6,"Enclosures"),n(),o(7,"th"),s(8,"Attach"),n()()(),o(9,"tbody")(10,"tr")(11,"td"),s(12," 1. Signed attendance of the Committee Members (Annexure) "),n(),o(13,"td")(14,"input",76),x("change",function(a){C(e);let l=p();return y(l.onFileSelected(a))}),n()()()()()(),o(15,"div",70),h(16,QI,2,0,"button",71)(17,ZI,3,0),n()()}if(t&2){let e=p();d(16),w(16,e.isFormSubmitInProgress?17:16)}}var Cd=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.fb=i,this.location=a,this.httpClient=l,this.toastService=c,this.authService=f,this.appService=S,this.formService=g,this.router=v,this.route=I,this.isLoading=!1,this.isFormSubmitInProgress=!1,this.dataLoading=!1,this.isdownloadProgress=!1,this.isConsentGiven=!1,this.is_feature_need=Oe.consent_random_list_change,this.isSaveDownload=!1,this.selectedImage=null,this.today="",this.proceeding_id="",this.startDateSubmission="",this.lastDateSubmission="",this.tableData={},this.holdForReconsiderationApproval=0,this.holdForReconsiderationRejection=0,this.totalApplications=0,this.district_id="",this.block_id="",this.ulb_id="",this.prefixProceedingNo="",this.is_draft_saved=!1,this.meetingForm=this.fb.group({dateMeeting:["",k.required],timeMeeting:["",k.required],proceedingNo:["",[k.required]],venueMeeting:["",[k.required,k.maxLength(100)]],chairedBy:["",[k.required,k.maxLength(50)]],designation:["",[k.required,k.maxLength(50)]],datePublication:["",k.required],attachment:[""],rows:this.fb.array([])})}greaterThanValidator(i){return a=>{let l=a.parent?.get(i);return l&&a.value!==null&&a.value<=l.value?{greaterThan:!0}:null}}formatNumber(i){let a=i.toString();return a.length<6&&(a=a.padStart(6,"0")),a}ngOnInit(){window.addEventListener("beforeunload",this.handleBeforeUnload.bind(this)),this.is_draft_saved&&this.router.navigate(["/department/portal/approval-module/committee-proceeding/own-stats/committee-proceeding-list"]),this.today=(0,zt.default)().format("YYYY-MM-DD"),this.meetingForm.get("datePublication")?.valueChanges.subscribe(a=>{a?(this.startDateSubmission=a,this.lastDateSubmission=(0,zt.default)(a).add(6,"days").format("YYYY-MM-DD"),this.fetchTableData(this.startDateSubmission,this.lastDateSubmission)):(this.startDateSubmission="",this.lastDateSubmission="",this.tableData={})}),this.route.queryParams.subscribe(a=>{a.id&&(this.proceeding_id=a.id,this.fetchProceedingsDetails(a.id))});let i="";if(this.authService.userDetail.demography_type==2){let a=$.data.find(l=>l.id==this.authService.userDetail.demography_id);i=this.formatNumber(a?.district_lgd_code)}if(this.authService.userDetail.demography_type==5){let a=he.data.find(l=>l.id==this.authService.userDetail.demography_id);i=this.formatNumber(a?.ulb_lgd_code)}if(this.authService.userDetail.demography_type==3){let a=be.data.find(l=>l.id==this.authService.userDetail.demography_id);i=this.formatNumber(a?.block_lgd_code)}this.prefixProceedingNo=`${this.getProceedingType()}-${i}-`,this.authService.userDetail.role?.id!=4?this.meetingForm=this.fb.group({dateMeeting:["",k.required],timeMeeting:["",k.required],proceedingNo:[`${this.prefixProceedingNo}`,[k.required,k.minLength(17)]],venueMeeting:["",[k.required,k.maxLength(100)]],chairedBy:["",[k.required,k.maxLength(50)]],designation:["",[k.required,k.maxLength(50)]],datePublication:["",k.required],attachment:[""],rows:this.fb.array([])}):this.meetingForm=this.fb.group({dateMeeting:["",k.required],timeMeeting:["",k.required],proceedingNo:[`${this.prefixProceedingNo}`,[k.required,k.minLength(17)]],venueMeeting:["",[k.required,k.maxLength(100)]],chairedBy:["",[k.required,k.maxLength(50)]],designation:["",[k.required,k.maxLength(50)]],fromDate:["",k.required],toDate:["",k.required],attachment:[""],rows:this.fb.array([])}),this.addIntialRow()}handleCheckBoxChange(i){this.isConsentGiven=i.target.checked}handleFromDateChange(){this.meetingForm.patchValue({toDate:""}),this.meetingForm.updateValueAndValidity()}fetchProceedingsDetails(i){let a=`/proceeding/proceeding-details?id=${i}`;this.dataLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.dataLoading=!1;let c=l.data,f=[];c.blsc_member_names_designations_signatures&&(f=JSON.parse(c.blsc_member_names_designations_signatures)?.map(S=>({name:S.username,designation:S.designation}))),f?.forEach((S,g)=>{g!=f.length-1&&this.addIntialRow()}),this.meetingForm.patchValue({dateMeeting:c?.proceding_date,timeMeeting:c?.time_of_meeting,proceedingNo:c?.proceding_number,venueMeeting:c?.venue,chairedBy:c?.meeting_chaired_by,designation:c?.designation_chaired_by,datePublication:(0,zt.default)(c?.provisional_list_publication_date).format("YYYY-MM-DD"),rows:f}),this.authService.userDetail.role?.id==4&&this.meetingForm.patchValue({fromDate:(0,zt.default)(c?.dlmc_from_date).format("YYYY-MM-DD"),toDate:(0,zt.default)(c?.dlmc_till_date).format("YYYY-MM-DD")}),this.startDateSubmission=(0,zt.default)(c?.provisional_list_publication_date).format("YYYY-MM-DD"),this.lastDateSubmission=(0,zt.default)(c?.last_date_for_submission_of_objections).format("YYYY-MM-DD"),this.authService.userDetail.role?.id!==4?this.tableData={top:c.total_applications_presented_for_blulsc,total_objected:c.total_objection,objected_eligible:c.objection_disposed_eligible_by_blsc,objected_ineligible:c.objection_disposed_ineligible_by_blsc,objected_pending:c.objection_pending,fet_eligible:c.recommended_as_eligible_by_fet,fet_eligible_approval:c.recommended_for_approval_by_blsc,fet_eligible_rejection:c.recommended_for_rejection_by_blsc_with_reasons,fet_ineligible:c.recommended_as_ineligible_by_fet,fet_ineligible_rejection:c.recommended_for_rejection_by_blsc,fet_ineligible_approval:c.recommended_for_approval_by_blsc_with_reasons}:this.tableData={top:c.total_applications_presented_for_dlsc?c.total_applications_presented_for_dlsc:0,total_hold:c.total_for_reconsidered?c.total_for_reconsidered:0,hold_finally_approval:c.reconsider_final_approval?c.reconsider_final_approval:0,hold_finally_rejection:c.reconsider_final_rejected?c.reconsider_final_rejected:0,hold_recommended_approval:c.recommmended_reconsidered_approval_dlsc?c.recommmended_reconsidered_approval_dlsc:0,hold_recommended_rejection:c.recommmended_reconsidered_rejection_dlsc?c.recommmended_reconsidered_rejection_dlsc:0,hold_pending:c.reconsidered_pending_dlsc?c.reconsidered_pending_dlsc:0,block_or_ulb_recommended_approval:c.recommended_approval_by_blulsc?c.recommended_approval_by_blulsc:0,block_or_ulb_recommended_approval_approved_by_district:c.approved_by_dlsc?c.approved_by_dlsc:0,block_or_ulb_recommended_approval_hold_by_district:c.hold_approval_dlsc?c.hold_approval_dlsc:0,block_or_ulb_recommended_rejection:c.recommended_rejection_by_blulsc?c.recommended_rejection_by_blulsc:0,block_or_ulb_recommended_rejection_rejected_by_district:c.rejected_by_dlsc?c.rejected_by_dlsc:0,block_or_ulb_recommended_rejection_hold_by_district:c.hold_rejection_dlsc?c.hold_rejection_dlsc:0},this.isSaveDownload=!0,this.meetingForm.disable()},l=>{this.dataLoading=!1,this.toastService.error(l.error.message)})}handleBeforeUnload(i){this.is_draft_saved&&this.router.navigate(["/department/portal/approval-module/committee-proceeding/own-stats/committee-proceeding-list"]),i.preventDefault(),i.returnValue=""}onInputChange(i){let a=i.target.value;if(!a.startsWith(this.prefixProceedingNo))i.target.value=this.prefixProceedingNo;else{let l=a.slice(this.prefixProceedingNo.length);/^\d*$/.test(l)?l.length>5?i.target.value=this.prefixProceedingNo+l.slice(0,5):(this.meetingForm.patchValue({proceedingNo:i.target.value?.trim()}),this.meetingForm.updateValueAndValidity()):i.target.value=this.prefixProceedingNo+l.replace(/\D/g,"")}}onKeyDown(i){i?.preventDefault()}fetchTableData(i,a){let l="/proceeding/count-auto-fetch";this.authService.userDetail.role?.id==4&&(this.authService.userDetail.demography_type==2?l+=`?district_id=${this.authService.userDetail.demography_id}&from_date=${i}&to_date=${a}`:l+=`?mc_id=${this.authService.userDetail.demography_id}&from_date=${i}&to_date=${a}`),this.authService.userDetail.role?.id==5&&(l+=`?block_id=${this.authService.userDetail.demography_id}&date=${i}`),this.authService.userDetail.role?.id==7&&(l+=`?ulb_id=${this.authService.userDetail.demography_id}&date=${i}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${l}`,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{let f=c.totalCounts;if(this.authService.userDetail.role?.id==4){let S=J(H({},f),{total_objected:f.total_hold,objected_eligible:f.hold_approval,objected_ineligible:f.hold_rejection,objected_pending:f.hold_pending,fet_eligible:f.block_or_ulb_recommended_approval,fet_eligible_approval:f.block_or_ulb_recommended_approval_approved_by_district,fet_eligible_rejection:f.block_or_ulb_recommended_approval_rejected_by_district,fet_ineligible:f.block_or_ulb_recommended_rejection,fet_ineligible_approval:f.block_or_ulb_recommended_rejection_approved_by_district,fet_ineligible_rejection:f.block_or_ulb_recommended_rejection_rejected_by_district});this.tableData=S}else this.tableData=J(H({},f),{top:f?.top_blul})},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}handleToDateChange(){let i=this.meetingForm.value;this.fetchTableData(i.fromDate,i.toDate)}get rows(){return this.meetingForm.get("rows")}addRow(){if(this.meetingForm.get("rows")?.value?.length>=15){this.toastService.error("Maxmimum 15 members you can add");return}let a=this.fb.group({name:["",k.required],designation:["",k.required]});this.rows.push(a)}addIntialRow(){let i=this.fb.group({name:["",k.required],designation:["",k.required]});this.rows.push(i)}getProceedingType(){if(this.authService.userDetail.demography_type=="1")return"SLSC";if(this.authService.userDetail.demography_type=="2")return"DLSC";if(this.authService.userDetail.demography_type=="3")return"BLSC";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==7)return"ULSC";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==4)return"MLSC"}getHeading(){if(this.authService.userDetail.demography_type=="1")return"Proceedings of the Meeting for the State Level Scrutiny Committee (SLSC) ";if(this.authService.userDetail.demography_type=="2")return"Proceedings of the Meeting for the District Level Scrutiny Committee (DLSC) ";if(this.authService.userDetail.demography_type=="3")return"Proceedings of the Meeting for the Block Level Scrutiny Committee (BLSC) ";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==7)return"Proceedings of the Meeting for the ULB Level Scrutiny Committee (ULSC) ";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==4)return"Proceedings of the Meeting for the MC Level Scrutiny Committee (MLSC) "}getSubHeading(){if(this.authService.userDetail.demography_type=="1")return"";if(this.authService.userDetail.demography_type=="2")return`Name of the District : ${this.authService.userDetail.demography_name} `;if(this.authService.userDetail.demography_type=="3")return`Name of the Block : ${this.authService.userDetail.demography_name} `;if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==7)return`Name of the ULB : ${this.authService.userDetail.demography_name} `;if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==4)return`Name of the MC : ${this.authService.userDetail.demography_name} `}getErrorMessage(i,a){return this.meetingForm.controls.rows?.status=="INVALID"&&this.meetingForm.controls.rows?.touched&&!this.meetingForm.controls.rows?.value[i][a]?.trim()?"This field is required":""}removeRow(i){this.rows.removeAt(i)}goBack(){this.location.back()}capitalizeWords(i){return i.split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ")}handleAddNewSubmit(){if(this.meetingForm.status==="INVALID"){this.formService.triggerFormValidation(this.meetingForm);return}if(Oe.consent_random_list_change&&!this.isConsentGiven){this.toastService.error("Please accept the declration.");return}if(this.authService.userDetail?.role?.id==3||this.authService.userDetail?.role?.id==5){if(this.getSum([this.tableData?.fet_eligible_approval,this.tableData?.fet_eligible_rejection])!=this.tableData?.fet_eligible||this.getSum([this.tableData?.fet_ineligible_rejection,this.tableData?.fet_ineligible_approval])!=this.tableData?.fet_ineligible){this.toastService.error("Please process all applications.");return}if(Number(this.tableData?.top)<=0){this.toastService.error("No applications in this date range available to publish.");return}}if(this.authService.userDetail?.role?.id==4){if(this.getSum([this.tableData?.block_or_ulb_recommended_approval_approved_by_district,this.tableData?.block_or_ulb_recommended_approval_hold_by_district])!=this.tableData?.block_or_ulb_recommended_approval||this.getSum([this.tableData?.block_or_ulb_recommended_rejection_rejected_by_district,this.tableData?.block_or_ulb_recommended_rejection_hold_by_district])!=this.tableData?.block_or_ulb_recommended_rejection){this.toastService.error("Please process all applications.");return}if(Number(this.tableData?.top)<=0){this.toastService.error("No applications in this date range available to publish.");return}}let i=this.meetingForm.value,a=this.rows.value,l={};this.authService.userDetail.role?.id!=4?l={proceding_date:i.dateMeeting,time_of_meeting:i.timeMeeting,proceding_number:i.proceedingNo,description:"ITS DIST BEAST Twnty eight",provisional_list_publication_date:i.datePublication,last_date_for_submission_of_objections:this.lastDateSubmission,venue:i.venueMeeting,meeting_chaired_by:this.capitalizeWords(i.chairedBy),designation_chaired_by:i.designation,total_applications_presented_for_blulsc:Number(this.tableData.top),total_objection:Number(this.tableData.total_objected),objection_pending:Number(this.tableData.objected_pending),disposed_application_dlmlsc:this.getSum([this.tableData.hold_recommended_approval,this.tableData.hold_finally_approval,this.tableData.hold_recommended_rejection,this.tableData.hold_finally_rejection]),objection_disposed_ineligible_by_blsc:Number(this.tableData.objected_ineligible),objection_disposed_eligible_by_blsc:Number(this.tableData.objected_eligible),recommended_as_eligible_by_fet:Number(this.tableData.fet_eligible),recommended_for_approval_by_blsc:Number(this.tableData.fet_eligible_approval),recommended_for_rejection_by_blsc_with_reasons:Number(this.tableData.fet_eligible_rejection),recommended_as_ineligible_by_fet:Number(this.tableData.fet_ineligible),recommended_for_rejection_by_blsc:Number(this.tableData.fet_ineligible_rejection),recommended_for_approval_by_blsc_with_reasons:Number(this.tableData.fet_ineligible_approval),blsc_member_names_designations_signatures:i.rows.map(f=>({username:f.name,designation:f.designation}))}:l={proceding_date:i.dateMeeting,time_of_meeting:i.timeMeeting,proceding_number:i.proceedingNo,description:"ITS DIST BEAST Twnty eight",provisional_list_publication_date:"2024-12-12",last_date_for_submission_of_objections:"2024-12-19",venue:i.venueMeeting,meeting_chaired_by:this.capitalizeWords(i.chairedBy),designation_chaired_by:i.designation,total_applications_presented_for_dlsc:Number(this.tableData.top),total_for_reconsidered:Number(this.tableData.total_hold),reconsider_final_approval:Number(this.tableData.hold_finally_approval),reconsider_final_rejected:Number(this.tableData.hold_finally_rejection),recommmended_reconsidered_approval_dlsc:Number(this.tableData.hold_recommended_approval),recommmended_reconsidered_rejection_dlsc:Number(this.tableData.hold_recommended_rejection),reconsidered_pending_dlsc:Number(this.tableData.hold_pending),recommended_approval_by_blulsc:Number(this.tableData.block_or_ulb_recommended_approval),approved_by_dlsc:Number(this.tableData.block_or_ulb_recommended_approval_approved_by_district),hold_approval_dlsc:Number(this.tableData.block_or_ulb_recommended_approval_hold_by_district),recommended_rejection_by_blulsc:Number(this.tableData.block_or_ulb_recommended_rejection),rejected_by_dlsc:Number(this.tableData.block_or_ulb_recommended_rejection_rejected_by_district),hold_rejection_dlsc:Number(this.tableData.block_or_ulb_recommended_rejection_hold_by_district),dlmc_from_date:i.fromDate,dlmc_till_date:i.toDate,blsc_member_names_designations_signatures:i.rows.map(f=>({username:f.name,designation:f.designation}))};let c="/proceeding/add-form";this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(f=>{if(f?.proceding_id){this.isFormSubmitInProgress=!1,this.toastService.success(f.message),this.meetingForm.disable(),this.is_draft_saved=!0,this.selectedImage=null,this.isSaveDownload=!0,this.proceeding_id=f.proceding_id;let S=`department/portal/approval-module/committee-proceeding/export-commitee-proceedings-details/${f.proceding_id}`;window.open(S,"_blank")}},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}handleDateOfPublicationChange(i){this.startDateSubmission=i.target.value,this.lastDateSubmission=(0,zt.default)(i.target.value).add(6,"days").format("YYYY-MM-DD"),this.fetchTableData(this.startDateSubmission,this.lastDateSubmission)}downLoadFile(i){this.isdownloadProgress=!0,i=i?.split("/").pop(),this.httpClient.get(`${this.appService.departmentBaseUrl}/proceeding/download-approval-application-file?file_name=${i}&file_date=${(0,zt.default)().format("YYYY-MM-DD")}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.isdownloadProgress=!1;let l=new Blob([a],{type:"application/octet-stream"}),c=window.URL.createObjectURL(l),f=document.createElement("a");f.href=c,f.download=i,f.click(),this.isSaveDownload=!0,window.URL.revokeObjectURL(c)},a=>{this.isdownloadProgress=!0})}onFileSelected(i){let a=i.target.files[0];a?this.selectedImage=a:this.selectedImage=null}handleSubmit(){if(!this.selectedImage){this.toastService.error("Please select an image file");return}this.isFormSubmitInProgress=!0;let i="/proceeding/upload-procedding-file",a=new FormData;a.append("proceeding_pdf",this.selectedImage),a.append("id",this.proceeding_id),this.httpClient.post(`${this.appService.departmentBaseUrl}${i}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{l?.fileUrl&&(this.isFormSubmitInProgress=!1,this.toastService.success(l.message),this.meetingForm.reset(),this.selectedImage=null,this.router.navigate(["/department/portal/approval-module/committee-proceeding/own-stats/committee-proceeding-list"]))},l=>{this.isFormSubmitInProgress=!1,this.toastService.error(l.error.message)})}getSum(i){return i.reduce((l,c)=>Number(l)+Number(c),0)}getLabel(i){let a=["Applications with Objection",`Applications with Objection disposed as Eligible for Subhadra by  ${this.getProceedingType()}`,`Applications with Objection disposed as Ineligible for Subhadra  ${this.getProceedingType()}`,"Applications with Objection pending for Disposal","Recommended as Eligible by FET (1B+1C)",`Recommended for Approval by  ${this.getProceedingType()}`,`Recommended for Rejection by  ${this.getProceedingType()}  (out of Eligible recommended by FET)`,"Recommended as Ineligible by FET (2B+2C)",`Recommended for Rejection by  ${this.getProceedingType()}`,`Recommended for Approval by  ${this.getProceedingType()}  (out of Ineligible recommended by FET)`,"Total no of applications Recommended for Approval (1B + 2C + 3B)","Total no of applications Recommended for Rejection (1C + 2B + 3C )","Total no of applications Pending (3D)","Gross Total (4A+4B+4C)"],l=[`Recommended for Approval by ${this.getProceedingType()=="MLSC"?"MLSC":"BLSC / ULSC "} (1B+1C)`,`Finally Approved by ${this.getProceedingType()}`,`Held for Reconsideration by ${this.getProceedingType()}`,`Recommended for Rejection by ${this.getProceedingType()=="MLSC"?"MLSC":"BLSC / ULSC "} (2B+2C)`,`Finally Rejected by ${this.getProceedingType()}`,`Held for Reconsideration by ${this.getProceedingType()}`,`Applications under Reconsideration by ${this.getProceedingType()} (1C+2C)`,`Disposed applications by ${this.getProceedingType()}`,"Disposed of and Finally Approved","Disposed of and Finally Rejected","Applications pending for Reconsideration","Total no of Applications Finally Approved {1B + 3B (i)}","Total no of Applications Finally Rejected {2B + 3B (ii)}","Total no of Applications Pending","Gross Total (4A+4B+4C)"];return this.authService.userDetail.role?.id=="4"?l[i-1]:a[i-1]}onDateChange(i){if(!i){console.warn("Selected date is invalid or empty.");return}let a=`${this.appService.departmentBaseUrl}/proceeding/count-auto-fetch`,l={date:i},c=this.authService.userDetail?.demography_type;if(c==="3")l=J(H({},l),{block_id:this.block_id});else{console.warn("Unsupported demography type:",c);return}this.isLoading=!0,this.httpClient.post(a,l).subscribe({next:f=>{this.tableData=f,this.isLoading=!1},error:f=>{console.error("Error fetching data:",f),this.isLoading=!1,this.toastService.error("Failed to fetch data. Please try again later.")}})}};r.\u0275fac=function(a){return new(a||r)(b(Q),b(G),b(M),b(K),b(V),b(O),b(Z),b(Ne),b(R))},r.\u0275cmp=D({type:r,selectors:[["app-add-committee-proceeding-form"]],decls:93,vars:23,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"card-body","p-3"],[1,"text-center"],[1,"text-center","mt-2"],[3,"formGroup","ngSubmit"],[1,"row","g-3","my-4"],[1,"col-md-4"],["for","dateMeeting",1,"form-label"],["type","date","id","dateMeeting","formControlName","dateMeeting","required","",1,"form-control",2,"text-transform","uppercase",3,"value","keydown"],[3,"field"],["for","timeMeeting",1,"form-label"],["type","time","id","timeMeeting","formControlName","timeMeeting","required","",1,"form-control"],["for","proceedingNo",1,"form-label"],["type","text","id","proceedingNo","formControlName","proceedingNo","placeholder","Proceeding No.",1,"form-control",3,"input"],["for","chairedBy",1,"form-label"],["type","text","id","chairedBy","formControlName","chairedBy","placeholder","Enter Name","required","",1,"form-control",2,"text-transform","capitalize"],["for","designation",1,"form-label"],["type","text","id","designation","formControlName","designation","placeholder","Designation","required","",1,"form-control"],["for","venueMeeting",1,"form-label"],["type","text","id","venueMeeting","formControlName","venueMeeting","placeholder","Venue","required","",1,"form-control"],["class","row g-3 my-4",4,"ngIf"],[1,"mb-4"],[1,"row","g-1","border-bottom","py-2","border-1","border-dark","align-items-center"],[2,"display","flex","justify-content","space-between"],["style","width: 75%","colspan","2",4,"ngIf"],["type","number","id","totalApplications","disabled","",1,"form-control",3,"value"],["class","row mb-3",4,"ngIf"],[1,"table-responsive","my-4"],[1,"table","table-bordered"],[1,"table-dark"],["formArrayName","rows"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["style",`
          display: flex;
          justify-content: center;
          align-items: center;
          width: 100%;
        `,4,"ngIf"],[4,"ngIf"],["for","datePublication",1,"form-label"],["type","date","id","datePublication","formControlName","datePublication","required","",1,"form-control",2,"text-transform","uppercase",3,"change","keydown"],["for","startDateSubmission",1,"form-label"],["type","date","id","startDateSubmission","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value"],["for","lastDateSubmission",1,"form-label"],["type","date","id","lastDateSubmission","disabled","",1,"form-control",2,"text-transform","uppercase",3,"value"],["for","fromDate",1,"form-label"],["type","date","id","fromDate","formControlName","fromDate",1,"form-control",2,"text-transform","uppercase",3,"max","change","keydown"],["for","toDate",1,"form-label"],["type","date","class","form-control","id","toDate","formControlName","toDate","style","text-transform: uppercase",3,"min","change","keydown",4,"ngIf"],["type","date","class","form-control","style","text-transform: uppercase","disabled","",4,"ngIf"],["type","date","id","toDate","formControlName","toDate",1,"form-control",2,"text-transform","uppercase",3,"min","change","keydown"],["type","date","disabled","",1,"form-control",2,"text-transform","uppercase"],["colspan","2",2,"width","75%"],[1,"table-light"],["type","number","disabled","",1,"form-control",3,"value"],[1,"row","mb-3"],[1,"col-md-12"],[1,"form-group"],["type","checkbox","id","isConsentGiven",2,"cursor","pointer",3,"value","disabled","change"],[3,"formGroupName"],["type","text","formControlName","name","placeholder","Enter name",1,"form-control",3,"id"],[1,"text-danger","fw-bold"],["type","text","formControlName","designation","placeholder","Enter designation",1,"form-control",3,"id"],["type","button","class","btn btn-danger","style","margin-right: 4px",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger",2,"margin-right","4px",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[2,"display","flex","justify-content","center","align-items","center","width","100%"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"],["type","button","target","_blank",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",3,"routerLink"],["type","file","formControlName","attachment",1,"form-control",3,"change"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",3,"click"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back "),n()()()(),o(8,"div",7)(9,"div",8)(10,"h4",9),s(11),n(),o(12,"h5",10),s(13),n(),o(14,"form",11),x("ngSubmit",function(){return l.handleAddNewSubmit()}),o(15,"div",12)(16,"div",13)(17,"label",14),s(18,"Date of Meeting "),o(19,"span"),s(20,"*"),n()(),o(21,"input",15),x("keydown",function(f){return l.onKeyDown(f)}),n(),u(22,"app-form-error",16),n(),o(23,"div",13)(24,"label",17),s(25,"Time of Meeting "),o(26,"span"),s(27,"*"),n()(),u(28,"input",18)(29,"app-form-error",16),n(),o(30,"div",13)(31,"label",19),s(32,"Proceeding No. "),o(33,"span"),s(34,"*"),n()(),o(35,"input",20),x("input",function(f){return l.onInputChange(f)}),n(),u(36,"app-form-error",16),n()(),o(37,"div",12)(38,"div",13)(39,"label",21),s(40,"Meeting Chaired by "),o(41,"span"),s(42,"*"),n()(),u(43,"input",22)(44,"app-form-error",16),n(),o(45,"div",13)(46,"label",23),s(47,"Designation "),o(48,"span"),s(49,"*"),n()(),u(50,"input",24)(51,"app-form-error",16),n(),o(52,"div",13)(53,"label",25),s(54,"Venue "),o(55,"span"),s(56,"*"),n()(),u(57,"input",26)(58,"app-form-error",16),n()(),h(59,AI,26,3,"div",27)(60,MI,16,5,"div",27),o(61,"form",28)(62,"div",29)(63,"tr",30),h(64,RI,2,0,"th",31)(65,OI,2,0,"th",31),o(66,"th",9),u(67,"input",32),n()()(),h(68,jI,134,48)(69,BI,141,71),n(),h(70,GI,7,3,"div",33),o(71,"h5"),s(72),n(),u(73,"hr"),o(74,"div",34)(75,"table",35)(76,"thead",36)(77,"tr")(78,"th"),s(79,"Sl No."),n(),o(80,"th"),s(81,"Name"),n(),o(82,"th"),s(83,"Designation"),n(),o(84,"th"),s(85,"Action"),n()()(),o(86,"tbody",37),h(87,zI,13,7,"tr",38),n()(),o(88,"div",39),h(89,UI,2,0,"button",40),n()(),h(90,qI,3,1,"div",41)(91,XI,3,3,"div",41),n(),h(92,e5,18,1,"div",42),n()()()),a&2&&(d(11),T(" ",l.getHeading()," "),d(2),T(" ",l.getSubHeading()," "),d(1),m("formGroup",l.meetingForm),d(7),m("value",l.today),d(1),m("field",l.meetingForm.get("dateMeeting")),d(7),m("field",l.meetingForm.get("timeMeeting")),d(7),m("field",l.meetingForm.get("proceedingNo")),d(8),m("field",l.meetingForm.get("chairedBy")),d(7),m("field",l.meetingForm.get("designation")),d(7),m("field",l.meetingForm.get("venueMeeting")),d(1),m("ngIf",(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)!=4),d(1),m("ngIf",(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)==4),d(4),m("ngIf",l.authService.userDetail.role.id!=4),d(1),m("ngIf",l.authService.userDetail.role.id==4),d(2),m("value",l.tableData==null?null:l.tableData.top),d(1),w(68,l.authService.userDetail.role.id!=4?68:69),d(2),m("ngIf",l.is_feature_need&&!l.isSaveDownload),d(2),T("Name, Designation & Signature of ",l.getProceedingType()," Members"),d(15),m("ngForOf",l.rows.controls),d(2),m("ngIf",!l.is_draft_saved&&!l.proceeding_id),d(1),m("ngIf",!l.isSaveDownload),d(1),m("ngIf",l.isSaveDownload),d(1),m("ngIf",l.isSaveDownload))},dependencies:[A,P,W,se,Y,U,le,Bn,Fe,Ee,Ve,On,jn,Re],styles:["span[_ngcontent-%COMP%]{color:red}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03}"]});let t=r;return t})();var yd=(()=>{let r=class r{};r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=D({type:r,selectors:[["app-download-committee-proceeding-form"]],decls:127,vars:0,consts:[["id","pdf-content",1,"container"],[1,"header"],[1,"header-left"],["src","../../../../../assets/images/odisha-gov-logo.png","alt","Government Logo",1,"govt-logo"],[1,"header-center"],[1,"mb-2"],[1,"header-right"],["src","../../../../../assets/images/subhadra-logo.png","alt","subhadra Logo 2",1,"govt-logo"],[1,"container","my-4"],[1,"card","p-3"],[1,"card-body","p-3"],[1,"text-center"],[1,"container","mt-3"],[1,"row","border"],[1,"col-md-3","bg-light","p-2","fw-bold"],[1,"col-md-3","p-2"],[1,"col-md-6","bg-light","p-2","fw-bold"],[1,"col-md-6","p-2"],[1,"row","g-1","my-4","border-top","border-bottom","py-2","border-1","border-dark","align-items-center"],[1,"col-md-6"],["for","totalApplications",1,"form-label","fw-bold"],[1,"col-md-3","ms-auto"],["type","number","id","totalApplications","disabled","",1,"form-control"],[1,"table-responsive","my-4"],[1,"table","table-bordered"],[1,"table-light"],["type","number",1,"form-control"],["type","number","disabled","",1,"form-control"],[1,"table-dark"],[2,"width","10%"],[2,"width","35%"],[2,"width","20%"],[2,"height","30px"],[1,"line"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"header",1)(2,"div",2),u(3,"img",3),n(),o(4,"div",4)(5,"h1"),s(6,"Subhadra"),n(),o(7,"h2",5),s(8,"Committee Proceeding"),n()(),o(9,"div",6),u(10,"img",7),n()(),o(11,"div",8)(12,"div",9)(13,"div",10)(14,"h4",11),s(15," Proceedings of the Meeting for the District Level Scrutiny Committee (DLSC)\xA0 "),n(),o(16,"form")(17,"div",12)(18,"div",13)(19,"div",14),s(20,"Date of Meeting"),n(),u(21,"div",15),o(22,"div",14),s(23,"Time of Meeting"),n(),u(24,"div",15),n(),o(25,"div",13)(26,"div",14),s(27,"Venue"),n(),u(28,"div",15),o(29,"div",14),s(30,"Proceeding Type"),n(),u(31,"div",15),n(),o(32,"div",13)(33,"div",14),s(34,"Meeting Chaired by"),n(),u(35,"div",15),o(36,"div",14),s(37,"Designation"),n(),u(38,"div",15),n(),o(39,"div",13)(40,"div",16),s(41," Date of publication of the Provisional List for inviting objections "),n(),u(42,"div",17),n(),o(43,"div",13)(44,"div",16),s(45," Last date for submission of objections on Provisional List "),n(),u(46,"div",17),n()(),o(47,"div",18)(48,"div",19)(49,"label",20),s(50," Total Applications presented for the consideration of the Committee "),n()(),o(51,"div",21),u(52,"input",22),n()(),o(53,"div",23)(54,"table",24)(55,"thead",25)(56,"tr")(57,"th"),s(58,"For Final Approval"),n(),o(59,"th",11),s(60,"Nos. of Applications"),n()()(),o(61,"tbody")(62,"tr")(63,"td"),s(64,"Recommended for Approval by BLSC / ULSC\xA0"),n(),o(65,"td"),u(66,"input",26),n()(),o(67,"tr")(68,"td"),s(69,"Approved by DLSC\xA0"),n(),o(70,"td"),u(71,"input",26),n()(),o(72,"tr")(73,"td"),s(74," Hold for Reconsideration by DLSC with reasons (out of Eligible recommended by BLSC)\xA0 "),n(),o(75,"td"),u(76,"input",27),n()()()(),o(77,"table",24)(78,"thead",25)(79,"tr")(80,"th"),s(81,"For Final Rejection"),n(),o(82,"th",11),s(83,"Nos. of Applications"),n()()(),o(84,"tbody")(85,"tr")(86,"td"),s(87,"Recommended for Rejection by BLSC / ULSC\xA0"),n(),o(88,"td"),u(89,"input",26),n()(),o(90,"tr")(91,"td"),s(92,"Rejected by DLSC\xA0"),n(),o(93,"td"),u(94,"input",26),n()(),o(95,"tr")(96,"td"),s(97," Hold for Reconsideration by DLSC with reasons (out of Ineligible recommended by BLSC)\xA0 "),n(),o(98,"td"),u(99,"input",27),n()()()()(),o(100,"h5"),s(101,"Name, Designation & Signature of DLSC Members"),n(),u(102,"hr"),o(103,"div",23)(104,"table",24)(105,"thead",28)(106,"tr")(107,"th",29),s(108,"Sl No."),n(),o(109,"th",30),s(110,"Name"),n(),o(111,"th",31),s(112,"Designation"),n(),o(113,"th",30),s(114,"Signature"),n()()(),o(115,"tbody")(116,"tr",32),u(117,"td",29)(118,"td",30)(119,"td",31)(120,"td",30),n(),o(121,"tr",32),u(122,"td",29)(123,"td",30)(124,"td",31)(125,"td",30),n()()()()()()()(),u(126,"div",33),n())},dependencies:[se,le,Fe],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#fff;margin:auto}.heading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:20px}.gov-logo[_ngcontent-%COMP%], .subhdra-logo[_ngcontent-%COMP%]{flex:1;text-align:center}body[_ngcontent-%COMP%]{font-family:Nunito,sans-serif;background-color:#fff;margin-bottom:50px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border-bottom:1.5px solid #514545;padding-bottom:3px}.header-center[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;font-weight:700;text-align:center}.govt-logo[_ngcontent-%COMP%]{height:80px}span[_ngcontent-%COMP%]{color:red}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03}"]});let t=r;return t})();var Ba=B(me());function t5(t,r){t&1&&(o(0,"h5",60),s(1,"Proceedings of the Meeting for the District Level Scrutiny Committee (DLSC)"),n())}function i5(t,r){t&1&&(o(0,"h5",60),s(1," Proceedings of the Meeting for the Block Level Scrutiny Committee (BLSC) "),n())}function n5(t,r){t&1&&(o(0,"h5",60),s(1," Proceedings of the Meeting for the ULB Level Scrutiny Committee (ULSC) "),n())}function o5(t,r){if(t&1&&(o(0,"div",20)(1,"div",21)(2,"label",61),s(3,"Date of publication of the Provisional List for inviting objections"),o(4,"span"),s(5,"*"),n()(),u(6,"input",62),n(),o(7,"div",21)(8,"label",63),s(9," Date of inviting objections on Provisional List (From) "),o(10,"span"),s(11,"*"),n()(),u(12,"input",64),n(),o(13,"div",21)(14,"label",65),s(15," Last date for submission of objections on Provisional List "),o(16,"span"),s(17,"*"),n()(),u(18,"input",66),n()()),t&2){let e=p();d(18),m("value",e.lastDateSubmission)}}function a5(t,r){t&1&&(o(0,"h5"),s(1,"Name, Designation & Signature of DLSC Members"),n())}function r5(t,r){t&1&&(o(0,"h5"),s(1,"Name, Designation & Signature of BLSC Members"),n())}function l5(t,r){t&1&&(o(0,"h5"),s(1,"Name, Designation & Signature of ULSC Members"),n())}function s5(t,r){if(t&1){let e=E();o(0,"button",72),x("click",function(){C(e);let a=p().index,l=p();return y(l.removeRow(a))}),s(1," - "),n()}}function d5(t,r){if(t&1&&(o(0,"tr",67)(1,"td"),s(2),n(),o(3,"td"),u(4,"input",68),o(5,"span",69),s(6),n()(),o(7,"td"),u(8,"input",70),o(9,"span",69),s(10),n()(),o(11,"td"),h(12,s5,2,0,"button",71),n()()),t&2){let e=r.index,i=p();m("formGroupName",e),d(2),_(e+1),d(2),m("id","name-"+e),d(2),_(i.getErrorMessage(e,"name")),d(2),m("id","designation-"+e),d(2),_(i.getErrorMessage(e,"designation")),d(2),m("ngIf",e>0)}}function c5(t,r){t&1&&(o(0,"div",73)(1,"form",49)(2,"div",74)(3,"div",75)(4,"label",76),s(5," Total Applications presented for the consideration of the Committee "),n()(),o(6,"div",77),u(7,"input",78),n()(),o(8,"div",37)(9,"table",38)(10,"thead",55)(11,"tr")(12,"th",79),s(13,"Table - 1"),n(),o(14,"th",56),s(15,"Nos. of Applications"),n()()(),o(16,"tbody")(17,"tr")(18,"td"),s(19,"Total for Reconsidered"),n(),o(20,"td"),u(21,"input",80),n()(),o(22,"tr")(23,"td"),s(24," Reconsidered for approval by DLSC "),n(),o(25,"td"),u(26,"input",81),n()(),o(27,"tr")(28,"td"),s(29," Reconsidered for rejection by DLSC "),n(),o(30,"td"),u(31,"input",82),n()(),o(32,"tr")(33,"td"),s(34,"Pending for Reconsidered"),n(),o(35,"td"),u(36,"input",82),n()()()()(),o(37,"div",37)(38,"table",38)(39,"thead",55)(40,"tr")(41,"th",79),s(42,"Table - 2"),n(),o(43,"th",56),s(44,"Nos. of Applications"),n()()(),o(45,"tbody")(46,"tr")(47,"td"),s(48,"Recommended for Approval by BLSC/ULSC"),n(),o(49,"td"),u(50,"input",80),n()(),o(51,"tr")(52,"td"),s(53,"Approved by DLSC"),n(),o(54,"td"),u(55,"input",83),n()(),o(56,"tr")(57,"td"),s(58," Rejected by DLSC with reasons out of recommended for Approval by BLSC/ULSC\xA0\xA0 "),n(),o(59,"td"),u(60,"input",82),n()()()(),o(61,"table",38)(62,"thead",55)(63,"tr")(64,"th",79),s(65,"Table - 3"),n(),o(66,"th",56),s(67,"Nos. of Applications"),n()()(),o(68,"tbody")(69,"tr")(70,"td"),s(71,"Recommended for Rejection by BLSC/ULSC\xA0"),n(),o(72,"td"),u(73,"input",80),n()(),o(74,"tr")(75,"td"),s(76,"Rejected by DLSC\xA0"),n(),o(77,"td"),u(78,"input",83),n()(),o(79,"tr")(80,"td"),s(81," Approved by DLSC with reasons out of recommended for Rejection by BLSC/ULSC\xA0\xA0 "),n(),o(82,"td"),u(83,"input",82),n()()()()(),o(84,"div",44)(85,"button",45),s(86," Save as Draft "),n(),o(87,"button",46),s(88," Next "),n()()()())}function m5(t,r){t&1&&(o(0,"div",73)(1,"form",49)(2,"div",74)(3,"div",75)(4,"label",76),s(5," Total Applications presented for the consideration of the Committee "),n()(),o(6,"div",77),u(7,"input",78),n()(),o(8,"div",37)(9,"table",38)(10,"thead",55)(11,"tr")(12,"th",79),s(13,"Table - 1"),n(),o(14,"th",56),s(15,"Nos. of Applications"),n()()(),o(16,"tbody")(17,"tr")(18,"td"),s(19,"Total Objections"),n(),o(20,"td"),u(21,"input",80),n()(),o(22,"tr")(23,"td"),s(24," Objections Disposed as Eligible for Subhadra by BLSC "),n(),o(25,"td"),u(26,"input",81),n()(),o(27,"tr")(28,"td"),s(29," Objections Disposed as Ineligible for Subhadra by BLSC "),n(),o(30,"td"),u(31,"input",82),n()(),o(32,"tr")(33,"td"),s(34,"Objections Pending"),n(),o(35,"td"),u(36,"input",82),n()()()()(),o(37,"div",37)(38,"table",38)(39,"thead",55)(40,"tr")(41,"th",79),s(42,"Table - 2"),n(),o(43,"th",56),s(44,"Nos. of Applications"),n()()(),o(45,"tbody")(46,"tr")(47,"td"),s(48,"Recommended as Eligible by FET"),n(),o(49,"td"),u(50,"input",80),n()(),o(51,"tr")(52,"td"),s(53,"Recommended for Approval by BLSC"),n(),o(54,"td"),u(55,"input",83),n()(),o(56,"tr")(57,"td"),s(58," Recommended for Rejection by BLSC with reasons (out of Eligible recommended by FET) "),n(),o(59,"td"),u(60,"input",82),n()()()(),o(61,"table",38)(62,"thead",55)(63,"tr")(64,"th",79),s(65,"Table - 3"),n(),o(66,"th",56),s(67,"Nos. of Applications"),n()()(),o(68,"tbody")(69,"tr")(70,"td"),s(71,"Recommended as Ineligible by FET"),n(),o(72,"td"),u(73,"input",80),n()(),o(74,"tr")(75,"td"),s(76,"Recommended for Rejection by BLSC"),n(),o(77,"td"),u(78,"input",83),n()(),o(79,"tr")(80,"td"),s(81," Recommended for Approval by BLSC with reasons (out of Ineligible recommended by FET) "),n(),o(82,"td"),u(83,"input",82),n()()()()(),o(84,"div",44)(85,"button",45),s(86," Save as Draft "),n(),o(87,"button",46),s(88," Next "),n()()()())}function p5(t,r){if(t&1){let e=E();o(0,"button",84),x("click",function(){C(e);let a=p();return y(a.handleSubmit())}),s(1," Submit "),n()}}function u5(t,r){t&1&&(o(0,"button",85),s(1," Submiting... "),u(2,"i",86),n())}var wd=(()=>{let r=class r{constructor(i,a,l,c,f,S){this.fb=i,this.location=a,this.httpClient=l,this.toastService=c,this.authService=f,this.appService=S,this.lastDateSubmission="",this.isFormSubmitInProgress=!1,this.today=""}ngOnInit(){this.today=(0,Ba.default)().format("YYYY-MM-DD"),this.initializeForm(),this.rows.controls.length===0&&this.addRow(),this.blscForm.get("ProvisionalListFromDate")?.valueChanges.subscribe(i=>{i?this.lastDateSubmission=(0,Ba.default)(i).add(7,"days").format("YYYY-MM-DD"):this.lastDateSubmission=""})}initializeForm(){this.blscForm=this.fb.group({dateMeeting:["",k.required],timeMeeting:["",k.required],proceedingNo:["",[k.required,k.pattern(/^[a-zA-Z0-9\s-]+$/)]],chairedBy:["",k.required],designation:["",k.required],venueMeeting:["",k.required],datePublication:["",k.required],ProvisionalListFromDate:["",k.required],lastDateSubmission:[{value:"",disabled:!0}],rows:this.fb.array([])})}get rows(){return this.blscForm.get("rows")}addRow(){let i=this.fb.group({name:["",k.required],designation:["",k.required]});this.rows.push(i)}getProceedingType(){if(this.authService.userDetail.demography_type=="1")return"SLSC";if(this.authService.userDetail.demography_type=="2")return"DLSC";if(this.authService.userDetail.demography_type=="3")return"BLSC";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==7)return"ULSC";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==4)return"MLSC"}getErrorMessage(i,a){return this.blscForm.controls.rows?.status=="INVALID"&&this.blscForm.controls.rows?.touched&&!this.blscForm.controls.rows?.value[i][a]?.trim()?"This field is required":""}removeRow(i){this.rows.removeAt(i)}goBack(){this.location.back()}onSaveDraft(){this.blscForm.valid||console.error("Form is invalid")}onNext(){this.blscForm.valid||console.error("Form is invalid")}handleSubmit(){}};r.\u0275fac=function(a){return new(a||r)(b(Q),b(G),b(M),b(K),b(V),b(O))},r.\u0275cmp=D({type:r,selectors:[["app-add-committee-proceedings"]],decls:127,vars:19,consts:[[1,"container"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","mt-3"],["class","text-center mt-3",4,"ngIf"],[1,"card-body"],[1,"table-responsive","mt-3"],["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-1","round-0"],["role","presentation",1,"nav-item","me-2"],["id","pills-meetingdetails-tab","data-bs-toggle","pill","data-bs-target","#pills-meetingdetails","type","button","role","tab","aria-controls","pills-meetingdetails","aria-selected","true",1,"nav-link","active",2,"font-weight","620"],["id","pills-proceedings-tab","data-bs-toggle","pill","data-bs-target","#pills-proceedings","type","button","role","tab","aria-controls","pills-proceedings","aria-selected","false",1,"nav-link",2,"font-weight","620"],["role","presentation",1,"nav-item"],["id","pills-upload-tab","data-bs-toggle","pill","data-bs-target","#pills-upload","type","button","role","tab","aria-controls","pills-upload","aria-selected","false",1,"nav-link",2,"font-weight","620"],["id","pills-tabContent",1,"tab-content"],["id","pills-meetingdetails","role","tabpanel","aria-labelledby","pills-meetingdetails-tab",1,"tab-pane","table-responsive","fade","show","active"],[1,"mb-4",3,"formGroup"],[1,"row","g-3","my-4"],[1,"col-md-4"],["for","dateMeeting",1,"form-label"],["type","date","id","dateMeeting","formControlName","dateMeeting","required","",1,"form-control",2,"text-transform","uppercase",3,"value"],[3,"field"],["for","timeMeeting",1,"form-label"],["type","time","id","timeMeeting","formControlName","timeMeeting","required","",1,"form-control"],["for","Proceedingno",1,"form-label"],["type","text","id","Proceedingno","formControlName","proceedingNo","placeholder","Proceeding No.","required","",1,"form-control"],["for","chairedBy",1,"form-label"],["type","text","id","chairedBy","formControlName","chairedBy","placeholder","Enter Name","required","",1,"form-control"],["for","designation",1,"form-label"],["type","text","id","designation","formControlName","designation","placeholder","Designation","required","",1,"form-control"],["for","venueMeeting",1,"form-label"],["type","text","id","venueMeeting","formControlName","venueMeeting","placeholder","Venue","required","",1,"form-control"],["class","row g-3 my-4",4,"ngIf"],[4,"ngIf"],[1,"table-responsive","my-4"],[1,"table","table-bordered"],[1,"table-dark"],["formArrayName","rows"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","text-light",2,"background-color","#1778ff"],["type","button",1,"btn","btn-warning","text-light"],["class","tab-pane table-responsive fade","id","pills-proceedings","role","tabpanel","aria-labelledby","pills-proceedings-tab",4,"ngIf"],["id","pills-upload","role","tabpanel","aria-labelledby","pills-upload-tab",1,"tab-pane","table-responsive","fade"],[1,"mb-4"],[1,"row","g-1","mt-2","align-items-center"],[1,"col-md-10"],["for","committeeProceeding",1,"form-label","fw-bold"],[1,"col-md-2","text-right"],["type","button","id","committeeProceeding",1,"btn","text-light",2,"background-color","#B80003B2"],[1,"table-light"],[1,"text-center"],["type","button",1,"btn",2,"background-color","#CCCCCC"],[2,"display","flex","justify-content","center","align-items","center","width","100%"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],[1,"text-center","mt-3"],["for","datePublication",1,"form-label"],["type","date","id","datePublication","formControlName","datePublication","required","",1,"form-control",2,"text-transform","uppercase"],["for","ProvisionalListFromDate",1,"form-label"],["type","date","id","ProvisionalListFromDate","formControlName","ProvisionalListFromDate","required","",1,"form-control",2,"text-transform","uppercase"],["for","lastDateSubmission",1,"form-label"],["type","date","id","lastDateSubmission","formControlName","lastDateSubmission","readonly","",1,"form-control",2,"text-transform","uppercase",3,"value"],[3,"formGroupName"],["type","text","formControlName","name","placeholder","Enter name",1,"form-control",3,"id"],[1,"text-danger","fw-bold"],["type","text","formControlName","designation","placeholder","Enter designation",1,"form-control",3,"id"],["type","button","class","btn btn-danger","style","margin-right: 4px",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger",2,"margin-right","4px",3,"click"],["id","pills-proceedings","role","tabpanel","aria-labelledby","pills-proceedings-tab",1,"tab-pane","table-responsive","fade"],[1,"row","g-1","border-bottom","py-2","border-1","border-dark","align-items-center"],[1,"col-md-6"],["for","totalApplications",1,"form-label","fw-bold"],[1,"col-md-3","ms-auto"],["type","number","id","totalApplications","value","30","disabled","",1,"form-control"],[2,"width","75%"],["type","number","value","10","disabled","",1,"form-control"],["type","number","value","6","disabled","",1,"form-control"],["type","number","value","2","disabled","",1,"form-control"],["type","number","value","8","disabled","",1,"form-control"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",3,"click"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4),x("click",function(){return l.goBack()}),o(5,"button",5),u(6,"i",6),s(7," Back "),n()()()(),o(8,"div",7),h(9,t5,2,0,"h5",8)(10,i5,2,0,"h5",8)(11,n5,2,0,"h5",8),o(12,"div",9)(13,"div",10)(14,"ul",11)(15,"li",12)(16,"button",13),s(17," Meeting Details "),n()(),o(18,"li",12)(19,"button",14),s(20," Proceedings "),n()(),o(21,"li",15)(22,"button",16),s(23," Upload "),n()()(),o(24,"div",17)(25,"div",18)(26,"form",19)(27,"div",20)(28,"div",21)(29,"label",22),s(30,"Date of Meeting "),o(31,"span"),s(32,"*"),n()(),u(33,"input",23)(34,"app-form-error",24),n(),o(35,"div",21)(36,"label",25),s(37,"Time of Meeting "),o(38,"span"),s(39,"*"),n()(),u(40,"input",26)(41,"app-form-error",24),n(),o(42,"div",21)(43,"label",27),s(44,"Proceeding No."),o(45,"span"),s(46,"*"),n()(),u(47,"input",28)(48,"app-form-error",24),n()(),o(49,"div",20)(50,"div",21)(51,"label",29),s(52,"Meeting Chaired by "),o(53,"span"),s(54,"*"),n()(),u(55,"input",30)(56,"app-form-error",24),n(),o(57,"div",21)(58,"label",31),s(59,"Designation "),o(60,"span"),s(61,"*"),n()(),u(62,"input",32)(63,"app-form-error",24),n(),o(64,"div",21)(65,"label",33),s(66,"Venue "),o(67,"span"),s(68,"*"),n()(),u(69,"input",34)(70,"app-form-error",24),n()(),h(71,o5,19,1,"div",35)(72,a5,2,0,"h5",36)(73,r5,2,0,"h5",36)(74,l5,2,0,"h5",36),u(75,"hr"),o(76,"div",37)(77,"table",38)(78,"thead",39)(79,"tr")(80,"th"),s(81,"SL No."),n(),o(82,"th"),s(83,"Name"),n(),o(84,"th"),s(85,"Designation"),n(),o(86,"th"),s(87,"Action"),n()()(),o(88,"tbody",40),h(89,d5,13,7,"tr",41),n()(),o(90,"div",42)(91,"button",43),x("click",function(){return l.addRow()}),s(92," + "),n()()(),o(93,"div",44)(94,"button",45),s(95," Save as Draft "),n(),o(96,"button",46),s(97,"Next"),n()()()(),h(98,c5,89,0,"div",47)(99,m5,89,0,"div",47),o(100,"div",48)(101,"form",49)(102,"div",50)(103,"div",51)(104,"label",52),s(105," Download the committee proceeding and upload it again duly signed by all the committee members. "),n()(),o(106,"div",53)(107,"button",54),s(108," Download "),n()()(),o(109,"div",37)(110,"table",38)(111,"thead",55)(112,"tr")(113,"th"),s(114,"Enclosures to be Attached\xA0"),n(),o(115,"th",56),s(116,"Attachment"),n()()(),o(117,"tbody")(118,"tr")(119,"td"),s(120," 1. Signed attendance of the Committee Members (Annexure) "),n(),o(121,"td",56)(122,"button",57),s(123," Browse "),n()()()()()(),o(124,"div",58),h(125,p5,2,0,"button",59)(126,u5,3,0),n()()()()()()()()),a&2&&(d(9),m("ngIf",l.authService.userDetail.demography_type=="2"),d(1),m("ngIf",l.authService.userDetail.demography_type=="3"),d(1),m("ngIf",l.authService.userDetail.demography_type=="5"),d(15),m("formGroup",l.blscForm),d(7),m("value",l.today),d(1),m("field",l.blscForm.get("dateMeeting")),d(7),m("field",l.blscForm.get("timeMeeting")),d(7),m("field",l.blscForm.get("proceedingNo")),d(8),m("field",l.blscForm.get("chairedBy")),d(7),m("field",l.blscForm.get("designation")),d(7),m("field",l.blscForm.get("venueMeeting")),d(1),m("ngIf",l.authService.userDetail.demography_type=="3"),d(1),m("ngIf",l.authService.userDetail.demography_type=="2"),d(1),m("ngIf",l.authService.userDetail.demography_type=="3"),d(1),m("ngIf",l.authService.userDetail.demography_type=="5"),d(15),m("ngForOf",l.rows.controls),d(9),m("ngIf",l.authService.userDetail.demography_type=="2"),d(1),m("ngIf",l.authService.userDetail.demography_type=="3"&&l.authService.userDetail.demography_type=="5"),d(26),w(125,l.isFormSubmitInProgress?126:125))},dependencies:[A,P,se,Y,U,le,Bn,Fe,Ee,Ve,On,jn,Re],styles:[".btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]{border-bottom:2px solid #ddd}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000;border-radius:0}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}"]});let t=r;return t})();var xo=B(me());function f5(t,r){if(t&1&&(o(0,"option",35),s(1),n()),t&2){let e=r.$implicit,i=p(2);m("value",i.jsonify(e)),d(1),_(e.district_name||e.ulb_name)}}function _5(t,r){if(t&1){let e=E();o(0,"select",32),x("change",function(){C(e);let a=p();return y(a.onDistrictChange())}),o(1,"option",33),s(2,"All"),n(),h(3,f5,2,2,"option",34),n()}if(t&2){let e=p();d(3),m("ngForOf",e.districts)}}function g5(t,r){if(t&1&&u(0,"input",36),t&2){let e=p();m("value",e.authService.userDetail==null?null:e.authService.userDetail.demography_name)}}function b5(t,r){if(t&1&&(o(0,"option",43),s(1),n()),t&2){let e=p().$implicit,i=p(3);m("ngValue",i.jsonify(e)),d(1),T(" ",e.block_name," ")}}function v5(t,r){if(t&1&&(ye(0),h(1,b5,2,2,"option",42),we()),t&2){let e=r.$implicit;d(1),m("ngIf",e.pushType==="blockid")}}function x5(t,r){if(t&1&&(o(0,"option",43),s(1),n()),t&2){let e=p().$implicit,i=p(3);m("ngValue",i.jsonify(e)),d(1),T(" ",e.ulb_name," ")}}function S5(t,r){if(t&1&&(ye(0),h(1,x5,2,2,"option",42),we()),t&2){let e=r.$implicit;d(1),m("ngIf",e.pushType==="ulbtype")}}function C5(t,r){if(t&1){let e=E();o(0,"select",38),x("change",function(){C(e);let a=p(2);return y(a.handleBlockUlbChange())}),o(1,"option",33),s(2,"All"),n(),o(3,"optgroup",39),h(4,v5,2,1,"ng-container",40),n(),o(5,"optgroup",41),h(6,S5,2,1,"ng-container",40),n()()}if(t&2){let e=p(2);d(4),m("ngForOf",e.blockULBList),d(2),m("ngForOf",e.blockULBList)}}function y5(t,r){if(t&1&&u(0,"input",36),t&2){let e=p(2);m("value",e.authService.userDetail==null?null:e.authService.userDetail.demography_name)}}function w5(t,r){if(t&1&&(o(0,"div",5)(1,"div",6)(2,"label",7),s(3,"Block/ULB/MC"),o(4,"span",8),s(5,"*"),n()(),h(6,C5,7,2,"select",37)(7,y5,1,1),n()()),t&2){let e=p();d(6),w(6,e.authService.userDetail.demography_type!=5?6:7)}}function E5(t,r){t&1&&(o(0,"div",48),u(1,"i",49),s(2," We are fetching the data, please wait. "),n())}function I5(t,r){if(t&1&&(o(0,"div",50)(1,"div",51)(2,"p")(3,"span",52),s(4,"Total Applications : "),n(),o(5,"span",53),s(6),n()()(),o(7,"div",51)(8,"p")(9,"span",54),s(10,"Published : "),n(),o(11,"span",53),s(12),n()()(),o(13,"div",51)(14,"p")(15,"span",54),s(16,"Un-Published : "),n(),o(17,"span",53),s(18),n()()()()),t&2){let e=p(2);d(6),T(" ",e.provisionalListDetails==null?null:e.provisionalListDetails.total_applications," "),d(6),T(" ",e.provisionalListDetails==null?null:e.provisionalListDetails.total_published," "),d(6),T(" ",e.provisionalListDetails==null?null:e.provisionalListDetails.unpublished_applications," ")}}function T5(t,r){if(t&1&&(o(0,"div",44)(1,"div",45)(2,"div",46),s(3," Provisional Beneficiary List - Publish "),n(),h(4,E5,3,0,"div",47)(5,I5,19,3),n()()),t&2){let e=p();d(4),w(4,e.isProvisionalDetailsLoading?4:5)}}function k5(t,r){t&1&&(o(0,"div",48),u(1,"i",49),s(2," We are fetching the data, please wait. "),n())}function L5(t,r){if(t&1&&(o(0,"td",65)(1,"a",69),s(2,"View"),n()()),t&2){let e=p().$implicit,i=p(4);d(1),m("routerLink",i.getLink(e))}}function F5(t,r){if(t&1&&(o(0,"td",65)(1,"a",69),s(2,"View"),n()()),t&2){let e=p().$implicit,i=p(4);d(1),m("routerLink",i.getLink(e))}}function D5(t,r){if(t&1&&(o(0,"tbody",67)(1,"tr")(2,"td"),s(3),n(),o(4,"td"),s(5),n(),o(6,"td"),s(7),n(),o(8,"td",64),s(9),n(),o(10,"td",64),s(11),n(),o(12,"td",64),s(13),n(),o(14,"td",64),s(15),n(),h(16,L5,3,1,"td",68)(17,F5,3,1,"td",68),n()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(3),_(i+1),d(2),_(a.appService.dateFormat(e==null?null:e.published_date)),d(2),$e("",a.appService.dateFormat(e==null?null:e.from_date)," To ",a.appService.dateFormat(e==null?null:e.to_date),""),d(2),_(a.getTotalNumber(e)),d(2),_(e==null?null:e.total_eligible),d(2),_(e==null?null:e.total_ineligible),d(2),_(e!=null&&e.rejected_count?e==null?null:e.rejected_count:0),d(1),m("ngIf",a.isBlockSelected()),d(1),m("ngIf",!a.isBlockSelected())}}function A5(t,r){if(t&1&&(o(0,"table",62)(1,"thead",63)(2,"tr")(3,"th"),s(4,"SN"),n(),o(5,"th"),s(6,"Publish Date"),n(),o(7,"th"),s(8,"Date Range"),n(),o(9,"th",64),s(10,"Total"),n(),o(11,"th",64),s(12,"Eligible"),n(),o(13,"th",64),s(14,"Ineligible"),n(),o(15,"th",64),s(16,"Rejected"),n(),o(17,"th",65),s(18,"Action"),n()()(),h(19,D5,18,10,"tbody",66),n()),t&2){let e=p(3);d(19),m("ngForOf",e.provisionalLogs)}}function V5(t,r){t&1&&(o(0,"h5",70),s(1," No Data Found "),n())}function P5(t,r){if(t&1&&(o(0,"div",60),h(1,A5,20,1,"table",61)(2,V5,2,0),n()),t&2){let e=p(2);d(1),w(1,(e.provisionalLogs==null?null:e.provisionalLogs.length)>0?1:2)}}function M5(t,r){if(t&1&&(o(0,"div",55)(1,"div",56)(2,"div",57)(3,"div",58),s(4," Published Provisional Beneficiary Lists "),n(),u(5,"div",59),n(),h(6,k5,3,0,"div",47)(7,P5,3,1),n()()),t&2){let e=p();d(6),w(6,e.isStatsLoading?6:7)}}function R5(t,r){t&1&&(o(0,"button",71),s(1," Publish "),n())}function O5(t,r){t&1&&(o(0,"button",72),s(1," Publishing... "),u(2,"i",73),n())}var Ed=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F){this.httpClient=i,this.authService=a,this.appService=l,this.route=c,this.location=f,this.toastService=S,this.router=g,this.fb=v,this.formService=I,this.masterDataService=F,this.isStatsLoading=!1,this.isProvisionalDetailsLoading=!1,this.isFormSubmitInProgress=!1,this.blockULBList=[],this.block_id="",this.district_id="",this.district_name="",this.block_name="",this.provisionalListDetails={},this.provisionalLogs=[],this.districts=[],this.blocks=[],this.ulbs=[],this.today="",this.from_date="",this.to_date="",this.mcIds=Oe.MC_IDS,this.searchForm=new pe({district:new Si("",[k.required]),block:new Si("",[k.required])}),this.publishProvisionalListForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]]})}ngOnInit(){this.today=(0,xo.default)().format("YYYY-MM-DD");let i=he?.data?.filter(a=>this.mcIds?.includes(a.id));if(this.districts=[...$.data,...i],this.authService.userDetail.demography_type==2){let a=$.data?.find(l=>l.id==this.authService.userDetail.demography_id);this.searchForm.patchValue({district:this.jsonify(a)}),this.searchForm.get("district")?.disable(),this.onDistrictChange()}if(this.authService.userDetail.demography_type==5){let a=he.data?.find(c=>c.id==this.authService.userDetail?.demography_id),l=$.data?.find(c=>c.id==this.authService.userDetail.district_id);this.searchForm.patchValue({district:this.jsonify(l),block:this.jsonify(a)}),this.searchForm.get("district")?.disable(),this.searchForm.get("block")?.disable(),this.onDistrictLoadChange(),this.handleBlockUlbChange()}}jsonify(i){return JSON.stringify(i)}isMcSelected(){let i=this.searchForm.get("district")?.value;return i&&(i=JSON.parse(i)),!!i?.ulb_name}handleBlockUlbChange(){this.searchForm.get("block")?.value&&(this.fetchProvisionalList(),this.fetchProvisionalHistory())}onSearch(){this.fetchProvisionalList(),this.fetchProvisionalHistory()}onDistrictChange(){this.searchForm.get("block")?.setValue("");let i=this.searchForm.get("district")?.value;if(i&&(i=JSON.parse(i)),i?.ulb_name){this.fetchProvisionalList(i?.id),this.fetchProvisionalHistory(i?.id);return}this.blocks=this.masterDataService.getBlockData(i?.id),this.ulbs=this.masterDataService.getULBData(i?.id)?.filter(a=>!this.mcIds?.includes(a.id)),this.blockULBList=[...this.blocks.map(a=>J(H({},a),{pushType:"blockid"})),...this.ulbs.map(a=>J(H({},a),{pushType:"ulbtype"}))]}onDistrictLoadChange(){let i=this.searchForm.get("district")?.value;if(i&&(i=JSON.parse(i)),i?.ulb_name){this.fetchProvisionalList(i?.id),this.fetchProvisionalHistory(i?.id);return}this.blocks=this.masterDataService.getBlockData(i),this.ulbs=this.masterDataService.getULBData(i),this.blockULBList=[...this.blocks.map(a=>J(H({},a),{pushType:"blockid"})),...this.ulbs.map(a=>J(H({},a),{pushType:"ulbtype"}))]}handlepublishProvisionalList(){if(this.publishProvisionalListForm.status==="INVALID"){this.formService.triggerFormValidation(this.publishProvisionalListForm);return}let i=this.publishProvisionalListForm.value,a=`/v1/publish-block-provisional-data?category=1&block_id=${this.block_id}&from_date=${this.from_date}&to_date=${this.to_date}&total_unassigned_eligible=${this.provisionalListDetails.eligible_unpublished}&total_unassigned_ineligible=${this.provisionalListDetails.ineligible_unpublished}&user_id=${this.authService.userDetail.demography_id}&remarks=${i.remarks}`;this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${a}`,{},{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.toastService.success(l.message),document.getElementsByClassName("btn-close")[0]?.click(),this.fetchProvisionalList(),this.fetchProvisionalHistory(),setTimeout(()=>{this.isFormSubmitInProgress=!1},2e3)},l=>{this.toastService.error(l.error.message),this.isFormSubmitInProgress=!1})}fetchProvisionalList(i){this.isProvisionalDetailsLoading=!0;let a=this.searchForm.get("block")?.value;a&&(a=JSON.parse(a));let l="provisional-publish-form-data?category=1";i?l+=`&ulb_id=${i}`:a?.block_name?l+=`&block_id=${a?.id}`:l+=`&ulb_id=${a?.id}`,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/${l}`,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isProvisionalDetailsLoading=!1,this.provisionalListDetails=J(H({},c.data),{total_applications:c?.data?.eligible_unpublished+c?.data?.ineligible_unpublished+c?.data?.total_published+c?.data?.rejected_unpublished,unpublished_applications:c?.data?.eligible_unpublished+c?.data?.ineligible_unpublished+c?.data?.rejected_unpublished}),this.from_date=(0,xo.default)(c?.first_date).format("YYYY-MM-DD"),this.to_date=(0,xo.default)(c?.last_date).subtract(1,"day").format("YYYY-MM-DD")},c=>{this.isProvisionalDetailsLoading=!1,this.provisionalListDetails=[]})}getTotalNumber(i){let a=parseInt(i.total_eligible)||0,l=parseInt(i.total_ineligible)||0,c=parseInt(i.rejected_count)||0;return a+l+c}showPublish(){return this.provisionalListDetails?.eligible_unpublished+this.provisionalListDetails?.ineligible_unpublished>0}showMessage(){this.toastService.warning("There are No Applications Pending to Publish")}fetchProvisionalHistory(i){this.isProvisionalDetailsLoading=!0;let a=this.searchForm.get("block")?.value;a&&(a=JSON.parse(a));let l="provisional-publish-logs";i?l+=`?ulb_id=${i}`:a?.block_name?l+=`?block_id=${a?.id}`:l+=`?ulb_id=${a?.id}`,this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/${l}`,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isStatsLoading=!1,this.provisionalLogs=c.data},c=>{this.isStatsLoading=!1,this.provisionalLogs=[]})}isBothValueAvailable(){let i=this.searchForm.get("district")?.value,a=this.searchForm.get("block")?.value;return!!(i&&a||this.isMcSelected())}isBlockSelected(){let i=this.searchForm.get("block")?.value;return i?!!JSON.parse(i).block_name:!1}getLink(i){let a=this.searchForm.get("block")?.value,l=this.searchForm.get("district")?.value,c=JSON.parse(l);if(c?.ulb_name)return`/department/portal/approval-module/provisional-list/ulb-provisional-log/${c?.district_id}/${c?.id}/${i?.id}`;if(l&&a){let f=JSON.parse(a);return JSON.parse(a).block_name?`/department/portal/approval-module/provisional-list/gp-wise-stats/${c?.id}/${f?.id}/${i?.id}`:`/department/portal/approval-module/provisional-list/ulb-provisional-log/${c?.id}/${f?.id}/${i?.id}`}}};r.\u0275fac=function(a){return new(a||r)(b(M),b(V),b(O),b(R),b(G),b(K),b(Ne),b(Q),b(Z),b(Nn))},r.\u0275cmp=D({type:r,selectors:[["app-provisional-stats"]],decls:67,vars:14,consts:[[1,"container"],[1,"card","p-3","mt-3",3,"formGroup","ngSubmit"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-12",2,"color","#fe8b03"],[1,"row"],[1,"col-sm-12","col-md-3"],[1,"form-group"],[1,"mb-1","form-label",2,"font-weight","540"],[1,"text-danger"],["id","district","formControlName","district","class","form-control form-select my-2"],["class","col-sm-12 col-md-3",4,"ngIf"],["style","margin-top:20px;","class","card",4,"ngIf"],["class","card mt-3",4,"ngIf"],["id","publishProvisionalList","tabindex","-1","aria-labelledby","publishProvisionalListLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","publishProvisionalListLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],[1,"d-flex","flex-column","gap-1","w-100"],["disabled","","type","date",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],["formControlName","remarks","id","remarks","placeholder","200 Characters only","maxlength","200",1,"form-control",2,"resize","none","height","100px"],[3,"field"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],["id","district","formControlName","district",1,"form-control","form-select","my-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["disabled","",1,"form-control","form-select","my-2",3,"value"],["id","block","formControlName","block","class","form-control form-select my-2"],["id","block","formControlName","block",1,"form-control","form-select","my-2",3,"change"],["label","Blocks"],[4,"ngFor","ngForOf"],["label","ULBs"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],[1,"card",2,"margin-top","20px"],[1,"card-body",2,"padding","0 0 10px 50px !important"],[1,"col-md-4","col-12","mb-1","mb-md-0",2,"font-weight","640","font-size","large","color","#fe8b03","margin-top","20px"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","mt-5"],[1,"col-md-4","text-left"],[1,"fw-bold",2,"margin-left","30px !important"],[1,"rounded","px-2","py-2","d-inline-block","text-left",2,"background","#cccccc","width","100px","text-align","left"],[1,"fw-bold"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-1","mb-md-0",2,"font-weight","640","font-size","large","color","#fe8b03"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"table-responsive","mt-3"],["class","table mt-4"],[1,"table","mt-4"],[2,"font-size","14px","font-weight","620"],[2,"text-align","center"],[1,"text-center"],["style","font-size: 14px",4,"ngFor","ngForOf"],[2,"font-size","14px"],["class","text-center",4,"ngIf"],[3,"routerLink"],[1,"mt-6","text-center"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"form",1),x("ngSubmit",function(){return l.onSearch()}),o(2,"div",2)(3,"div",3),s(4,"Filter"),n()(),o(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),s(9,"District/MC"),o(10,"span",8),s(11,"*"),n()(),h(12,_5,4,1,"select",9)(13,g5,1,1),n()(),h(14,w5,8,1,"div",10),n()(),h(15,T5,6,1,"div",11)(16,M5,8,1,"div",12),n(),o(17,"div",13)(18,"div",14)(19,"div",15)(20,"div",16)(21,"h5",17),s(22," Publish Provisional List Form"),n(),u(23,"button",18),n(),o(24,"div",19)(25,"form",20),x("submit",function(){return l.handlepublishProvisionalList()}),o(26,"div",21)(27,"label",22),s(28,"From Date (Start) :"),n(),o(29,"div",23),u(30,"input",24),n()(),o(31,"div",21)(32,"label",22),s(33,"Till Date (End) :"),n(),o(34,"div",23),u(35,"input",24),n()(),o(36,"div",21)(37,"label",22),s(38,"Total Application to Publish :"),n(),u(39,"input",25),n(),o(40,"div",21)(41,"label",22),s(42,"No. of Provisional Eligible :"),n(),u(43,"input",25),n(),o(44,"div",21)(45,"label",22),s(46,"No. of Provisional Ineligible :"),n(),u(47,"input",25),n(),o(48,"div",21)(49,"label",22),s(50,"Rejected :"),n(),u(51,"input",25),n(),o(52,"div",21)(53,"label",22),s(54,"Remarks "),o(55,"span",8),s(56,"*"),n(),s(57," :"),n(),o(58,"div",23)(59,"textarea",26),s(60,"                  "),n(),u(61,"app-form-error",27),n()(),o(62,"div",28)(63,"div",29)(64,"div",30),h(65,R5,2,0,"button",31)(66,O5,3,0),n()()()()()()()()),a&2&&(d(1),m("formGroup",l.searchForm),d(11),w(12,l.authService.userDetail.demography_type!=5?12:13),d(2),m("ngIf",!l.isMcSelected()),d(1),m("ngIf",l.isBothValueAvailable()),d(1),m("ngIf",l.isBothValueAvailable()),d(9),m("formGroup",l.publishProvisionalListForm),d(5),m("value",l.from_date),d(5),m("value",l.to_date),d(4),m("value",l.provisionalListDetails.unpublished_applications),d(4),m("value",l.provisionalListDetails.eligible_unpublished),d(4),m("value",l.provisionalListDetails.ineligible_unpublished),d(4),m("value",l.provisionalListDetails.rejected_unpublished),d(10),m("field",l.publishProvisionalListForm.get("remarks")),d(4),w(65,l.isFormSubmitInProgress?66:65))},dependencies:[A,P,W,se,Ie,Te,Y,ut,U,le,St,Ee,Ve,Re]});let t=r;return t})();var $a=B(ve()),Id=B(Ut()),Td=B(me());function j5(t,r){t&1&&(o(0,"div",4),u(1,"i",5),s(2," We are fetching the data, please wait. "),n())}function B5(t,r){if(t&1){let e=E();o(0,"div",14)(1,"input",15),x("ngModelChange",function(a){C(e);let l=p(2);return y(l.searchTerm=a)}),n(),u(2,"i",16),n()}if(t&2){let e=p(2);d(1),m("ngModel",e.searchTerm)}}function $5(t,r){if(t&1){let e=E();o(0,"button",17),x("click",function(){C(e);let a=p(2);return y(a.exportToPDF(a.filteredDistrictStats))}),u(1,"i",18),s(2,"Download "),n()}}function N5(t,r){t&1&&(o(0,"button",19),u(1,"i",20),s(2,"Downloading... "),n())}function G5(t,r){if(t&1&&(o(0,"a",29),s(1,"View Block"),n(),o(2,"a",30),s(3,"View ULB"),n()),t&2){let e=p(2).$implicit;Se("routerLink","/department/portal/approval-module/pending-hold/district-stats/block-stats/",e==null?null:e.district_id,""),d(2),Se("routerLink","/department/portal/approval-module/pending-hold/district-stats/ulb-stats/",e==null?null:e.district_id,"")}}function W5(t,r){t&1&&(o(0,"a",31),s(1,"View Block"),n(),o(2,"a",32),s(3,"View ULB"),n())}function z5(t,r){if(t&1&&(o(0,"td",28),h(1,G5,4,2)(2,W5,4,0),n()),t&2){let e=p().$implicit;d(1),w(1,e.objections?1:2)}}function U5(t,r){if(t&1&&(o(0,"a",30),s(1,"View Ward"),n()),t&2){let e=p(2).$implicit;ce("routerLink","/department/portal/approval-module/pending-hold/district-stats/ward-stats/",e.district_id,"/",e==null?null:e.ulb_id,"")}}function H5(t,r){t&1&&(o(0,"a",32),s(1,"View Ward"),n())}function Y5(t,r){if(t&1&&(o(0,"td",28),h(1,U5,2,2,"a",33)(2,H5,2,0),n()),t&2){let e=p().$implicit;d(1),w(1,e!=null&&e.objections?1:2)}}function q5(t,r){if(t&1&&(o(0,"tr",26)(1,"td",22),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),h(7,z5,3,1,"td",27)(8,Y5,3,1,"td",27),n()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.district_name||e.ulb_name),d(2),_(e.objections||"0"),d(1),m("ngIf",!e.ulb_id),d(1),m("ngIf",e.ulb_id)}}function K5(t,r){if(t&1&&(o(0,"tr",26),u(1,"td",22),o(2,"td",35),s(3,"GRAND TOTAL"),n(),o(4,"td",35),s(5),n(),u(6,"td"),n()),t&2){let e=p(4);d(5),T("",e.getGrandTotal("objections")," ")}}function J5(t,r){if(t&1&&h(0,K5,7,1,"tr",34),t&2){let e=p(3);m("ngIf",e.filteredDistrictStats==null?null:e.filteredDistrictStats.length)}}function X5(t,r){if(t&1&&(o(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),s(4,"SN"),n(),o(5,"th",23),s(6,"District/MC"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,q5,9,5,"tr",24)(13,J5,1,1,"tr",25),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredDistrictStats),d(1),w(13,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==2?13:-1)}}function Q5(t,r){t&1&&(o(0,"h5",36),s(1," No Data Found "),n())}function Z5(t,r){if(t&1&&(o(0,"div",6)(1,"div",6)(2,"div",7),s(3," Pending Objection List (Non NFSA / SFSS) "),n(),o(4,"div",8),h(5,B5,3,1,"div",9),o(6,"div",10),h(7,$5,3,0,"button",11)(8,N5,3,0),n()()(),o(9,"div",12),h(10,X5,14,2,"table",13)(11,Q5,2,0),n()()),t&2){let e=p();d(5),w(5,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)=="2"?5:-1),d(2),w(7,e.isExportInProgress?8:7),d(3),w(10,e.filteredDistrictStats&&e.filteredDistrictStats.length>0?10:11)}}$a.default.vfs=Id.default.pdfMake.vfs;var kd=(()=>{let r=class r{constructor(i,a,l,c){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm=""}ngOnInit(){this.route.queryParams.subscribe(i=>{this.type=+i.type}),this.fetchDrillDownList()}get filteredDistrictStats(){return this.searchTerm?this.drilldownStats.filter(i=>i?.district_name?.toLowerCase()?.includes(this?.searchTerm?.trim().toLowerCase())||i?.ulb_name?.toLowerCase()?.includes(this?.searchTerm?.trim()?.toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/district-wise/provisional-published-count?isAll=0`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=[...i?.data||[],...i?.ulbData||[]]},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPDF(i){this.isExportInProgress=!0;let a="PENDING OBJECTION LIST",l=new Date,c=`Timestamp: ${(0,Td.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"District/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.district_name||g.ulb_name||"",fontSize:9},{text:g.objections||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{body:f,widths:["20%","50%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};$a.default.createPdf(S).download("pending_objection_list.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredDistrictStats.reduce((l,c)=>l+c[i],0)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R))},r.\u0275cmp=D({type:r,selectors:[["app-pending-hold-district-stats"]],decls:5,vars:1,consts:[[1,"container","my-4"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-weight","640","font-size","large"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],["class","search-box me-2","style","flex-grow: 1; max-width: 30%"],[1,"col-md-2","text-sm-end"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter District Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom"],[1,"tr-border-bottom"],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"],[1,"btn","btn-sm","btn-primary","ms-1",2,"white-space","nowrap",3,"routerLink"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary",2,"white-space","nowrap"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary","ms-1",2,"white-space","nowrap"],["style","white-space: nowrap;","class","btn btn-sm btn-primary ms-1",3,"routerLink"],["class","tr-border-bottom",4,"ngIf"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),h(3,j5,3,0,"div",3)(4,Z5,12,3),n()()()),a&2&&(d(3),w(3,l.isStatsLoading?3:4))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Ld=B(ve());var Fd=B(me());function eT(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function tT(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function iT(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function nT(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/pending-hold/district-stats/gp-stats/",i.district_id,"/",e==null?null:e.block_id,"")}}function oT(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function aT(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,nT,2,2,"a",35)(9,oT,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.block_name),d(2),_(e.objections||"0"),d(2),m("ngIf",e==null?null:e.objections),d(1),m("ngIf",!(e!=null&&e.objections))}}function rT(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("objections")," ")}}function lT(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN"),n(),o(5,"th",31),s(6,"Block"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,aT,10,5,"tr",32)(13,rT,7,1,"tr",33),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredDistrictStats==null?null:e.filteredDistrictStats.length)}}function sT(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function dT(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Pending Objection List (Non NFSA / SFSS) "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,tT,3,0,"button",22)(15,iT,3,0),n()()(),o(16,"div",23),h(17,lT,14,2,"table",24)(18,sT,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var Dd=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.block_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/block-wise/provisional-published-count?isAll=0&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="PENDING OBJECTION LIST",l=new Date,c=`Timestamp: ${(0,Fd.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:g.block_name||"",fontSize:9},{text:g.objections||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Ld.default.createPdf(S).download("pending_objection_list.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-pending-hold-block-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["routerLink","/department/portal/approval-module/pending-hold/district-stats","type","button",1,"me-2"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Block Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,eT,3,0,"div",9)(11,dT,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Ad=B(ve());var Na=B(me());function cT(t,r){if(t&1&&(o(0,"div",7)(1,"a",8)(2,"button",9),u(3,"i",10),s(4," Back"),n()()()),t&2){let e=p();d(1),Se("routerLink","/department/portal/approval-module/pending-hold/district-stats/block-stats/",e.district_id,"")}}function mT(t,r){t&1&&(o(0,"div",11),u(1,"i",12),s(2," We are fetching the data, please wait. "),n())}function pT(t,r){if(t&1){let e=E();o(0,"button",28),x("click",function(){C(e);let a=p(3);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",29),s(2,"Download "),n()}}function uT(t,r){t&1&&(o(0,"button",30),u(1,"i",31),s(2,"Downloading... "),n())}function hT(t,r){if(t&1&&(o(0,"div"),h(1,pT,3,0,"button",27)(2,uT,3,0),n()),t&2){let e=p(2);d(1),w(1,e.isExportInProgress?2:1)}}function fT(t,r){if(t&1){let e=E();o(0,"a",39),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.gp_id))}),s(1,"View "),n()}if(t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/pending-hold/district-stats/gp-stats/",i.district_id,"/",i.block_id,"/",e==null?null:e.gp_id,"")}}function _T(t,r){t&1&&(o(0,"a",40),s(1,"View "),n())}function gT(t,r){if(t&1&&(o(0,"tr",36)(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,fT,2,3,"a",37)(9,_T,2,0,"a",38),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.gp_name),d(2),_(e.total-(e.ineligible+e.eligible)||"0"),d(2),m("ngIf",e.total-(e.ineligible+e.eligible)),d(1),m("ngIf",!(e.total-(e.ineligible+e.eligible)))}}function bT(t,r){if(t&1&&(o(0,"tr",36),u(1,"td",41),o(2,"td",42),s(3,"GRAND TOTAL"),n(),o(4,"td",42),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("objections")," ")}}function vT(t,r){if(t&1&&(o(0,"table",32)(1,"thead")(2,"tr")(3,"th"),s(4,"SN"),n(),o(5,"th",33),s(6,"GP"),n(),o(7,"th"),s(8,"Objection"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,gT,10,5,"tr",34)(13,bT,7,1,"tr",35),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function xT(t,r){t&1&&(o(0,"h5",43),s(1," No Data Found "),n())}function ST(t,r){if(t&1){let e=E();o(0,"div",13)(1,"div",13)(2,"div",14)(3,"div",15),s(4," Pending Objection List (Non NFSA / SFSS) "),n(),o(5,"nav",16)(6,"ol",17)(7,"li",18),s(8),n(),o(9,"li",19),s(10),n()()()(),o(11,"div",20)(12,"div",21)(13,"input",22),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",23),n(),h(15,hT,3,1,"div",24),n()(),o(16,"div",25),h(17,vT,14,2,"table",26)(18,xT,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.block_name," "),d(3),m("ngModel",e.searchTerm),d(2),m("ngIf",e.filteredBlockStats.length),d(2),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var Ga=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fb=S,this.toastService=g,this.formService=v,this.paginationService=I,this.generatingInProgress=!1,this.isStatsLoading=!1,this.isLoading=!1,this.isExportInProgress=!1,this.isFormSubmitInProgress=!1,this.drilldownStats=[],this.proceedingList=[],this.searchTerm="",this.district_id="",this.block_id="",this.district_name="",this.block_name="",this.selectedGpId="",this.selectedImage="",this.ulb_id="",this.today="",this.ulb_name="",this.recommedationForm=this.fb.group({remarks:["",k.required,[k.pattern(/.*\S.*/)]],meetingDate:["",k.required],proceedingNo:["",k.required]})}openModal(){this.recommedationForm.patchValue({remarks:"",meetingDate:"",proceedingNo:""}),this.recommedationForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.recommedationForm)}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.isLoading=!0;let a=`/proceeding/list?block_id=${this.block_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isLoading=!1,this.proceedingList=l.data},l=>{this.isLoading=!1,console.error("File download failed:",l)})}handleViewClick(i){this.paginationService.setData("gp_id",i,null,1,"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,0)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.block_id=i.block_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.block_name=be.data.find(a=>a.id==this.block_id)?.block_name,this.fetchDrillDownList()}),this.today=(0,Na.default)().format("YYYY-MM-DD")}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetRecommedationForm();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetRecommedationForm();return}this.selectedImage=a}resetRecommedationForm(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity()}toggleWardSelection(i){if(i==this.selectedGpId){this.selectedGpId="";return}this.selectedGpId=i}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.gp_name?.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}getApplicationCounts(i){let a=this.drilldownStats.find(l=>l.gp_id==this.selectedGpId);if(i==="total")return a?.eligible+a?.ineligible;if(i==="eligible")return a?.eligible;if(i==="ineligible")return a?.ineligible}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/gp-wise/provisional-published-count?isAll=0&block_id=${this.block_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}generateRandomList(){this.generatingInProgress=!0;let i=`${this.appService.departmentBaseUrl}/v1/block/provisional-published-list-pdf?block_id=${this.block_id}&isAll=0`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.generatingInProgress=!1,this.downloadFile(a,"block_generate_random_list")},a=>{this.generatingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}exportToPdf(i){this.isExportInProgress=!0;let a="PENDING OBJECTION LIST",l=new Date,c=`Timestamp: ${(0,Na.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK",fillColor:"#d3d3d3",bold:!0},{text:"GP",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:this.block_name||"",fontSize:9},{text:g.gp_name||"",fontSize:9},{text:g.objections||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.block_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","25%","20%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Ad.default.createPdf(S).download("pending_objection_list.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}toggleGpSelection(i){if(i==this.selectedGpId){this.selectedGpId="";return}this.selectedGpId=i}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("proceeding_id",i.proceedingNo),a.append("remarks",i.remarks),a.append("meeting_date",i.meetingDate),a.append("category","1"),a.append("gp_id",this.selectedGpId),a.append("user_id",this.authService?.userDetail?.demography_id);let l="/v1/recommend-fv-for-ineligible",c="/v1/recommend-fv-for-eligible";this.isFormSubmitInProgress=!0,pt([this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}),this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,a,{headers:{Authorization:this.authService.authToken}})]).subscribe(([f,S])=>{this.isFormSubmitInProgress=!1,this.toastService.success(f?.message),document.getElementById("recommendModalClose")?.click(),this.selectedGpId="",this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}toggleSelectAll(){this.isAllSelected()?this.selectedGpId=[]:this.selectedGpId=this.filteredBlockStats?.map(i=>i?.id)}onSelect(i){this.selectedGpId.includes(i)?this.selectedGpId=[]:this.selectedGpId=[i]}isAllSelected(){if(!this.filteredBlockStats?.length)return!1;let i=!0;return this.filteredBlockStats.forEach(a=>{this.selectedGpId?.includes(a.id)||(i=!1)}),i}isGenerateButtonDisabled(){for(let i of this.filteredBlockStats)if(i.total>0)return!1;return!0}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G),b(Q),b(K),b(Z),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-pending-hold-gp-stats"]],decls:8,vars:2,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-8","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter GP ",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],[4,"ngIf"],[1,"table-responsive","mt-3"],["class","table"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","60%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink","click",4,"ngIf"],["style","color: black !important;","disabled","","type","button",4,"ngIf"],[3,"routerLink","click"],["disabled","","type","button",2,"color","black !important"],[2,"width","5%"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,cT,5,1,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,mT,3,0,"div",6)(7,ST,19,5),n()()()),a&2&&(d(3),w(3,l.authService.userDetail.demography_type!="3"?3:-1),d(3),w(6,l.isStatsLoading?6:7))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var Vd=B(ve());var Pd=B(me());function CT(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function yT(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function wT(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function ET(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/pending-hold/district-stats/ward-stats/",i.district_id,"/",e==null?null:e.ulb_id,"")}}function IT(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function TT(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,ET,2,2,"a",35)(9,IT,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.ulb_name),d(2),_(e.objections||"0"),d(2),m("ngIf",e==null?null:e.objections),d(1),m("ngIf",!(e!=null&&e.objections))}}function kT(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("objections")," ")}}function LT(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN"),n(),o(5,"th",31),s(6,"ULB"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,TT,10,5,"tr",32)(13,kT,7,1,"tr",33),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function FT(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function DT(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Pending Objection List (Non NFSA / SFSS) "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,yT,3,0,"button",22)(15,wT,3,0),n()()(),o(16,"div",23),h(17,LT,14,2,"table",24)(18,FT,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var Md=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ulb_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/ulb-wise/provisional-published-count?isAll=0&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="PENDING OBJECTION LIST",l=new Date,c=`Timestamp: ${(0,Pd.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:g.ulb_name||"",fontSize:9},{text:g.objections||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Vd.default.createPdf(S).download("pending_objection_list.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-pending-hold-ulb-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["routerLink","/department/portal/approval-module/pending-hold/district-stats","type","button",1,"me-2"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter ULB Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,CT,3,0,"div",9)(11,DT,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Rd=B(ve());var Wa=B(me());function AT(t,r){if(t&1&&(o(0,"a",10)(1,"button",11),u(2,"i",12),s(3," Back"),n()()),t&2){let e=p(2);Se("routerLink","/department/portal/approval-module/pending-hold/district-stats/ulb-stats/",e.district_id,"")}}function VT(t,r){t&1&&(o(0,"a",13)(1,"button",11),u(2,"i",12),s(3," Back"),n()())}function PT(t,r){if(t&1&&(o(0,"div",7),h(1,AT,4,1,"a",8)(2,VT,4,0,"a",9),n()),t&2){let e=p();d(1),m("ngIf",!e.isMcAvailable()),d(1),m("ngIf",e.isMcAvailable())}}function MT(t,r){t&1&&(o(0,"div",14),u(1,"i",15),s(2," We are fetching the data, please wait. "),n())}function RT(t,r){if(t&1){let e=E();o(0,"button",30),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",31),s(2,"Download "),n()}}function OT(t,r){t&1&&(o(0,"button",32),u(1,"i",33),s(2,"Downloading... "),n())}function jT(t,r){if(t&1&&(o(0,"a",44),s(1,"View "),n()),t&2){let e=p(2).$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/pending-hold/district-stats/ward-pending-hold-list/",i.district_id,"/",i.ulb_id,"/",e==null?null:e.ward_id,"")}}function BT(t,r){t&1&&(o(0,"a",45),s(1,"View "),n())}function $T(t,r){if(t&1){let e=E();o(0,"td",41),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.ward_id))}),h(1,jT,2,3,"a",42)(2,BT,2,0,"a",43),n()}if(t&2){let e=p().$implicit;d(1),m("ngIf",e.total-(e.ineligible+e.eligible)),d(1),m("ngIf",!(e.total-(e.ineligible+e.eligible)))}}function NT(t,r){if(t&1&&(o(0,"a",44),s(1,"View "),n()),t&2){let e=p(2).$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/pending-hold/district-stats/ward-stats/",i.district_id,"/",i.ulb_id,"/",e==null?null:e.ward_id,"")}}function GT(t,r){t&1&&(o(0,"a",45),s(1,"View "),n())}function WT(t,r){if(t&1&&(o(0,"td"),h(1,NT,2,3,"a",42)(2,GT,2,0,"a",43),n()),t&2){let e=p().$implicit;d(1),m("ngIf",e.total-(e.ineligible+e.eligible)),d(1),m("ngIf",!(e.total-(e.ineligible+e.eligible)))}}function zT(t,r){if(t&1&&(o(0,"tr",38)(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),h(7,$T,3,2,"td",39)(8,WT,3,2,"td",40),n()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(2),_(e.ward_no),d(2),_(e.total-(e.ineligible+e.eligible)||"0"),d(1),m("ngIf",(a.authService.userDetail==null?null:a.authService.userDetail.demography_type)!=5),d(1),m("ngIf",(a.authService.userDetail==null?null:a.authService.userDetail.demography_type)==5)}}function UT(t,r){if(t&1&&(o(0,"tr",38),u(1,"td",46),o(2,"td",47),s(3,"GRAND TOTAL"),n(),o(4,"td",47),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("objections")," ")}}function HT(t,r){if(t&1&&(o(0,"table",34)(1,"thead")(2,"tr")(3,"th"),s(4,"SN"),n(),o(5,"th",35),s(6,"Ward"),n(),o(7,"th"),s(8,"Objection"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,zT,9,5,"tr",36)(13,UT,7,1,"tr",37),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function YT(t,r){t&1&&(o(0,"h5",48),s(1," No Data Found "),n())}function qT(t,r){if(t&1){let e=E();o(0,"div",16)(1,"div",16)(2,"div",17)(3,"div",18),s(4," Pending Objection List (Non NFSA / SFSS) "),n(),o(5,"nav",19)(6,"ol",20)(7,"li",21),s(8),n(),o(9,"li",22),s(10),n()()()(),o(11,"div",23)(12,"div",24)(13,"input",25),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",26),n(),o(15,"div"),h(16,RT,3,0,"button",27)(17,OT,3,0),n()()(),o(18,"div",28),h(19,HT,14,2,"table",29)(20,YT,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.ulb_name," "),d(3),m("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}var Od=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fb=S,this.toastService=g,this.formService=v,this.paginationService=I,this.generatingInProgress=!1,this.isStatsLoading=!1,this.isFormSubmitInProgress=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.mcIDS=Oe.MC_IDS,this.district_id="",this.ulb_id="",this.district_name="",this.ulb_name="",this.selectedWardId="",this.selectedImage="",this.today="",this.proceedingList=[],this.isFetchProceedingInProgress=!1,this.recommedationForm=this.fb.group({remarks:["",k.required,[k.pattern(/.*\S.*/)]],meetingDate:["",k.required],proceedingNo:["",k.required]})}goBack(){this.location.back()}handleViewClick(i){this.paginationService.setData("ward_id",i,null,1,"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,0)}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetRecommedationForm();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetRecommedationForm();return}this.selectedImage=a}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}let a=`/proceeding/list?ulb_id=${this.ulb_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isFetchProceedingInProgress=!1,this.proceedingList=l.data},l=>{this.isFetchProceedingInProgress=!1,console.error("File download failed:",l)})}resetRecommedationForm(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity()}toggleWardSelection(i){if(i==this.selectedWardId){this.selectedWardId="";return}this.selectedWardId=i}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.ulb_id=i.ulb_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.ulb_name=he.data.find(a=>a.id==this.ulb_id)?.ulb_name,this.fetchDrillDownList()}),this.today=(0,Wa.default)().format("YYYY-MM-DD")}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ward_no.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}isMcAvailable(){return this.mcIDS?.includes(Number(this.ulb_id))}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/ward-wise/provisional-published-count?isAll=0&ulb_id=${this.ulb_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}generateRandomList(){this.generatingInProgress=!0;let i=`${this.appService.departmentBaseUrl}/v1/ulb/provisional-published-list-pdf?ulb_id=${this.ulb_id}&isAll=0`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.generatingInProgress=!1,this.downloadFile(a,"ulb_generate_random_list")},a=>{this.generatingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}exportToPdf(i){this.isExportInProgress=!0;let a="PENDING OBJECTION LIST",l=new Date,c=`Timestamp: ${(0,Wa.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"GP/WARD",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:this.ulb_name||"",fontSize:9},{text:g.ward_no||"",fontSize:9},{text:g.objections||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.ulb_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","25%","20%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Rd.default.createPdf(S).download("pending_objection_list.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}openModal(){this.recommedationForm.patchValue({remarks:"",meetingDate:"",proceedingNo:""}),this.recommedationForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.recommedationForm)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}getApplicationCounts(i){let a=this.drilldownStats.find(l=>l.ward_id==this.selectedWardId);if(i==="total")return a?.eligible+a?.ineligible;if(i==="eligible")return a?.eligible;if(i==="ineligible")return a?.ineligible}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("proceeding_id",i.proceedingNo),a.append("meeting_date",i.meetingDate),a.append("remarks",i.remarks),a.append("category","1"),a.append("ward_id",this.selectedWardId);let l="/v1/recommend-fv-for-ineligible",c="/v1/recommend-fv-for-eligible";this.isFormSubmitInProgress=!0,pt([this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}),this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,a,{headers:{Authorization:this.authService.authToken}})]).subscribe(([f,S])=>{this.isFormSubmitInProgress=!1,this.toastService.success(f?.message),document.getElementById("recommendModalClose")?.click(),this.selectedWardId="",this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}toggleSelectAll(){this.isAllSelected()?this.selectedWardId=[]:this.selectedWardId=this.filteredBlockStats?.map(i=>i?.id)}onSelect(i){this.selectedWardId.includes(i)?this.selectedWardId=[]:this.selectedWardId=[i]}isAllSelected(){if(!this.filteredBlockStats?.length)return!1;let i=!0;return this.filteredBlockStats.forEach(a=>{this.selectedWardId?.includes(a.id)||(i=!1)}),i}isGenerateButtonDisabled(){for(let i of this.filteredBlockStats)if(i.total>0)return!1;return!0}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G),b(Q),b(K),b(Z),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-pending-hold-ward-stats"]],decls:8,vars:2,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"col-md-5","d-flex","justify-content-end"],["type","button","class","me-2",3,"routerLink",4,"ngIf"],["routerLink","/department/portal/approval-module/pending-hold/district-stats","type","button","class","me-2",4,"ngIf"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],["routerLink","/department/portal/approval-module/pending-hold/district-stats","type","button",1,"me-2"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-8","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Ward",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; white-space: nowrap; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","white-space","nowrap","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","white-space","nowrap","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","60%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","disabled","","type","button",4,"ngIf"],[3,"routerLink"],["disabled","","type","button",2,"color","black !important"],[2,"width","5%"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,PT,3,2,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,MT,3,0,"div",6)(7,qT,21,5),n()()()),a&2&&(d(3),w(3,(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)!="7"?3:-1),d(3),w(6,l.isStatsLoading?6:7))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var kt=B(Ht());var jd=B(me());function KT(t,r){if(t&1&&(o(0,"option",50),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),T(" ",e==null?null:e.village_name,"")}}function JT(t,r){if(t&1&&(o(0,"li",51),s(1),n()),t&2){let e=p();d(1),_(e.block_name)}}function XT(t,r){if(t&1&&(o(0,"li",51),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function QT(t,r){t&1&&(o(0,"div",52),u(1,"i",53),s(2," We are fetching the data, please wait. "),n())}var ZT="/department/portal/approval-module/pending-hold/district-stats/field-verification-report",ek=t=>[ZT,t],tk=t=>({"disabled-link":t});function ik(t,r){if(t&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td",60),s(8),n(),o(9,"td",60),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td",61)(16,"a",62),x("click",function(a){return a.preventDefault()}),n()(),o(17,"td",61)(18,"button",63),x("click",function(){let l=C(e).$implicit,c=p(4);return y(c.openObjectionsModal(l==null?null:l.application_number))}),n()()()}if(t&2){let e=r.$implicit,i=r.index,a=p(4);d(2),_(i+1),d(2),_((e==null?null:e.village_name)||"N/A"),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.fv_status_date)),d(2),_(e==null?null:e.fetStatus),d(2),et("pointer-events",e!=null&&e.id?"auto":"none"),m("routerLink",e!=null&&e.id?_e(12,ek,+(e==null?null:e.id)):null)("ngClass",_e(14,tk,!(e!=null&&e.id))),Ze("aria-disabled",!(e!=null&&e.id))}}function nk(t,r){if(t&1&&(o(0,"table",47)(1,"thead",57)(2,"tr")(3,"th",58),s(4," SN "),n(),o(5,"th",48),s(6,"Village"),n(),o(7,"th",48),s(8,"Application No."),n(),o(9,"th",48),s(10,"Applicant Name"),n(),o(11,"th",48),s(12,"Father/Husband Name"),n(),o(13,"th",48),s(14,"FET Date"),n(),o(15,"th",48),s(16,"FET Status"),n(),o(17,"th",48),s(18,"FET Report"),n(),o(19,"th",48),s(20,"Objections"),n()()(),o(21,"tbody",59),h(22,ik,19,16,"tr",49),n()()),t&2){let e=p(3);d(22),m("ngForOf",e.fieldVerificationsList)}}function ok(t,r){t&1&&(o(0,"span"),u(1,"i",53),s(2," Loading..."),n())}function ak(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function rk(t,r){if(t&1){let e=E();o(0,"div",64)(1,"button",65),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,ok,3,0,"span",66)(3,ak,2,0,"span",66),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function lk(t,r){if(t&1&&(o(0,"div",54),h(1,nk,23,1,"table",55),n(),h(2,rk,4,2,"div",56)),t&2){let e=p(2);d(1),m("ngIf",e.tab===3),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!==e.totalApplicants)}}function sk(t,r){t&1&&(o(0,"h5",67),s(1," No Application Found "),n())}function dk(t,r){if(t&1&&(o(0,"div"),h(1,lk,3,2)(2,sk,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}function ck(t,r){if(t&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td",61)(12,"a",68),x("click",function(){let l=C(e).$implicit,c=p();return y(c.handleRedirect(l==null?null:l.grievance_ref_no))}),n()(),o(13,"td"),s(14,"Pending"),n()()}if(t&2){let e=r.$implicit,i=r.index,a=p();d(2),_(i+1),d(2),_(a.appService.dateFormat(e.created_at)),d(2),T("GR-",e.grievance_ref_no,""),d(2),_(e.submitted_by),d(2),_(a.getGrievanceTypeName(e.grievance_remark_type_id))}}var za=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F,L){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.router=F,this.paginationService=L,this.displayReasons=!1,this.reasonsForEligibility=[{reason_id:"13",eligible_reasons:"She is alive."},{reason_id:"12",eligible_reasons:"She is a female."},{reason_id:"11",eligible_reasons:"Her family\u2019s income is not more than Rs. 2.50 lakhs."},{reason_id:"10",eligible_reasons:"Her family does not owns a four-wheeler motor vehicle."},{reason_id:"9",eligible_reasons:"Her family does not owns more than 5 acres of irrigated or 10 acres of non-irrigated land."},{reason_id:"8",eligible_reasons:"She or any family member is not a member in a Govt. PSU/Board/Organization."},{reason_id:"7",eligible_reasons:"She or any family member is not employed with a Govt. Organization or receiving pension."},{reason_id:"6",eligible_reasons:"She or any family member is not an elected representative in an ULB/PRI."},{reason_id:"5",eligible_reasons:"She or any family member is not an Income Tax Payee."},{reason_id:"4",eligible_reasons:"She or any family member is not a current/former MP or MLA."},{reason_id:"3",eligible_reasons:"She does not receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Govt."},{reason_id:"2",eligible_reasons:"She is 21 years or above and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"1",eligible_reasons:"She is a resident of Odisha."}],this.reasonsForInEligibility=[{reason_id:"32",ineligible_reasons:"She is not alive."},{reason_id:"31",ineligible_reasons:"She is not a female."},{reason_id:"30",ineligible_reasons:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{reason_id:"29",ineligible_reasons:"Her family owns a four-wheeler motor vehicle."},{reason_id:"28",ineligible_reasons:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{reason_id:"27",ineligible_reasons:"She or a family member is a member in a Government PSU/Board/Organization."},{reason_id:"26",ineligible_reasons:"She or a family member is employed with a Government Organization or receives a pension."},{reason_id:"25",eligible_reasons:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{reason_id:"24",ineligible_reasons:"She or a family member is an Income Tax Payee."},{reason_id:"23",ineligible_reasons:"She or a family member is a current/former MP or MLA."},{reason_id:"22",ineligible_reasons:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{reason_id:"21",ineligible_reasons:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"20",ineligible_reasons:"She is not a resident of Odisha."}],this.alreadySelectedReasons=[],this.reasonsList=[],this.fieldVerificationData="",this.selectedReasons=[],this.selectedItem=null,this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.isDownloadingInProgress=!1,this.isDataLoading=!1,this.objectionsList=[],this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.recommendConfirmationModalstage=1,this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.ineligibleReasons=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.proceedingList=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=3,this.ulb_name="",this.exportInProgress=!1,this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",k.pattern(/.*\S.*/)],reasons:this.fb.group({})}),this.redressForm=this.fb.group({remarks:["",k.required,[k.pattern(/.*\S.*/)]],recommendFor:["",k.required]}),this.recommedationForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]]}),this.disposalForm=this.fb.group({remarks:["",k.pattern(/.*\S.*/)],reasons:this.fb.group({}),recommendFor:["",k.required]})}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate))}setTab(i){this.tab=i,this.selectedFieldVerificationId=[],this.router.navigate([],{relativeTo:this.route,queryParams:{tab:i},queryParamsHandling:"merge"})}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}let a=`/proceeding/list?block_id=${this.block_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDownloadingInProgress=!1,this.proceedingList=l.data},l=>{this.isDownloadingInProgress=!1,console.error("File download failed:",l)})}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetForms();return}this.selectedImage=a}setSmallselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=600*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 600Kb."),this.resetForms();return}this.selectedImage=a}resetForms(){this.selectedImage="",this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.disposalForm.patchValue({document:""}),this.redressForm.patchValue({document:""}),this.assignFieldOfficerForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity(),this.disposalForm.updateValueAndValidity(),this.redressForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedReasons=[]}setmoveStatus(i){this.moveStatus=i,this.assignFieldOfficerForm.patchValue({remarks:"",meetingDate:"",reasons:""}),i=="eligible"?(this.selectedReasons=this.reasonsForEligibility.map(a=>a?.reason_id),this.fetchFieldVerificationDetails()):this.selectedReasons=[],this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.assignFieldOfficerForm)}fetchFieldVerificationDetails(){let i=`${this.appService.departmentBaseUrl}/v1/fv-completed-details?fvId=${this.selectedFieldVerificationId[0]}`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{let l=a.data[0],c=JSON.parse(l.declaration_ids);c&&(this.ineligibleReasons=c?.filter(f=>f.status==0))},a=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}getDeclarationLabel(i){return this.fieldVerification.declarations.find(a=>Number(a?.id)===Number(i))?.declaration}openModal(){this.disposalForm.patchValue({remarks:"",reasons:"",recommendFor:"",meetingDate:""}),this.selectedReasons=[],this.redressForm.patchValue({remarks:"",meetingDate:"",recommendFor:""}),this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.assignFieldOfficerForm.patchValue({remarks:"",meetingDate:"",reasons:""}),this.selectedImage="",this.redressForm.updateValueAndValidity(),this.recommedationForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.disposalForm.updateValueAndValidity(),this.resetTouchedStatus(this.disposalForm),this.resetTouchedStatus(this.redressForm),this.resetTouchedStatus(this.recommedationForm),this.resetTouchedStatus(this.assignFieldOfficerForm)}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.gp_id=i.gp_id,this.block_id=i.block_id,this.district_id=i.district_id,this.district_name=$.data.find(c=>c?.id==this.district_id)?.district_name,this.block_name=be.data.find(c=>c?.id==this.block_id)?.block_name,this.gp_id&&this.fetchVillages(),this.gp_nameorWardNo=Ue.data.find(c=>String(c?.id)===this.gp_id)?.gp_name;let l=this.paginationService.getData("gp_id",this.gp_id,this.tab==1?"FieldVerifiedEligibleTab":this.tab==2?"FieldVerifiedIneligibleTab":"FieldVerifiedHoldTab",this.authService.userDetail.demography_id);l?(this.fieldVerificationsList=l.data,this.page=l.page,this.totalApplicants=l.totalCount):this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}),this.today=(0,jd.default)().format("YYYY-MM-DD")}goBack(){this.location.back()}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}document.getElementById("recommendFormClose")?.click();let a=document.getElementById("recommendationConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("recommendationConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("recommendModal");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){return i=="heading"?this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?":i=="body"?this.recommendConfirmationModalstage==1?`You have selected <b>${this.totalApplicants}</b> application(s) to be recommended for ${this.tab==1?"Approval":"Rejection"}. Are you sure to proceed ahead with these application(s) ?`:`<b>${this.totalApplicants}</b> no. of applications recommended for ${this.tab==1?"Approval":"Rejection"} are matching up with the proceedings of BLSC/ULSC/MLSC (as applicable). This decision is final and no further changes can be made.`:""}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.recommedationForm.value,a=this.fieldVerificationsList?.find(f=>f?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("remarks",i.remarks),l.append("category","1"),l.append("gp_id",this.gp_id);let c="";this.tab==2&&(c="/v1/recommend-fv-for-ineligible"),this.tab==1&&(c="/v1/recommend-fv-for-eligible"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(f=>{this.isFormSubmitInProgress=!1,this.toastService.success(f.message);let S=document.getElementById("recommendationConfirmationModal");S&&((j.getInstance(S)||new j(S)).hide(),document.getElementById("recommendFormClose")?.click()),this.recommendConfirmationModalstage=1,this.selectedFieldVerificationId=[],this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate),this.resetForms()},f=>{console.error("Error:",f),this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message),this.resetForms()})}handleEligibleIneligible(){this.selectedReasons=[]}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}fetchVillages(){let i=`/v1/fv/village-list?gp_id=${this.gp_id}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.villageList=a.data},a=>{this.villageList=[]})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/provisional-published-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}return J(H({},I),{fetStatus:F})}),this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,1,"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,v.totalCount),this.eligibleCount=v.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}handleRedirect(i){let a=`/department/portal/department-grievance/grievance-aadhar-verify/user-grievance-details/${i}`;window.open(a,"_blank")}getGrievanceTypeName(i){let a=[{id:1,reason:"Unable to submit application"},{id:2,reason:"Application status not updated"},{id:3,reason:"Application details incorrect"},{id:4,reason:"Application details incorrect"},{id:5,reason:"Application details incorrect"},{id:6,reason:"Verification Pending*"},{id:7,reason:"Wrongly marked ineligible/rejected & appeal against rejection"},{id:8,reason:"Haven\u2019t received the benefit yet"},{id:9,reason:"Wrongly marked eligible & appeal against approval"},{id:10,reason:"Benefit transferred to ineligible applicant"},{id:11,reason:"Benefit transferred to non-applicant"},{id:12,reason:"Application details incorrect"},{id:13,reason:"Application details incorrect"},{id:14,reason:"Application details incorrect"},{id:15,reason:"Application details incorrect"},{id:16,reason:"Application details incorrect"},{id:17,reason:"Application details incorrect"}];return i?a?.find(l=>l?.id==i)?.reason:"N/A"}fetchApplicationListTabWise(i,a,l,c,f,S){this.page=1;let g=`/v1/provisional-published-list?isAll=0&type=${S==1?"eligible":S==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{let I=v.data.map(F=>{let L="";switch(F.fv_status){case"1":L="Eligible";break;case"0":case"3":L="Ineligible";break;default:L="N/A"}return J(H({},F),{fetStatus:L})});this.paginationService.setData("gp_id",this.gp_id,I,1,"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,v.totalCount),this.isStatsLoading=!1},v=>{this.isStatsLoading=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/provisional-published-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}return J(H({},L),{fetStatus:N})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F],this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,this.page,"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,I.totalCount)}this.eligibleCount=I.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleSubmit(){if(this.assignFieldOfficerForm.invalid){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}if(!this.selectedReasons.length){this.toastService.error("Please select reasons to move.");return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);if(!a){this.toastService.error("Selected field verification details are missing.");return}kt.default.fire({title:"Are You sure ?",html:`You want to move <b>${a.applicant_name}</b>, from ${this.tab===2?"<b>Ineligible</b>":"<b>Eligible</b>"} to ${this.tab===2?"<b>Eligible</b>":"<b>Ineligible</b>"}.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{kt.default.showLoading();let l=new FormData;l.append("remarks",i.remarks||""),l.append("application_id",a?.application_id||""),l.append("field_verification_id",a?.id||""),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="eligible"?"3":"4"),this.moveStatus==="eligible"?l.append("eligible_reasons",this.selectedReasons.join(",")):l.append("ineligible_reasons",this.selectedReasons.join(",")),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/move-field-verification-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),kt.default.close(),document.getElementById("BtnClose")?.click(),this.resetFormState(),this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1)),this.resetForms()},c=>{this.isFormSubmitInProgress=!1;let f=c?.error?.message||"An error occurred while processing your request.";this.toastService.error(f),this.resetForms()})}}).then(l=>{l.dismiss,kt.default.DismissReason.cancel})}resetFormState(){this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.reset({remarks:"",document:"",meetingDate:""}),this.selectedImage=null}handleRedressSubmit(){if(this.redressForm.status==="INVALID"){this.formService.triggerFormValidation(this.redressForm);return}let i=this.redressForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("remarks",i.remarks),l.append("status",i.recommendFor),l.append("application_id",a?.application_id),l.append("gp_id",this.gp_id),l.append("category","1"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/redress-objected-application`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("redressModalClose")?.click(),this.selectedFieldVerificationId=[],this.redressForm.patchValue({remarks:"",document:"",recommendFor:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(){this.isDownloadingInProgress=!0,this.page=1;let i=`/v1/provisional-published-list-pdf?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.searchValue&&(i+=`&search=${this.searchValue}`),this.selectedVillage&&(i+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(i+=`&fv_status_date=${this.selectedDate}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.isDownloadingInProgress=!1,this.downloadFile(a,this.tab==1?"eligible_application.pdf":this.tab==2?"ineligible_application.pdf":"objected_applications.pdf")},a=>{this.isDownloadingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=[i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}handleDisposalSubmit(){if(this.disposalForm.invalid){this.formService.triggerFormValidation(this.disposalForm);return}if(!this.selectedReasons?.length){this.toastService.error("Please select reason to dispose");return}let i=this.disposalForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);kt.default.fire({title:"Are You sure ?",html:`You want to dispose the application of <b>${a.applicant_name}</b> as ${i.recommendFor==="eligible"?"<b>Eligible</b>":"<b>Ineligible</b>"} for Subhadra.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{kt.default.showLoading();let l=new FormData;if(l.append("remarks",i.remarks),l.append("status",i.recommendFor),l.append("application_id",a?.application_id),l.append("gp_id",this.gp_id),l.append("category","1"),i.recommendFor==="eligible")if(this.selectedReasons&&this.selectedReasons.length>0)l.append("eligible_reasons",this.selectedReasons.join(","));else{this.toastService.error("Please select valid reasons for eligibility."),this.isFormSubmitInProgress=!1;return}else if(i.recommendFor==="ineligible")if(this.selectedReasons&&this.selectedReasons.length>0)l.append("ineligible_reasons",this.selectedReasons.join(","));else{this.toastService.error("Please select valid reasons for ineligibility."),this.isFormSubmitInProgress=!1;return}this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/redress-objected-application`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("disposeModalClose")?.click(),kt.default.close(),this.selectedFieldVerificationId=[],this.disposalForm.patchValue({remarks:"",reasons:"",recommendFor:"",meetingDate:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.resetForms()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message),this.resetForms()})}}).then(l=>{l.dismiss,kt.default.DismissReason.cancel})}getSelectedReasons(i){return i.filter((a,l)=>this.disposalForm.get(`reason${l}`)?.value).map(a=>a.reason_id)}openObjectionsModal(i){if(!i){console.error("Application number is required");return}let a=`${this.appService.departmentBaseUrl}/v1/objection-list/by-application-number?application_number=${i}`;this.isDataLoading=!0,this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDataLoading=!1,this.objectionsList=l.data||[]},l=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}onReasonChange(i,a){if(i.target.checked)this.selectedReasons.push(a);else{let l=this.selectedReasons.indexOf(a);l!==-1&&this.selectedReasons.splice(l,1)}}onRecommendationChange(i){this.displayReasons=!0,i!==this.disposalForm.value.recommendFor&&this.disposalForm.reset()}showMoveBackButton(){if(this.selectedFieldVerificationId[0]){let i=this.fieldVerificationsList.find(a=>a.id===this.selectedFieldVerificationId[0]);return!!(i?.block_or_ulb_status&&i?.log_status==1)}return!1}handleMoveBack(){let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);kt.default.fire({title:"Are You sure ?",html:`You want to move <b>${i.applicant_name}</b>, from ${this.tab===2?"<b>Ineligible</b>":"<b>Eligible</b>"} to ${this.tab===2?"<b>Eligible</b>":"<b>Ineligible</b>"}.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{kt.default.showLoading(),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/revert-field-verification-status-log?log_id=${i?.log_id}`,{},{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.isFormSubmitInProgress=!1,this.toastService.success(a.message),kt.default.close(),this.resetFormState(),this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1)),this.resetForms()},a=>{this.isFormSubmitInProgress=!1;let l=a?.error?.message||"An error occurred while processing your request.";this.toastService.error(l),this.resetForms()})}}).then(a=>{a.dismiss,kt.default.DismissReason.cancel})}openHyperlinkModal(i){let a=`${this.appService.departmentBaseUrl}/v1/field-verification/move-log?field_verification_id=${i}`;this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{console.log("API Response:",l),this.fieldVerificationData=J(H({},l),{application_number:this.fieldVerificationsList.find(g=>g.application_id==l?.application_id)?.application_number});let c=[];this.fieldVerificationData?.eligible_reasons&&(c=this.fieldVerificationData?.eligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForEligibility.filter(g=>c.includes(g.reason_id))),this.fieldVerificationData?.ineligible_reasons&&(c=this.fieldVerificationData?.ineligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForInEligibility.filter(g=>c.includes(g.reason_id))),document.getElementById("hyperlinkModalClose")?.click();let S=document.getElementById("hyperlinkModal");S?new j(S).show():console.error("Modal element 'hyperlinkModal' not found.")},l=>{console.error("Error fetching data:",l)})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(Ne),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-gp-pending-hold-applications-stats"]],decls:85,vars:13,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],[1,"form-control","form-select",3,"value","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"d-flex","justify-content-between","pr-5"],[1,"col-md-8","row","mt-3","mb-3"],[1,"col-md-3","text-sm","d-flex","gap-2"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["id","objectionsModal","tabindex","-1","aria-labelledby","objectionsModalLabel","aria-hidden","true",1,"modal","fade","custom-modal-position"],[1,"modal-dialog","modal-xl",2,"max-width","70%","left","0%"],[1,"modal-content"],[1,"modal-header"],["id","objectionsModalLabel",1,"modal-title","text-center","w-100",2,"color","#fd7b03","width","100%","text-align","center"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","objectionModalClose",1,"btn-close"],[1,"modal-body",2,"max-height","70vh","overflow-y","scroll"],[1,"table-responsive"],[1,"table"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],[3,"value"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"table-responsive","mt-4"],["class","table",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[2,"font-size","14px","font-weight","620"],[2,"width","5%"],[2,"font-size","14px"],[2,"text-transform","uppercase"],[1,"text-center"],[1,"far","fa-file-alt",3,"routerLink","ngClass","click"],["data-bs-toggle","modal","data-bs-target","#objectionsModal",1,"btn","btn-link","fas","fa-eye",2,"cursor","pointer","color","#007bff","border","none","background","transparent",3,"click"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"mt-6","text-center"],["type","button",1,"fas","fa-file",2,"cursor","pointer","color","#007bff",3,"click"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16,"Village"),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.handleVillageChange(f)}),o(20,"option",16),s(21,"All"),n(),h(22,KT,2,2,"option",17),n()()(),o(23,"div",11)(24,"div",12)(25,"label",13),s(26," FET Date "),o(27,"span",14),s(28,"*"),n()(),o(29,"input",18),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(30,"div",19)(31,"div",20)(32,"div",21)(33,"div",22),s(34," Pending Objection List (Non NFSA / SFSS) "),n(),o(35,"div",23)(36,"div",24)(37,"input",25),x("change",function(f){return l.handleSearchChange(f)}),n(),u(38,"i",26),n()()(),o(39,"nav",27)(40,"ol",28)(41,"li",29),s(42),n(),h(43,JT,2,1,"li",30)(44,XT,2,1,"li",30),n()(),o(45,"div",31)(46,"div",32),u(47,"div",33),n()(),o(48,"div",34)(49,"div",35)(50,"div",36)(51,"span"),s(52,"Total No. of Applications : "),n(),o(53,"span",37),s(54),n()()()(),h(55,QT,3,0,"div",38)(56,dk,3,1),n()(),o(57,"div",39)(58,"div",40)(59,"div",41)(60,"div",42)(61,"h5",43),s(62,"Objections"),n(),u(63,"button",44),n(),o(64,"div",45)(65,"div",46)(66,"table",47)(67,"thead")(68,"tr")(69,"th"),s(70,"SN"),n(),o(71,"th",48),s(72,"Objection Date"),n(),o(73,"th",48),s(74,"Objection Ref. No."),n(),o(75,"th",48),s(76,"Objection Filed By"),n(),o(77,"th",48),s(78,"Objection Reasons"),n(),o(79,"th",48),s(80,"Objection Details"),n(),o(81,"th",48),s(82,"Status"),n()()(),o(83,"tbody"),h(84,ck,15,5,"tr",49),n()()()()()()()()),a&2&&(d(4),ce("routerLink","/department/portal/approval-module/pending-hold/district-stats/gp-stats/",l.district_id,"/",l.block_id,""),d(15),m("value",l.selectedVillage),d(3),m("ngForOf",l.villageList),d(7),m("value",l.selectedDate)("max",l.today),d(8),m("value",l.searchValue),d(5),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.gp_nameorWardNo),d(10),T(" ",l.totalApplicants,""),d(1),w(55,l.isStatsLoading?55:56),d(29),m("ngForOf",l.objectionsList))},dependencies:[xt,A,P,W,se,Ie,Te,le,Fe],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}.modal-xl[_ngcontent-%COMP%]{max-width:78%}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}@media (max-width: 768px){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;padding:.5rem}}.table-responsive[_ngcontent-%COMP%]{overflow-x:scroll}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}.custom-modal-position[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{top:22%;left:8.5%;transform:translateY(-50%);position:relative}#modal1[_ngcontent-%COMP%]{max-width:80%;left:8.5%}.input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#input_raw[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}#input_raw[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px;border:1px solid #ccc;border-radius:4px;padding:0 10px;font-size:14px;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#fd7b03;box-shadow:0 0 4px #fd7b0380;outline:none}#input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#modal2[_ngcontent-%COMP%]{max-width:80%;top:-22%;left:7.5%}"]});let t=r;return t})();var Ot=B(Ht());var Bd=B(me());function mk(t,r){if(t&1&&(o(0,"li",45),s(1),n()),t&2){let e=p();d(1),_(e.ulb_name)}}function pk(t,r){if(t&1&&(o(0,"li",45),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function uk(t,r){t&1&&(o(0,"div",46),u(1,"i",47),s(2," We are fetching the data, please wait. "),n())}var hk="/department/portal/approval-module/pending-hold/district-stats/field-verification-report",fk=t=>[hk,t],_k=t=>({"disabled-link":t});function gk(t,r){if(t&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td",54),s(6),n(),o(7,"td",54),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td",55)(14,"a",56),x("click",function(a){return a.preventDefault()}),n()(),o(15,"td",55)(16,"button",57),x("click",function(){let l=C(e).$implicit,c=p(4);return y(c.openObjectionsModal(l==null?null:l.application_number))}),n()()()}if(t&2){let e=r.$implicit,i=r.index,a=p(4);d(2),_(i+1),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.fv_status_date)),d(2),_(e==null?null:e.fetStatus),d(2),et("pointer-events",e!=null&&e.id?"auto":"none"),m("routerLink",e!=null&&e.id?_e(11,fk,+(e==null?null:e.id)):null)("ngClass",_e(13,_k,!(e!=null&&e.id))),Ze("aria-disabled",!(e!=null&&e.id))}}function bk(t,r){if(t&1&&(o(0,"table",42)(1,"thead",51)(2,"tr")(3,"th",52),s(4," SN "),n(),o(5,"th",43),s(6,"Application No."),n(),o(7,"th",43),s(8,"Applicant Name"),n(),o(9,"th",43),s(10,"Father/Husband Name"),n(),o(11,"th",43),s(12,"FET Date"),n(),o(13,"th",43),s(14,"FET Status"),n(),o(15,"th",43),s(16,"FET Report"),n(),o(17,"th",43),s(18,"Objections"),n()()(),o(19,"tbody",53),h(20,gk,17,15,"tr",44),n()()),t&2){let e=p(3);d(20),m("ngForOf",e.fieldVerificationsList)}}function vk(t,r){t&1&&(o(0,"span"),u(1,"i",47),s(2," Loading..."),n())}function xk(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function Sk(t,r){if(t&1){let e=E();o(0,"div",58)(1,"button",59),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,vk,3,0,"span",60)(3,xk,2,0,"span",60),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function Ck(t,r){if(t&1&&(o(0,"div",48),h(1,bk,21,1,"table",49),n(),h(2,Sk,4,2,"div",50)),t&2){let e=p(2);d(1),m("ngIf",e.tab===3),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!==e.totalApplicants)}}function yk(t,r){t&1&&(o(0,"h5",61),s(1," No Application Found "),n())}function wk(t,r){if(t&1&&(o(0,"div"),h(1,Ck,3,2)(2,yk,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}function Ek(t,r){if(t&1){let e=E();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td",55)(12,"a",62),x("click",function(){let l=C(e).$implicit,c=p();return y(c.handleRedirect(l==null?null:l.grievance_ref_no))}),n()(),o(13,"td"),s(14,"Pending"),n()()}if(t&2){let e=r.$implicit,i=r.index,a=p();d(2),_(i+1),d(2),_(a.appService.dateFormat(e.created_at)),d(2),T("GR-",e.grievance_ref_no,""),d(2),_(e.submitted_by),d(2),_(a.getGrievanceTypeName(e.grievance_remark_type_id))}}var Ua=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F,L){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.router=F,this.paginationService=L,this.displayReasons=!1,this.reasonsForEligibility=[{reason_id:"13",eligible_reasons:"She is alive."},{reason_id:"12",eligible_reasons:"She is a female."},{reason_id:"11",eligible_reasons:"Her family\u2019s income is not more than Rs. 2.50 lakhs."},{reason_id:"10",eligible_reasons:"Her family does not owns a four-wheeler motor vehicle."},{reason_id:"9",eligible_reasons:"Her family does not owns more than 5 acres of irrigated or 10 acres of non-irrigated land."},{reason_id:"8",eligible_reasons:"She or any family member is not a member in a Govt. PSU/Board/Organization."},{reason_id:"7",eligible_reasons:"She or any family member is not employed with a Govt. Organization or receiving pension."},{reason_id:"6",eligible_reasons:"She or any family member is not an elected representative in an ULB/PRI."},{reason_id:"5",eligible_reasons:"She or any family member is not an Income Tax Payee."},{reason_id:"4",eligible_reasons:"She or any family member is not a current/former MP or MLA."},{reason_id:"3",eligible_reasons:"She does not receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Govt."},{reason_id:"2",eligible_reasons:"She is 21 years or above and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"1",eligible_reasons:"She is a resident of Odisha."}],this.reasonsForInEligibility=[{reason_id:"32",ineligible_reasons:"She is not alive."},{reason_id:"31",ineligible_reasons:"She is not a female."},{reason_id:"30",ineligible_reasons:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{reason_id:"29",ineligible_reasons:"Her family owns a four-wheeler motor vehicle."},{reason_id:"28",ineligible_reasons:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{reason_id:"27",ineligible_reasons:"She or a family member is a member in a Government PSU/Board/Organization."},{reason_id:"26",ineligible_reasons:"She or a family member is employed with a Government Organization or receives a pension."},{reason_id:"25",eligible_reasons:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{reason_id:"24",ineligible_reasons:"She or a family member is an Income Tax Payee."},{reason_id:"23",ineligible_reasons:"She or a family member is a current/former MP or MLA."},{reason_id:"22",ineligible_reasons:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{reason_id:"21",ineligible_reasons:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"20",ineligible_reasons:"She is not a resident of Odisha."}],this.reasonsList=[],this.alreadySelectedReasons=[],this.fieldVerificationData="",this.selectedReasons=[],this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.proceedingList=[],this.isStatsLoading=!1,this.selectAll=!1,this.isDownloadingInProgress=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.recommendConfirmationModalstage=1,this.isDataLoading=!1,this.objectionsList=[],this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=3,this.ulb_name="",this.exportInProgress=!1,this.ulb_id="",this.ineligibleReasons=[],this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",k.pattern(/.*\S.*/)],reasons:this.fb.group({})}),this.recommedationForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]]}),this.disposalForm=this.fb.group({remarks:["",k.pattern(/.*\S.*/)],reasons:this.fb.group({}),recommendFor:["",k.required]})}setTab(i){this.tab=i,this.page=1,this.selectedFieldVerificationId=[],this.searchValue="",this.selectedCategory="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.router.navigate([],{relativeTo:this.route,queryParams:{tab:i},queryParamsHandling:"merge"})}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate))}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}let a=`/proceeding/list?ulb_id=${this.ulb_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDownloadingInProgress=!1,this.proceedingList=l.data},l=>{this.isDownloadingInProgress=!1,console.error("File download failed:",l)})}handleRedirect(i){let a=`/department/portal/department-grievance/grievance-aadhar-verify/user-grievance-details/${i}`;window.open(a,"_blank")}getGrievanceTypeName(i){let a=[{id:1,reason:"Unable to submit application"},{id:2,reason:"Application status not updated"},{id:3,reason:"Application details incorrect"},{id:4,reason:"Application details incorrect"},{id:5,reason:"Application details incorrect"},{id:6,reason:"Verification Pending*"},{id:7,reason:"Wrongly marked ineligible/rejected & appeal against rejection"},{id:8,reason:"Haven\u2019t received the benefit yet"},{id:9,reason:"Wrongly marked eligible & appeal against approval"},{id:10,reason:"Benefit transferred to ineligible applicant"},{id:11,reason:"Benefit transferred to non-applicant"},{id:12,reason:"Application details incorrect"},{id:13,reason:"Application details incorrect"},{id:14,reason:"Application details incorrect"},{id:15,reason:"Application details incorrect"},{id:16,reason:"Application details incorrect"},{id:17,reason:"Application details incorrect"}];return i?a?.find(l=>l?.id==i)?.reason:"N/A"}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetForms();return}this.selectedImage=a}setSmallselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=600*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 600 Kb."),this.resetForms();return}this.selectedImage=a}resetForms(){this.selectedImage="",this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.disposalForm.patchValue({document:""}),this.assignFieldOfficerForm.patchValue({remarks:"",meetingDate:"",reasons:""}),this.assignFieldOfficerForm.get("reasons")&&this.assignFieldOfficerForm.get("reasons").reset(),this.recommedationForm.updateValueAndValidity(),this.disposalForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedReasons=[]}setmoveStatus(i){this.moveStatus=i,this.assignFieldOfficerForm.patchValue({remarks:"",meetingDate:"",reasons:""}),i=="eligible"?(this.selectedReasons=this.reasonsForEligibility.map(a=>a?.reason_id),this.fetchFieldVerificationDetails()):this.selectedReasons=[],this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.assignFieldOfficerForm)}fetchFieldVerificationDetails(){let i=`${this.appService.departmentBaseUrl}/v1/fv-completed-details?fvId=${this.selectedFieldVerificationId[0]}`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{let l=a.data[0],c=JSON.parse(l.declaration_ids);c&&(this.ineligibleReasons=c?.filter(f=>f.status==0))},a=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}getDeclarationLabel(i){return this.fieldVerification.declarations.find(a=>Number(a?.id)===Number(i))?.declaration}openModal(){this.disposalForm.patchValue({remarks:"",reasons:"",recommendFor:"",meetingDate:""}),this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.assignFieldOfficerForm.patchValue({remarks:"",meetingDate:"",reasons:""}),this.selectedImage="",this.disposalForm.updateValueAndValidity(),this.recommedationForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.resetTouchedStatus(this.disposalForm),this.resetTouchedStatus(this.recommedationForm),this.resetTouchedStatus(this.assignFieldOfficerForm)}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.ward_id=i.ward_id,this.ulb_id=i.ulb_id,this.district_id=i.district_id,this.district_name=$.data.find(c=>c?.id==this.district_id)?.district_name,this.ulb_name=he.data.find(c=>c?.id==this.ulb_id)?.ulb_name,this.gp_nameorWardNo=He.data.find(c=>String(c?.id)===this.ward_id)?.ward_no;let l=this.paginationService.getData("ward_id",this.ward_id,"FieldVerifiedHoldTab",this.authService.userDetail.demography_id);l?(this.fieldVerificationsList=l.data,this.page=l.page,this.totalApplicants=l.totalCount):this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}),this.today=(0,Bd.default)().format("YYYY-MM-DD")}goBack(){this.location.back()}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("recommendationConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("recommendModal");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){return i=="heading"?this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?":i=="body"?this.recommendConfirmationModalstage==1?`You have selected <b>${this.totalApplicants}</b> application(s) to be recommended for ${this.tab==1?"Approval":"Rejection"}. Are you sure to proceed ahead with these application(s) ?`:`<b>${this.totalApplicants}</b> no. of applications recommended for ${this.tab==1?"Approval":"Rejection"} are matching up with the proceedings of BLSC/ULSC/MLSC (as applicable). This decision is final and no further changes can be made.`:""}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}document.getElementById("recommendFormClose")?.click();let a=document.getElementById("recommendationConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.recommedationForm.value,a=new FormData;a.append("remarks",i.remarks),a.append("category","1"),a.append("ward_id",this.ward_id);let l="";this.tab==2&&(l="/v1/recommend-fv-for-ineligible"),this.tab==1&&(l="/v1/recommend-fv-for-eligible"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message);let f=document.getElementById("recommendationConfirmationModal");f&&((j.getInstance(f)||new j(f)).hide(),document.getElementById("recommendFormClose")?.click()),this.recommendConfirmationModalstage=1,this.selectedFieldVerificationId=[],this.recommedationForm.patchValue({remarks:"",meetingDate:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}handleEligibleIneligible(){this.selectedReasons=[]}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/provisional-published-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}return J(H({},I),{fetStatus:F})}),this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,1,"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,v.totalCount),this.eligibleCount=v.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/provisional-published-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}return J(H({},L),{fetStatus:N})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F],this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,this.page,"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,I.totalCount)}this.eligibleCount=I.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}handleSubmit(){if(this.assignFieldOfficerForm.invalid){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}if(!this.selectedReasons.length){this.toastService.error("Please select reasons to move.");return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);if(!a){this.toastService.error("Selected field verification details are missing.");return}Ot.default.fire({title:"Are You sure ?",html:`You want to move <b>${a.applicant_name}</b>, from ${this.tab===2?"<b>Ineligible</b>":"<b>Eligible</b>"} to ${this.tab===2?"<b>Eligible</b>":"<b>Ineligible</b>"}.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Ot.default.showLoading();let l=new FormData;l.append("remarks",i.remarks||""),l.append("application_id",a?.application_id||""),l.append("field_verification_id",a?.id||""),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="eligible"?"3":"4"),this.moveStatus==="eligible"?l.append("eligible_reasons",this.selectedReasons.join(",")):l.append("ineligible_reasons",this.selectedReasons.join(",")),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/move-field-verification-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("BtnClose")?.click(),this.resetFormState(),this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1)),this.resetForms()},c=>{this.isFormSubmitInProgress=!1;let f=c?.error?.message||"An error occurred while processing your request.";this.toastService.error(f),this.resetForms()})}}).then(l=>{l.dismiss,Ot.default.DismissReason.cancel})}fetchApplicationListTabWise(i,a,l,c,f,S){this.page=1;let g=`/v1/provisional-published-list?isAll=0&type=${S==1?"eligible":S==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{let I=v.data.map(F=>{let L="";switch(F.fv_status){case"1":L="Eligible";break;case"0":case"3":L="Ineligible";break;default:L="N/A"}return J(H({},F),{fetStatus:L})});this.paginationService.setData("ward_id",this.ward_id,I,1,"FieldVerifiedHoldTab",this.authService.userDetail.demography_id,v.totalCount)},v=>{this.isStatsLoading=!1})}handleDisposalSubmit(){if(this.disposalForm.invalid){this.formService.triggerFormValidation(this.disposalForm);return}if(!this.selectedReasons?.length){this.toastService.error("Please select reason to dispose");return}let i=this.disposalForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);Ot.default.fire({title:"Are You sure ?",html:`You want to dispose the application of <b>${a.applicant_name}</b> as ${i.recommendFor==="eligible"?"<b>Eligible</b>":"<b>Ineligible</b>"} for Subhadra.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Ot.default.showLoading();let l=new FormData;if(l.append("remarks",i.remarks),l.append("status",i.recommendFor),l.append("application_id",a?.application_id),l.append("ward_id",this.ward_id),l.append("category","1"),i.recommendFor==="eligible")if(this.selectedReasons&&this.selectedReasons.length>0)l.append("eligible_reasons",this.selectedReasons.join(","));else{this.toastService.error("Please select valid reasons for eligibility."),this.isFormSubmitInProgress=!1;return}else if(i.recommendFor==="ineligible")if(this.selectedReasons&&this.selectedReasons.length>0)l.append("ineligible_reasons",this.selectedReasons.join(","));else{this.toastService.error("Please select valid reasons for ineligibility."),this.isFormSubmitInProgress=!1;return}this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/redress-objected-application`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("disposeModalClose")?.click(),Ot.default.close(),this.selectedFieldVerificationId=[],this.disposalForm.patchValue({remarks:"",reasons:"",recommendFor:"",meetingDate:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.resetForms()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message),this.resetForms()})}}).then(l=>{l.dismiss,Ot.default.DismissReason.cancel})}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(){this.isDownloadingInProgress=!0,this.page=1;let i=`/v1/provisional-published-list-pdf?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.searchValue&&(i+=`&search=${this.searchValue}`),this.selectedVillage&&(i+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(i+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(i+=`&fv_status=${this.selectedStatus}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.isDownloadingInProgress=!1,this.downloadFile(a,this.tab==1?"eligible_application.pdf":this.tab==2?"ineligible_application.pdf":"objected_applications.pdf")},a=>{this.isDownloadingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=[i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}openObjectionsModal(i){if(!i){console.error("Application number is required");return}let a=`${this.appService.departmentBaseUrl}/v1/objection-list/by-application-number?application_number=${i}`;this.isDataLoading=!0,this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.isDataLoading=!1,this.objectionsList=l.data||[]},l=>{this.isDataLoading=!1,this.toastService.error("Failed to load objections. Please try again later.")})}onReasonChange(i,a){if(i.target.checked)this.selectedReasons.push(a);else{let l=this.selectedReasons.indexOf(a);l!==-1&&this.selectedReasons.splice(l,1)}}resetFormState(){this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.reset({remarks:"",meetingDate:""}),this.selectedImage=null}onRecommendationChange(i){this.displayReasons=!0,i!==this.disposalForm.value.recommendFor&&this.disposalForm.reset()}showMoveBackButton(){if(this.selectedFieldVerificationId[0]){let i=this.fieldVerificationsList.find(a=>a.id===this.selectedFieldVerificationId[0]);return!!(i?.block_or_ulb_status&&i?.log_status==1)}return!1}handleMoveBack(){let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);Ot.default.fire({title:"Are You sure ?",html:`You want to move <b>${i.applicant_name}</b>, from ${this.tab===2?"<b>Ineligible</b>":"<b>Eligible</b>"} to ${this.tab===2?"<b>Eligible</b>":"<b>Ineligible</b>"}.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{Ot.default.showLoading(),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/revert-field-verification-status-log?log_id=${i?.log_id}`,{},{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.isFormSubmitInProgress=!1,this.toastService.success(a.message),Ot.default.close(),this.resetFormState(),this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1)),this.resetForms()},a=>{this.isFormSubmitInProgress=!1;let l=a?.error?.message||"An error occurred while processing your request.";this.toastService.error(l),this.resetForms()})}}).then(a=>{a.dismiss,Ot.default.DismissReason.cancel})}openHyperlinkModal(i){let a=`${this.appService.departmentBaseUrl}/v1/field-verification/move-log?field_verification_id=${i}`;this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fieldVerificationData=J(H({},l),{application_number:this.fieldVerificationsList.find(g=>g.application_id==l?.application_id)?.application_number});let c=[];this.fieldVerificationData?.eligible_reasons&&(c=this.fieldVerificationData?.eligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForEligibility.filter(g=>c.includes(g.reason_id))),this.fieldVerificationData?.ineligible_reasons&&(c=this.fieldVerificationData?.ineligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForInEligibility.filter(g=>c.includes(g.reason_id))),document.getElementById("hyperlinkModalClose")?.click();let S=document.getElementById("hyperlinkModal");S?new j(S).show():console.error("Modal element 'hyperlinkModal' not found.")},l=>{console.error("Error fetching data:",l)})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(Ne),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-ward-pending-hold-applications-stats"]],decls:73,vars:11,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"d-flex","justify-content-between","pr-5"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["id","objectionsModal","tabindex","-1","aria-labelledby","objectionsModalLabel","aria-hidden","true",1,"modal","fade","custom-modal-position"],[1,"modal-dialog","modal-xl",2,"max-width","70%","left","0%"],[1,"modal-content"],[1,"modal-header"],["id","objectionsModalLabel",1,"modal-title","text-center","w-100",2,"color","#fd7b03","width","100%","text-align","center"],["type","button","data-bs-dismiss","modal","aria-label","Close","id","objectionModalClose",1,"btn-close"],[1,"modal-body",2,"max-height","70vh","overflow-y","scroll"],[1,"table-responsive"],[1,"table"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"table-responsive","mt-4"],["class","table",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[2,"font-size","14px","font-weight","620"],[2,"width","5%"],[2,"font-size","14px"],[2,"text-transform","uppercase"],[1,"text-center"],[1,"far","fa-file-alt",3,"routerLink","ngClass","click"],["data-bs-toggle","modal","data-bs-target","#objectionsModal",1,"btn","btn-link","fas","fa-eye",2,"cursor","pointer","color","#007bff","border","none","background","transparent",3,"click"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"mt-6","text-center"],["type","button",1,"fas","fa-file",2,"cursor","pointer","color","#007bff",3,"click"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16," FET Date "),o(17,"span",14),s(18,"*"),n()(),o(19,"input",15),x("change",function(f){return l.onDateChange(f)}),n()()()()(),o(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19),s(24," Pending Objection List (Non NFSA / SFSS) "),n(),o(25,"div",20)(26,"div",21)(27,"input",22),x("change",function(f){return l.handleSearchChange(f)}),n(),u(28,"i",23),n()()(),o(29,"nav",24)(30,"ol",25)(31,"li",26),s(32),n(),h(33,mk,2,1,"li",27)(34,pk,2,1,"li",27),n()(),u(35,"div",28),o(36,"div",29)(37,"div",30)(38,"div",31)(39,"span"),s(40,"Total No. of Applications : "),n(),o(41,"span",32),s(42),n()()()(),h(43,uk,3,0,"div",33)(44,wk,3,1),n()(),o(45,"div",34)(46,"div",35)(47,"div",36)(48,"div",37)(49,"h5",38),s(50,"Objections"),n(),u(51,"button",39),n(),o(52,"div",40)(53,"div",41)(54,"table",42)(55,"thead")(56,"tr")(57,"th"),s(58,"SN"),n(),o(59,"th",43),s(60,"Objection Date"),n(),o(61,"th",43),s(62,"Objection Ref. No."),n(),o(63,"th",43),s(64,"Objection Filed By"),n(),o(65,"th",43),s(66,"Objection Reasons"),n(),o(67,"th",43),s(68,"Objection Details"),n(),o(69,"th",43),s(70,"Status"),n()()(),o(71,"tbody"),h(72,Ek,15,5,"tr",44),n()()()()()()()()),a&2&&(d(4),ce("routerLink","/department/portal/approval-module/pending-hold/district-stats/ward-stats/",l.district_id,"/",l.ulb_id,""),d(15),m("value",l.selectedDate)("max",l.today),d(8),m("value",l.searchValue),d(5),_(l.district_name),d(1),m("ngIf",l.ulb_name),d(1),m("ngIf",l.gp_nameorWardNo),d(8),T(" ",l.totalApplicants,""),d(1),w(43,l.isStatsLoading?43:44),d(29),m("ngForOf",l.objectionsList))},dependencies:[xt,A,P,W,se,le,Fe],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}.modal-xl[_ngcontent-%COMP%]{max-width:78%}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}@media (max-width: 768px){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;padding:.5rem}}.table-responsive[_ngcontent-%COMP%]{overflow-x:scroll}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}.custom-modal-position[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{top:22%;left:8.5%;transform:translateY(-50%);position:relative}#modal1[_ngcontent-%COMP%]{max-width:80%;left:8.5%}.input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#input_raw[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}#input_raw[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px;border:1px solid #ccc;border-radius:4px;padding:0 10px;font-size:14px;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#fd7b03;box-shadow:0 0 4px #fd7b0380;outline:none}#input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#modal2[_ngcontent-%COMP%]{max-width:80%;top:-22%;left:7.5%}"]});let t=r;return t})();var Ya=B(ve()),$d=B(Ut()),Ha=B(me());function Ik(t,r){t&1&&(o(0,"div",28),u(1,"i",29),s(2," We are fetching the data, please wait. "),n())}function Tk(t,r){if(t&1){let e=E();o(0,"div",39)(1,"input",40),x("ngModelChange",function(a){C(e);let l=p(2);return y(l.searchTerm=a)}),n(),u(2,"i",41),n()}if(t&2){let e=p(2);d(1),m("ngModel",e.searchTerm)}}function kk(t,r){if(t&1){let e=E();o(0,"button",42),x("click",function(){C(e);let a=p(2);return y(a.exportToPDF(a.filteredDistrictStats))}),u(1,"i",43),s(2,"Download "),n()}}function Lk(t,r){t&1&&(o(0,"button",44),u(1,"i",45),s(2,"Downloading... "),n())}function Fk(t,r){if(t&1&&(o(0,"a",54),s(1,"View Block"),n(),o(2,"a",55),s(3,"View ULB"),n()),t&2){let e=p(2).$implicit;Se("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/block-stats/",e==null?null:e.district_id,""),d(2),Se("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/ulb-stats/",e==null?null:e.district_id,"")}}function Dk(t,r){t&1&&(o(0,"a",56),s(1,"View Block"),n(),o(2,"a",57),s(3,"View ULB"),n())}function Ak(t,r){if(t&1&&(o(0,"td",53),h(1,Fk,4,2)(2,Dk,4,0),n()),t&2){let e=p().$implicit;d(1),w(1,e.hold_count?1:2)}}function Vk(t,r){if(t&1&&(o(0,"a",55),s(1,"View Ward"),n()),t&2){let e=p(2).$implicit;ce("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/ward-stats/",e.district_id,"/",e==null?null:e.ulb_id,"")}}function Pk(t,r){t&1&&(o(0,"a",57),s(1,"View Ward"),n())}function Mk(t,r){if(t&1&&(o(0,"td",53),h(1,Vk,2,2,"a",58)(2,Pk,2,0),n()),t&2){let e=p().$implicit;d(1),w(1,e!=null&&e.hold_count?1:2)}}function Rk(t,r){if(t&1&&(o(0,"tr",51)(1,"td",47),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),h(7,Ak,3,1,"td",52)(8,Mk,3,1,"td",52),n()),t&2){let e=r.$implicit,i=r.index;d(2),T(" ",i+1," "),d(2),_(e.district_name||e.ulb_name),d(2),_(e.hold_count||"0"),d(1),m("ngIf",!e.ulb_id),d(1),m("ngIf",e.ulb_id)}}function Ok(t,r){if(t&1&&(o(0,"tr",51),u(1,"td",47),o(2,"td",60),s(3,"GRAND TOTAL"),n(),o(4,"td",60),s(5),n(),u(6,"td"),n()),t&2){let e=p(4);d(5),T("",e.getGrandTotal("hold_count")," ")}}function jk(t,r){if(t&1&&h(0,Ok,7,1,"tr",59),t&2){let e=p(3);m("ngIf",e.filteredDistrictStats==null?null:e.filteredDistrictStats.length)}}function Bk(t,r){if(t&1&&(o(0,"table",46)(1,"thead")(2,"tr")(3,"th",47),s(4,"SN"),n(),o(5,"th",48),s(6,"District/MC"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,Rk,9,5,"tr",49)(13,jk,1,1,"tr",50),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredDistrictStats),d(1),w(13,(e.authService.userDetail==null||e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)==2?13:-1)}}function $k(t,r){t&1&&(o(0,"h5",61),s(1," No Data Found "),n())}function Nk(t,r){if(t&1&&(o(0,"div",30)(1,"div",31)(2,"div",32),s(3," Pending Reconsideration List "),n(),o(4,"div",33),h(5,Tk,3,1,"div",34),o(6,"div",35),h(7,kk,3,0,"button",36)(8,Lk,3,0),n()()(),o(9,"div",37),h(10,Bk,14,2,"table",38)(11,$k,2,0),n()()),t&2){let e=p();d(5),w(5,(e.authService.userDetail.role==null?null:e.authService.userDetail.role.id)=="2"?5:-1),d(2),w(7,e.isExportInProgress?8:7),d(3),w(10,e.filteredDistrictStats&&e.filteredDistrictStats.length>0?10:11)}}function Gk(t,r){if(t&1&&(o(0,"div",12)(1,"label",13),s(2,"Approve :"),n(),u(3,"input",15),n()),t&2){let e=p();d(3),m("value",e.getApplicationCounts("eligible"))}}function Wk(t,r){if(t&1&&(o(0,"div",12)(1,"label",13),s(2,"Reject :"),n(),u(3,"input",15),n()),t&2){let e=p();d(3),m("value",e.getApplicationCounts("ineligible"))}}function zk(t,r){if(t&1&&(o(0,"option",65),s(1),n()),t&2){let e=r.$implicit;m("value",e==null?null:e.id),d(1),_(e==null?null:e.proceding_number)}}function Uk(t,r){if(t&1&&(o(0,"select",62)(1,"option",63),s(2,"Select Proceeding No."),n(),h(3,zk,2,2,"option",64),n()),t&2){let e=p();d(3),m("ngForOf",e.proceedingList)}}function Hk(t,r){if(t&1&&(o(0,"option",65),s(1),n()),t&2){let e=r.$implicit;m("value",e==null?null:e.id),d(1),_(e==null?null:e.proceding_number)}}function Yk(t,r){if(t&1&&(o(0,"select",66)(1,"option",63),s(2,"Select Proceeding No."),n(),h(3,Hk,2,2,"option",64),n()),t&2){let e=p();d(3),m("ngForOf",e.proceedingList)}}function qk(t,r){t&1&&(o(0,"button",67),s(1," Submit "),n())}function Kk(t,r){t&1&&(o(0,"button",68),s(1," Submitting... "),u(2,"i",69),n())}Ya.default.vfs=$d.default.pdfMake.vfs;var Nd=(()=>{let r=class r{constructor(i,a,l,c,f,S,g){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.toastService=f,this.formService=S,this.fb=g,this.isFormSubmitInProgress=!1,this.generatingInProgress=!1,this.fetchingProceedingList=!1,this.fieldVerificationsList=[],this.proceedingList=[],this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.moveStatus="",this.selectedImage="",this.selectedGpId="",this.today="",this.district_id="",this.approvalForm=this.fb.group({meetingDate:["",k.required],proceedingNo:["",k.required],remarks:["",[k.pattern(/.*\S.*/),k.required]]})}ngOnInit(){this.today=(0,Ha.default)().format("YYYY-MM-DD"),this.route.queryParams.subscribe(i=>{this.type=+i.type}),this.fetchDrillDownList()}get filteredDistrictStats(){return this.searchTerm?this.drilldownStats.filter(i=>i?.district_name?.toLowerCase()?.includes(this?.searchTerm?.trim().toLowerCase())||i?.ulb_name?.toLowerCase()?.includes(this?.searchTerm?.trim()?.toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/recommended-district-count?isAll=0`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=[...i?.data||[],...i?.ulbData||[]]},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPDF(i){this.isExportInProgress=!0;let a="PENDING RECONSIDERATION LIST",l=new Date,c=`Timestamp: ${(0,Ha.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"District/MC",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:g.district_name||g.ulb_name||"",fontSize:9},{text:g.hold_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{body:f,widths:["20%","50%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Ya.default.createPdf(S).download("pending_reconsideration.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[i]}generateRandomList(){if(!this.district_id&&this.drilldownStats.length>0&&(this.district_id=this.drilldownStats[0]?.district_id),!this.district_id){this.toastService.error("No district selected for generating the list.");return}this.generatingInProgress=!0;let i=`${this.appService.departmentBaseUrl}/v1/district/recommended-random-list-pdf?district_id=${this.district_id}`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.generatingInProgress=!1,this.downloadFile(a,"generate_random_list")},a=>{this.generatingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetRecommedationForm();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetRecommedationForm();return}this.selectedImage=a}resetRecommedationForm(){this.selectedImage=""}setMoveStatus(i){this.moveStatus=i,this.approvalForm.patchValue({remarks:"",meetingDate:"",proceedingNo:""}),this.resetTouchedStatus(this.approvalForm)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}getGrandTotal(i){return this.filteredDistrictStats.reduce((l,c)=>l+c[i],0)}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.fetchingProceedingList=!0;let a=`/proceeding/list?block_id=${this.drilldownStats[0]?.district_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fetchingProceedingList=!1,this.proceedingList=l.data},l=>{this.fetchingProceedingList=!1,console.error("File download failed:",l)})}getApplicationCounts(i){let a=this.drilldownStats[0];if(i==="total")return a?.count;if(i==="eligible")return a?.eligible_count;if(i==="ineligible")return a?.ineligible_count}handleApprovalSubmit(){if(this.approvalForm.status==="INVALID"){this.formService.triggerFormValidation(this.approvalForm);return}let i=this.approvalForm.value,a=new FormData;a.append("meeting_date",i.meetingDate),a.append("remarks",i.remarks),a.append("category","1"),a.append("district_id",this.drilldownStats[0]?.district_id),a.append("proceeding_id",i.proceedingNo),a.append("user_id",this.authService?.userDetail?.demography_id);let l="";this.moveStatus=="approve"?l="/v1/review-approval-applications":l="/v1/review-rejection-applications",this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("approvalRejectModalClose")?.click(),this.selectedFieldVerificationId=[],this.approvalForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(K),b(Z),b(Q))},r.\u0275cmp=D({type:r,selectors:[["app-pending-reconsideration-district-stats"]],decls:58,vars:14,consts:[[1,"container","my-4"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],["id","approvalRejectModal","tabindex","-1","aria-labelledby","approvalModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"max-height","90vh","overflow","scroll"],[1,"modal-header"],["id","approvalModalLabel",1,"modal-title",2,"color","#fd7b03","text-align","center","width","100%"],["type","button","id","approvalRejectModalClose","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["id","myForm",3,"formGroup","submit"],[1,"mb-3","input_raw"],["for","dateInput",1,"form-label"],["type","date","id","dateInput","disabled","",1,"form-control",3,"value"],["type","text","id","dateInput","disabled","",1,"form-control",3,"value"],["class","mb-3 input_raw",4,"ngIf"],[1,"text-danger"],[1,"d-flex","flex-column","gap-1","w-100"],["formControlName","meetingDate","type","date","id","meetingDate",1,"form-control",2,"text-transform","uppercase",3,"change"],[3,"field"],["class","form-control form-select","formControlName","proceedingNo","id","proceedingNo",4,"ngIf"],["class","form-control form-select","disabled","",4,"ngIf"],["formControlName","remarks","id","remarks","placeholder","200 Characters only","maxlength","200",1,"form-control",2,"resize","none","height","100px"],[1,"modal-footer","d-flex","justify-content-center"],[1,"row","mb-3","d-flex","align-items-center"],[1,"col-6","col-md-3","offset-md-4","text-center"],["type","submit","class","btn bg-btn d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"row","d-flex","align-items-center","header_container"],[1,"mb-2","mb-md-0","header-title",2,"color","#fd7b03","font-weight","640","font-size","large","white-space","nowrap"],[1,"d-flex","flex-wrap","justify-content-md-end","align-items-center","header-buttons"],["class","search-box me-2","style","flex-grow: 1; max-width: 30%"],[1,"col-md-2","text-sm-end"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex;align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Enter District Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom"],[1,"tr-border-bottom"],["class","d-flex",4,"ngIf"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"],[1,"btn","btn-sm","btn-primary","ms-1",2,"white-space","nowrap",3,"routerLink"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary",2,"white-space","nowrap"],["type","button","disabled","",1,"btn","btn-sm","btn-secondary","ms-1",2,"white-space","nowrap"],["style","white-space: nowrap;","class","btn btn-sm btn-primary ms-1",3,"routerLink"],["class","tr-border-bottom",4,"ngIf"],[1,"fw-bold"],[1,"mt-6","text-center"],["formControlName","proceedingNo","id","proceedingNo",1,"form-control","form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["disabled","",1,"form-control","form-select"],["type","submit",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center"],["type","button","disabled","",1,"btn","bg-btn","d-flex","justify-content-center","align-items-center",2,"width","max-content","white-space","nowrap"],[1,"fa-solid","fa-spinner","fa-spin","ms-1"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),h(3,Ik,3,0,"div",3)(4,Nk,12,3),n()()(),o(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"h5",8),s(10),n(),u(11,"button",9),n(),o(12,"div",10)(13,"form",11),x("submit",function(){return l.handleApprovalSubmit()}),o(14,"div",12)(15,"label",13),s(16),n(),u(17,"input",14),n(),o(18,"div",12)(19,"label",13),s(20,"No. of Applications :"),n(),u(21,"input",15),n(),h(22,Gk,4,1,"div",16)(23,Wk,4,1,"div",16),o(24,"div",12)(25,"label",13),s(26,"Meeting Date "),o(27,"span",17),s(28,"*"),n(),s(29," :"),n(),o(30,"div",18)(31,"input",19),x("change",function(f){return l.onProceedingDateChange(f)}),n(),u(32,"app-form-error",20),n()(),o(33,"div",12)(34,"label",13),s(35,"Proceeding No. "),o(36,"span",17),s(37,"*"),n(),s(38," :"),n(),o(39,"div",18),h(40,Uk,4,1,"select",21)(41,Yk,4,1,"select",22),u(42,"app-form-error",20),n()(),o(43,"div",12)(44,"label",13),s(45,"Remarks "),o(46,"span",17),s(47,"*"),n(),s(48," :"),n(),o(49,"div",18)(50,"textarea",23),s(51,"                    "),n(),u(52,"app-form-error",20),n()(),o(53,"div",24)(54,"div",25)(55,"div",26),h(56,qk,2,0,"button",27)(57,Kk,3,0),n()()()()()()()()),a&2){let c,f;d(3),w(3,l.isStatsLoading?3:4),d(7),_(l.moveStatus=="approve"?"Finally Approve Form":"Finally Reject Form"),d(3),m("formGroup",l.approvalForm),d(3),T("",l.moveStatus=="approve"?"Approval":"Rejection"," Date :"),d(1),m("value",l.today),d(4),m("value",l.getApplicationCounts("total")),d(1),m("ngIf",l.moveStatus=="approve"),d(1),m("ngIf",l.moveStatus=="reject"),d(9),m("field",l.approvalForm.get("meetingDate")),d(8),m("ngIf",(c=l.approvalForm.get("meetingDate"))==null?null:c.value),d(1),m("ngIf",!((f=l.approvalForm.get("meetingDate"))!=null&&f.value)),d(1),m("field",l.approvalForm.get("proceedingNo")),d(10),m("field",l.approvalForm.get("remarks")),d(4),w(56,l.isFormSubmitInProgress?57:56)}},dependencies:[A,P,W,se,Ie,Te,Y,ut,U,le,St,X,Ee,Ve,Re],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.header_container[_ngcontent-%COMP%]{width:100%;display:flex!important}.header-title[_ngcontent-%COMP%]{width:15%}.header-buttons[_ngcontent-%COMP%]{width:85%}@media screen and (max-width: 480px){.header_container[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important}.header-title[_ngcontent-%COMP%], .header-buttons[_ngcontent-%COMP%]{width:100%}}"]});let t=r;return t})();var Gd=B(ve());var Wd=B(me());function Jk(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function Xk(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function Qk(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function Zk(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/gp-stats/",i.district_id,"/",e==null?null:e.block_id,"")}}function eL(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function tL(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,Zk,2,2,"a",35)(9,eL,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),T(" ",i+1," "),d(2),_(e.block_name),d(2),_(e.hold_count||"0"),d(2),m("ngIf",e==null?null:e.hold_count),d(1),m("ngIf",!(e!=null&&e.hold_count))}}function iL(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("hold_count")," ")}}function nL(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN "),n(),o(5,"th",31),s(6,"Block"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,tL,10,5,"tr",32)(13,iL,7,1,"tr",33),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function oL(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function aL(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Pending Reconsideration List "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,Xk,3,0,"button",22)(15,Qk,3,0),n()()(),o(16,"div",23),h(17,nL,14,2,"table",24)(18,oL,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var zd=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fieldVerificationsList=[],this.selectedFieldVerificationId=[],this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.block_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/recommended-block-count?isAll=0&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="PENDING RECONSIDERATION LIST",l=new Date,c=`Timestamp: ${(0,Wd.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:g.block_name||"",fontSize:9},{text:g.hold_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Gd.default.createPdf(S).download("pending_reconsideration.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-pending-reconsideration-block-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats","type","button",1,"me-2"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Block Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,Jk,3,0,"div",9)(11,aL,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var Ud=B(ve());var Hd=B(me());function rL(t,r){t&1&&(o(0,"div",10),u(1,"i",11),s(2," We are fetching the data, please wait. "),n())}function lL(t,r){if(t&1){let e=E();o(0,"button",25),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",26),s(2,"Download "),n()}}function sL(t,r){t&1&&(o(0,"button",27),u(1,"i",28),s(2,"Downloading... "),n())}function dL(t,r){if(t&1&&(o(0,"a",37),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);ce("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/ward-stats/",i.district_id,"/",e==null?null:e.ulb_id,"")}}function cL(t,r){t&1&&(o(0,"a",38),s(1,"View "),n())}function mL(t,r){if(t&1&&(o(0,"tr",34)(1,"td",30),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,dL,2,2,"a",35)(9,cL,2,0,"a",36),n()()),t&2){let e=r.$implicit,i=r.index;d(2),T(" ",i+1," "),d(2),_(e.ulb_name),d(2),_(e.hold_count||"0"),d(2),m("ngIf",e==null?null:e.hold_count),d(1),m("ngIf",!(e!=null&&e.hold_count))}}function pL(t,r){if(t&1&&(o(0,"tr",34),u(1,"td",30),o(2,"td",39),s(3,"GRAND TOTAL"),n(),o(4,"td",39),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("hold_count")," ")}}function uL(t,r){if(t&1&&(o(0,"table",29)(1,"thead")(2,"tr")(3,"th",30),s(4,"SN "),n(),o(5,"th",31),s(6,"ULB"),n(),o(7,"th"),s(8,"Total"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,mL,10,5,"tr",32)(13,pL,7,1,"tr",33),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function hL(t,r){t&1&&(o(0,"h5",40),s(1," No Data Found "),n())}function fL(t,r){if(t&1){let e=E();o(0,"div",12)(1,"div",12)(2,"div",13)(3,"div",14),s(4," Pending Reconsideration List "),n(),o(5,"nav",15)(6,"ol",16)(7,"li",17),s(8),n()()()(),o(9,"div",18)(10,"div",19)(11,"input",20),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(12,"i",21),n(),o(13,"div"),h(14,lL,3,0,"button",22)(15,sL,3,0),n()()(),o(16,"div",23),h(17,uL,14,2,"table",24)(18,hL,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(3),m("ngModel",e.searchTerm),d(3),w(14,e.isExportInProgress?15:14),d(3),w(17,e.filteredBlockStats&&e.filteredBlockStats.length>0?17:18)}}var Yd=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.fieldVerificationsList=[],this.selectedFieldVerificationId=[],this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ulb_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/recommended-ulb-count?isAll=0&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.drilldownStats=i.data},i=>{this.isStatsLoading=!1,this.drilldownStats=[]})}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}exportToPdf(i){this.isExportInProgress=!0;let a="PENDING RECONSIDERATION LIST",l=new Date,c=`Timestamp: ${(0,Hd.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"ULB",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:g.ulb_name||"",fontSize:9},{text:g.hold_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Ud.default.createPdf(S).download("pending_reconsideration.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=this.selectedFieldVerificationId?.filter(a=>String(a)!==String(i)):this.selectedFieldVerificationId=[...this.selectedFieldVerificationId,i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-pending-reconsideration-ulb-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats","type","button",1,"me-2"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter ULB Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","70%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"div",7)(9,"div",8),h(10,rL,3,0,"div",9)(11,fL,19,4),n()()()),a&2&&(d(10),w(10,l.isStatsLoading?10:11))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var qd=B(ve());var qa=B(me());function _L(t,r){if(t&1&&(o(0,"div",7)(1,"a",8)(2,"button",9),u(3,"i",10),s(4," Back"),n()()()),t&2){let e=p();d(1),Se("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/block-stats/",e.district_id,"")}}function gL(t,r){t&1&&(o(0,"div",11),u(1,"i",12),s(2," We are fetching the data, please wait. "),n())}function bL(t,r){if(t&1){let e=E();o(0,"button",27),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",28),s(2,"Download "),n()}}function vL(t,r){t&1&&(o(0,"button",29),u(1,"i",30),s(2,"Downloading... "),n())}function xL(t,r){if(t&1){let e=E();o(0,"a",39),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.gp_id))}),s(1,"View"),n()}if(t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/gp-stats/",i.district_id,"/",i.block_id,"/",e==null?null:e.gp_id,"")}}function SL(t,r){t&1&&(o(0,"a",40),s(1,"View"),n())}function CL(t,r){if(t&1&&(o(0,"tr",36)(1,"td",32),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,xL,2,3,"a",37)(9,SL,2,0,"a",38),n()()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e.gp_name),d(2),_(e.count-(e.ineligible_count+e.eligible_count)||"0"),d(2),m("ngIf",e.count-(e.ineligible_count+e.eligible_count)),d(1),m("ngIf",!(e.count-(e.ineligible_count+e.eligible_count)))}}function yL(t,r){if(t&1&&(o(0,"tr",36),u(1,"td",32),o(2,"td",41),s(3,"GRAND TOTAL"),n(),o(4,"td",41),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("hold_count")," ")}}function wL(t,r){if(t&1&&(o(0,"table",31)(1,"thead")(2,"tr")(3,"th",32),s(4,"SN"),n(),o(5,"th",33),s(6,"GP"),n(),o(7,"th"),s(8,"For Reconsideration"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,CL,10,5,"tr",34)(13,yL,7,1,"tr",35),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function EL(t,r){t&1&&(o(0,"h5",42),s(1," No Data Found "),n())}function IL(t,r){if(t&1){let e=E();o(0,"div",13)(1,"div",13)(2,"div",14)(3,"div",15),s(4," Pending Reconsideration List "),n(),o(5,"nav",16)(6,"ol",17)(7,"li",18),s(8),n(),o(9,"li",19),s(10),n()()()(),o(11,"div",20)(12,"div",21)(13,"input",22),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",23),n(),o(15,"div"),h(16,bL,3,0,"button",24)(17,vL,3,0),n()()(),o(18,"div",25),h(19,wL,14,2,"table",26)(20,EL,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.block_name," "),d(3),m("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}var Kd=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.authService=i,this.fb=a,this.httpClient=l,this.appService=c,this.route=f,this.location=S,this.formService=g,this.toastService=v,this.paginationService=I,this.selectedGpId="",this.fetchingProceedingList=!1,this.fieldVerificationsList=[],this.proceedingList=[],this.isStatsLoading=!1,this.generatingInProgress=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.totalCount=0,this.eligibleCount=0,this.ineligibleCount=0,this.recommendConfirmationModalstage=1,this.searchTerm="",this.district_id="",this.block_id="",this.district_name="",this.block_name="",this.selectedGpDetails="",this.ulb_id="",this.moveStatus="",this.ulb_name="",this.selectedImage="",this.today="",this.isFormSubmitInProgress=!1,this.recommedationForm=this.fb.group({remarks:["",[k.pattern(/.*\S.*/),k.required]],document:["",k.required]}),this.approvalForm=this.fb.group({meetingDate:["",k.required],remarks:["",[k.pattern(/.*\S.*/),k.required]]})}openModal(){this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage="",this.recommedationForm.updateValueAndValidity()}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.block_id=i.block_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.block_name=be.data.find(a=>a.id==this.block_id)?.block_name,this.fetchDrillDownList()}),this.today=(0,qa.default)().format("YYYY-MM-DD")}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetRecommedationForm();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetRecommedationForm();return}this.selectedImage=a}resetRecommedationForm(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity()}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.gp_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("meeting_date",i.meetingDate),a.append("remarks",i.remarks),a.append("category","1"),a.append("gp_id",this.selectedGpId),a.append("user_id",this.authService?.userDetail?.demography_id);let l="/v1/review-rejection-applications",c="/v1/review-approval-applications";this.isFormSubmitInProgress=!0,pt([this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}),this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,a,{headers:{Authorization:this.authService.authToken}})]).subscribe(([f,S])=>{this.isFormSubmitInProgress=!1,this.toastService.success(f?.message),document.getElementById("approvalModalClose")?.click(),this.selectedGpId="",this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}setMoveStatus(i){this.moveStatus=i,this.approvalForm.patchValue({remarks:"",meetingDate:""}),this.resetTouchedStatus(this.approvalForm)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.fetchingProceedingList=!0;let a=`/proceeding/list?block_id=${this.block_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fetchingProceedingList=!1,this.proceedingList=l.data},l=>{this.fetchingProceedingList=!1,console.error("File download failed:",l)})}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("ConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("approvalRejectModal");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){return i=="heading"?this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?":i=="body"?this.recommendConfirmationModalstage==1?`You have selected <b>${this.moveStatus=="approve"?this.eligibleCount:this.ineligibleCount}</b> no of applications for final <b>${this.moveStatus=="approve"?"Approval":"Rejection"}</b> . Are you sure to proceed ahead with these applicant ?`:`<b>${this.moveStatus=="approve"?this.eligibleCount:this.ineligibleCount}</b> no of applications finally <b>${this.moveStatus=="approve"?"Approved":"Rejected"}</b> are matching up with the proceedings of DLSC/MLSC. This decision is final and no further changes can be made..`:""}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.approvalForm.value,a=new FormData;a.append("meeting_date",i.meetingDate),a.append("remarks",i.remarks),a.append("category","1"),a.append("district_id",this.district_id),a.append("block_id",this.block_id);let l="";this.moveStatus=="approve"?l="/v1/review-approval-applications":l="/v1/review-rejection-applications",this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message);let f=document.getElementById("ConfirmationModal");f&&((j.getInstance(f)||new j(f)).hide(),document.getElementById("approvalRejectModalClose")?.click()),this.selectedGpId=[],this.approvalForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList(),this.recommendConfirmationModalstage=1},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}getApplicationCounts(i){return i==="total"?this.totalCount:i==="eligible"?this.eligibleCount:i==="ineligible"?this.ineligibleCount:0}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/recommended-gp-count?isAll=0&block_id=${this.block_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.totalCount=i.count||0,this.eligibleCount=i.eligible_count||0,this.ineligibleCount=i.ineligible_count||0,this.drilldownStats=i.data||[]},i=>{this.isStatsLoading=!1,this.totalCount=0,this.eligibleCount=0,this.ineligibleCount=0,this.drilldownStats=[]})}generateRandomList(){this.generatingInProgress=!0;let i=`${this.appService.departmentBaseUrl}/v1/block/recommended-list-pdf?block_id=${this.block_id}&isAll=0`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.generatingInProgress=!1,this.downloadFile(a,"block_generate_random_list")},a=>{this.generatingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}exportToPdf(i){this.isExportInProgress=!0;let a="PENDING RECONSIDERATION LIST",l=new Date,c=`Timestamp: ${(0,qa.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"BLOCK",fillColor:"#d3d3d3",bold:!0},{text:"GP",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:this.block_name||"",fontSize:9},{text:g.gp_name||"",fontSize:9},{text:g.hold_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.block_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","25%","20%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};qd.default.createPdf(S).download("pending_reconsideration.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}handleViewClick(i){this.paginationService.setData("gp_id",i,null,1,"ReconsiderationTab",this.authService.userDetail.demography_id,0)}handleApprovalSubmit(){if(this.approvalForm.status==="INVALID"){this.formService.triggerFormValidation(this.approvalForm);return}document.getElementById("approvalRejectModalClose")?.click();let a=document.getElementById("ConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}toggleSelectAll(){this.isAllSelected()?this.selectedGpId=[]:this.selectedGpId=this.filteredBlockStats.map(i=>i.id)}isAllSelected(){return this.filteredBlockStats.length>0&&this.selectedGpId.length===this.filteredBlockStats.length}onSelect(i){let a=this.selectedGpId.indexOf(i);a>-1?this.selectedGpId.splice(a,1):this.selectedGpId.push(i)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(Q),b(M),b(O),b(R),b(G),b(Z),b(K),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-pending-reconsideration-gp-stats"]],decls:8,vars:2,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-8","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2","text-nowrap",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter GP",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2 text-nowrap","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2","text-nowrap",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2","text-nowrap",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","60%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink","click",4,"ngIf"],["style","color: black !important;","disabled","",4,"ngIf"],[3,"routerLink","click"],["disabled","",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,_L,5,1,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,gL,3,0,"div",6)(7,IL,21,5),n()()()),a&2&&(d(3),w(3,l.authService.userDetail.demography_type!="3"?3:-1),d(3),w(6,l.isStatsLoading?6:7))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var Jd=B(ve());var Ka=B(me());function TL(t,r){if(t&1&&(o(0,"a",10)(1,"button",11),u(2,"i",12),s(3," Back"),n()()),t&2){let e=p(2);Se("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/ulb-stats/",e.district_id,"")}}function kL(t,r){t&1&&(o(0,"a",13)(1,"button",11),u(2,"i",12),s(3," Back"),n()())}function LL(t,r){if(t&1&&(o(0,"div",7),h(1,TL,4,1,"a",8)(2,kL,4,0,"a",9),n()),t&2){let e=p();d(1),m("ngIf",!e.isMcAvailable()),d(1),m("ngIf",e.isMcAvailable())}}function FL(t,r){t&1&&(o(0,"div",14),u(1,"i",15),s(2," We are fetching the data, please wait. "),n())}function DL(t,r){if(t&1){let e=E();o(0,"button",30),x("click",function(){C(e);let a=p(2);return y(a.exportToPdf(a.filteredBlockStats))}),u(1,"i",31),s(2,"Download "),n()}}function AL(t,r){t&1&&(o(0,"button",32),u(1,"i",33),s(2,"Downloading... "),n())}function VL(t,r){if(t&1){let e=E();o(0,"a",42),x("click",function(){C(e);let a=p().$implicit,l=p(3);return y(l.handleViewClick(a==null?null:a.ward_id))}),s(1,"View "),n()}if(t&2){let e=p().$implicit,i=p(3);Ae("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/ward-stats/",i.district_id,"/",i.ulb_id,"/",e==null?null:e.ward_id,"")}}function PL(t,r){t&1&&(o(0,"a",43),s(1,"View "),n())}function ML(t,r){if(t&1&&(o(0,"tr",39)(1,"td",35),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),h(8,VL,2,3,"a",40)(9,PL,2,0,"a",41),n()()),t&2){let e=r.$implicit,i=r.index;d(2),T(" ",i+1," "),d(2),_(e.ward_no),d(2),_(e.count-(e.ineligible_count+e.eligible_count)||"0"),d(2),m("ngIf",e.count-(e.ineligible_count+e.eligible_count)),d(1),m("ngIf",!(e.count-(e.ineligible_count+e.eligible_count)))}}function RL(t,r){if(t&1&&(o(0,"tr",39),u(1,"td",35),o(2,"td",44),s(3,"GRAND TOTAL"),n(),o(4,"td",44),s(5),n(),u(6,"td"),n()),t&2){let e=p(3);d(5),T("",e.getGrandTotal("hold_count")," ")}}function OL(t,r){if(t&1&&(o(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),s(4,"SN "),n(),o(5,"th",36),s(6,"Ward"),n(),o(7,"th"),s(8,"For Reconsideration"),n(),o(9,"th"),s(10,"Action"),n()()(),o(11,"tbody"),h(12,ML,10,5,"tr",37)(13,RL,7,1,"tr",38),n()()),t&2){let e=p(2);d(12),m("ngForOf",e.filteredBlockStats),d(1),m("ngIf",e.filteredBlockStats==null?null:e.filteredBlockStats.length)}}function jL(t,r){t&1&&(o(0,"h5",45),s(1," No Data Found "),n())}function BL(t,r){if(t&1){let e=E();o(0,"div",16)(1,"div",16)(2,"div",17)(3,"div",18),s(4," Pending Reconsideration List "),n(),o(5,"nav",19)(6,"ol",20)(7,"li",21),s(8),n(),o(9,"li",22),s(10),n()()()(),o(11,"div",23)(12,"div",24)(13,"input",25),x("ngModelChange",function(a){C(e);let l=p();return y(l.searchTerm=a)}),n(),u(14,"i",26),n(),o(15,"div"),h(16,DL,3,0,"button",27)(17,AL,3,0),n()()(),o(18,"div",28),h(19,OL,14,2,"table",29)(20,jL,2,0),n()()}if(t&2){let e=p();d(8),_(e.district_name),d(2),T(" ",e.ulb_name," "),d(3),m("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}var Xd=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I){this.authService=i,this.fb=a,this.formService=l,this.httpClient=c,this.appService=f,this.route=S,this.location=g,this.toastService=v,this.paginationService=I,this.fieldVerificationsList=[],this.selectedWardId="",this.isStatsLoading=!1,this.isExportInProgress=!1,this.isFormSubmitInProgress=!1,this.generatingInProgress=!1,this.fetchingProceedingList=!1,this.drilldownStats=[],this.totalCount=0,this.mcIDS=Oe.MC_IDS,this.recommendConfirmationModalstage=1,this.eligibleCount=0,this.ineligibleCount=0,this.proceedingList=[],this.searchTerm="",this.district_id="",this.ulb_id="",this.district_name="",this.ulb_name="",this.selectedImage="",this.today="",this.moveStatus="",this.recommedationForm=this.fb.group({remarks:["",[k.pattern(/.*\S.*/),k.required]],meetingDate:["",k.required],proceedingNo:["",k.required]}),this.approvalForm=this.fb.group({meetingDate:["",k.required],remarks:["",[k.pattern(/.*\S.*/),k.required]]})}goBack(){this.location.back()}isMcAvailable(){return this.mcIDS?.includes(Number(this.ulb_id))}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.ulb_id=i.ulb_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.ulb_name=he.data.find(a=>a.id==this.ulb_id)?.ulb_name,this.fetchDrillDownList()}),this.today=(0,Ka.default)().format("YYYY-MM-DD")}openModal(){this.recommedationForm.patchValue({remarks:"",document:"",meetingDate:"",proceedingNo:""}),this.selectedImage="",this.recommedationForm.updateValueAndValidity()}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.fetchingProceedingList=!0;let a=`/proceeding/list?ulb_id=${this.ulb_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fetchingProceedingList=!1,this.proceedingList=l.data},l=>{this.fetchingProceedingList=!1,console.error("File download failed:",l)})}setMoveStatus(i){this.moveStatus=i,this.approvalForm.patchValue({remarks:"",meetingDate:""}),this.resetTouchedStatus(this.approvalForm)}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}generateRandomList(){this.generatingInProgress=!0;let i=`${this.appService.departmentBaseUrl}/v1/ulb/recommended-list-pdf?ulb_id=${this.ulb_id}&isAll=0`;this.httpClient.get(i,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.generatingInProgress=!1,this.downloadFile(a,"ulb_generate_random_list")},a=>{this.generatingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetRecommedationForm();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetRecommedationForm();return}this.selectedImage=a}resetRecommedationForm(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity()}handleRecomendationSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}let i=this.recommedationForm.value,a=new FormData;a.append("meeting_date",i.meetingDate),a.append("remarks",i.remarks),a.append("category","1"),a.append("ward_id",this.selectedWardId),a.append("user_id",this.authService?.userDetail?.demography_id);let l="/v1/review-rejection-applications",c="/v1/review-approval-applications";this.isFormSubmitInProgress=!0,pt([this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}),this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,a,{headers:{Authorization:this.authService.authToken}})]).subscribe(([f,S])=>{this.isFormSubmitInProgress=!1,this.toastService.success(f?.message),document.getElementById("approvalModalClose")?.click(),this.selectedWardId="",this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList()},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}getGrandTotal(i){return this.filteredBlockStats.reduce((l,c)=>l+c[i],0)}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(i=>i.ward_no.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}getApplicationCounts(i){return i==="total"?this.totalCount:i==="eligible"?this.eligibleCount:i==="ineligible"?this.ineligibleCount:0}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/recommended-ward-count?isAll=0&ulb_id=${this.ulb_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(i=>{this.isStatsLoading=!1,this.totalCount=i.count||0,this.eligibleCount=i.eligible_count||0,this.ineligibleCount=i.ineligible_count||0,this.drilldownStats=i.data||[]},i=>{this.isStatsLoading=!1,this.totalCount=0,this.eligibleCount=0,this.ineligibleCount=0,this.drilldownStats=[]})}exportToPdf(i){this.isExportInProgress=!0;let a="PENDING RECONSIDERATION LIST",l=new Date,c=`Timestamp: ${(0,Ka.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"DISTRICT/MC",fillColor:"#d3d3d3",bold:!0},{text:"ULB",fillColor:"#d3d3d3",bold:!0},{text:"WARD",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.district_name||"",fontSize:9},{text:this.ulb_name||"",fontSize:9},{text:g.ward_no||"",fontSize:9},{text:g.hold_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.ulb_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:f,widths:["15%","25%","25%","20%","15%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Jd.default.createPdf(S).download("pending_reconsideration.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}handleViewClick(i){this.paginationService.setData("ward_id",i,null,1,"ReconsiderationTab",this.authService.userDetail.demography_id,0)}handleApprovalSubmit(){if(this.approvalForm.status==="INVALID"){this.formService.triggerFormValidation(this.approvalForm);return}document.getElementById("approvalRejectModalClose")?.click();let a=document.getElementById("ConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("ConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("approvalRejectModal");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){return i=="heading"?this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?":i=="body"?this.recommendConfirmationModalstage==1?`You have selected <b>${this.moveStatus=="approve"?this.eligibleCount:this.ineligibleCount}</b> no of applications for final <b>${this.moveStatus=="approve"?"Approval":"Rejection"}</b> . Are you sure to proceed ahead with these applicant ?`:`<b>${this.moveStatus=="approve"?this.eligibleCount:this.ineligibleCount}</b> no of applications finally <b>${this.moveStatus=="approve"?"Approved":"Rejected"}</b> are matching up with the proceedings of DLSC/MLSC. This decision is final and no further changes can be made..`:""}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.approvalForm.value,a=new FormData;a.append("meeting_date",i.meetingDate),a.append("remarks",i.remarks),a.append("category","1"),a.append("district_id",this.district_id),a.append("ulb_id",this.ulb_id);let l="";this.moveStatus=="approve"?l="/v1/review-approval-applications":l="/v1/review-rejection-applications",this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${l}`,a,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message);let f=document.getElementById("ConfirmationModal");f&&((j.getInstance(f)||new j(f)).hide(),document.getElementById("approvalRejectModalClose")?.click()),this.selectedWardId=[],this.approvalForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchDrillDownList(),this.recommendConfirmationModalstage=1},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}toggleSelectAll(){this.isAllSelected()?this.selectedWardId=[]:this.selectedWardId=this.filteredBlockStats.map(i=>i.id)}isAllSelected(){return this.filteredBlockStats.length>0&&this.selectedWardId.length===this.filteredBlockStats.length}onSelect(i){let a=this.selectedWardId.indexOf(i);a>-1?this.selectedWardId.splice(a,1):this.selectedWardId.push(i)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(Q),b(Z),b(M),b(O),b(R),b(G),b(K),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-pending-reconsideration-ward-stats"]],decls:8,vars:2,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],["class","col-md-5  d-flex justify-content-end"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"col-md-5","d-flex","justify-content-end"],["type","button","class","me-2",3,"routerLink",4,"ngIf"],["routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats","type","button","class","me-2",4,"ngIf"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],["routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats","type","button",1,"me-2"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-8","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[1,"search-box","me-2","text-nowrap",2,"flex-grow","1","max-width","50%"],["type","text","placeholder","Enter Ward ",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],["class","btn px-2 text-nowrap","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2","text-nowrap",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2","text-nowrap",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","60%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],["class","tr-border-bottom",4,"ngIf"],[1,"tr-border-bottom"],[3,"routerLink","click",4,"ngIf"],["style","color: black !important;","disabled","","type","button",4,"ngIf"],[3,"routerLink","click"],["disabled","","type","button",2,"color","black !important"],[1,"fw-bold"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),h(3,LL,3,2,"div",3),n(),o(4,"div",4)(5,"div",5),h(6,FL,3,0,"div",6)(7,BL,21,5),n()()()),a&2&&(d(3),w(3,(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)!="7"?3:-1),d(3),w(6,l.isStatsLoading?6:7))},dependencies:[A,P,W,Y,U,X],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}"]});let t=r;return t})();var ti=B(Ht());var Qd=B(me());function $L(t,r){if(t&1&&(o(0,"li",38),s(1),n()),t&2){let e=p();d(1),T(" ",e.block_name," ")}}function NL(t,r){if(t&1&&(o(0,"li",38),s(1),n()),t&2){let e=p();d(1),T(" ",e.gp_nameorWardNo," ")}}function GL(t,r){t&1&&(o(0,"div",39),u(1,"i",40),s(2," We are fetching the data, please wait. "),n())}function WL(t,r){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td",46),s(4),n(),o(5,"td",49),s(6),n(),o(7,"td",49),s(8),n(),o(9,"td",46),s(10),n(),o(11,"td",46),s(12),n(),o(13,"td",46),s(14),n()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(2),_(i+1),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(e==null?null:e.fetStatus),d(2),_(a.appService.dateFormat(e==null?null:e.recommended_date)),d(2),_(e==null?null:e.blockUlbStatus)}}function zL(t,r){if(t&1&&(o(0,"table",44)(1,"thead",45),u(2,"tr"),o(3,"tr")(4,"th"),s(5,"SN"),n(),o(6,"th",46),s(7,"Application No."),n(),o(8,"th",46),s(9,"Applicant Name"),n(),o(10,"th",46),s(11,"Father/Husband Name"),n(),o(12,"th",46),s(13,"FET Status"),n(),o(14,"th",46),s(15,"Recommended Date"),n(),o(16,"th",46),s(17,"BLSC/ULSC Recommendation"),n()()(),o(18,"tbody",47),h(19,WL,15,7,"tr",48),n()()),t&2){let e=p(3);d(19),m("ngForOf",e.fieldVerificationsList)}}function UL(t,r){t&1&&(o(0,"span"),u(1,"i",40),s(2," Loading..."),n())}function HL(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function YL(t,r){if(t&1){let e=E();o(0,"div",50)(1,"button",51),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,UL,3,0,"span",52)(3,HL,2,0,"span",52),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function qL(t,r){if(t&1&&(o(0,"div",41),h(1,zL,20,1,"table",42),n(),h(2,YL,4,2,"div",43)),t&2){let e=p(2);d(1),m("ngIf",e.tab===3),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length<e.totalApplicants)}}function KL(t,r){t&1&&(o(0,"h5",53),s(1,"No Application Found"),n())}function JL(t,r){if(t&1&&(o(0,"div"),h(1,qL,3,2)(2,KL,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}var Zd=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F,L){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.router=F,this.paginationService=L,this.displayReasons=!1,this.reasonsForEligibility=[{reason_id:"13",eligible_reasons:"She is alive."},{reason_id:"12",eligible_reasons:"She is a female."},{reason_id:"11",eligible_reasons:"Her family\u2019s income is not more than Rs. 2.50 lakhs."},{reason_id:"10",eligible_reasons:"Her family does not owns a four-wheeler motor vehicle."},{reason_id:"9",eligible_reasons:"Her family does not owns more than 5 acres of irrigated or 10 acres of non-irrigated land."},{reason_id:"8",eligible_reasons:"She or any family member is not a member in a Govt. PSU/Board/Organization."},{reason_id:"7",eligible_reasons:"She or any family member is not employed with a Govt. Organization or receiving pension."},{reason_id:"6",eligible_reasons:"She or any family member is not an elected representative in an ULB/PRI."},{reason_id:"5",eligible_reasons:"She or any family member is not an Income Tax Payee."},{reason_id:"4",eligible_reasons:"She or any family member is not a current/former MP or MLA."},{reason_id:"3",eligible_reasons:"She does not receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Govt."},{reason_id:"2",eligible_reasons:"She is 21 years or above and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"1",eligible_reasons:"She is a resident of Odisha."}],this.reasonsForInEligibility=[{reason_id:"32",ineligible_reasons:"She is not alive."},{id:"31",ineligible_reasons:"She is not a female."},{reason_id:"30",ineligible_reasons:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{reason_id:"29",ineligible_reasons:"Her family owns a four-wheeler motor vehicle."},{reason_id:"28",ineligible_reasons:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{reason_id:"27",ineligible_reasons:"She or a family member is a member in a Government PSU/Board/Organization."},{reason_id:"26",ineligible_reasons:"She or a family member is employed with a Government Organization or receives a pension."},{reason_id:"25",eligible_reasons:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{reason_id:"24",ineligible_reasons:"She or a family member is an Income Tax Payee."},{reason_id:"23",ineligible_reasons:"She or a family member is a current/former MP or MLA."},{reason_id:"22",ineligible_reasons:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{reason_id:"21",ineligible_reasons:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"20",ineligible_reasons:"She is not a resident of Odisha."}],this.alreadySelectedReasons=[],this.recommendedData="",this.selectedReasons=[],this.villageList=[],this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.isDownloadingInProgress=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.approvalCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.ulb_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.recommendConfirmationModalstage=1,this.moveStatus="",this.reConmoveStatus="",this.categories=[],this.fetchingProceedingList=!1,this.proceedingList=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=3,this.ulb_name="",this.exportInProgress=!1,this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",[k.pattern(/.*\S.*/),k.required]],document:["",k.required]}),this.reconsiderationForm=this.fb.group({remarks:["",[k.pattern(/.*\S.*/),k.required]]}),this.recommedationForm=this.fb.group({remarks:["",[k.pattern(/.*\S.*/),k.required]]}),this.reconsiderForm=this.fb.group({remarks:["",k.pattern(/.*\S.*/)],reasons:this.fb.group({}),recommendFor:["",k.required]})}setTab(i){this.tab=i,this.selectedFieldVerificationId=[],this.router.navigate([],{relativeTo:this.route,queryParams:{tab:i},queryParamsHandling:"merge"})}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate))}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetForms();return}this.selectedImage=a}setSmallselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=600*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 600Kb."),this.resetForms();return}this.selectedImage=a}resetForms(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.reconsiderationForm.patchValue({document:""}),this.assignFieldOfficerForm.patchValue({document:""}),this.reconsiderForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity(),this.reconsiderationForm.updateValueAndValidity(),this.reconsiderForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedReasons=[]}setmoveStatus(i){this.moveStatus=i,this.assignFieldOfficerForm.patchValue({remarks:"",document:"",proceedingNo:""}),this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.assignFieldOfficerForm)}setReconStatus(i){this.reConmoveStatus=i.target.value}openModal(){this.reconsiderationForm.patchValue({remarks:""}),this.selectedReasons=[],this.resetTouchedStatus(this.reconsiderationForm),this.recommedationForm.patchValue({remarks:""}),this.reconsiderForm.patchValue({remarks:"",reasons:"",recommendFor:""}),this.assignFieldOfficerForm.patchValue({remarks:"",document:"",proceedingNo:""}),this.selectedImage="",this.reconsiderationForm.updateValueAndValidity(),this.recommedationForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.resetTouchedStatus(this.reconsiderForm),this.resetTouchedStatus(this.recommedationForm),this.resetTouchedStatus(this.assignFieldOfficerForm)}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.ward_id=i.ward_id,this.ulb_id=i.ulb_id,this.district_id=i.district_id,this.district_name=$.data.find(c=>c?.id==this.district_id)?.district_name,this.block_name=he.data.find(c=>c?.id==this.ulb_id)?.ulb_name,this.gp_nameorWardNo=He.data.find(c=>String(c?.id)===this.ward_id)?.ward_no;let l=this.paginationService.getData("ward_id",this.ward_id,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id);l?(this.fieldVerificationsList=l.data,this.page=l.page,this.totalApplicants=l.totalCount):this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}),this.today=(0,Qd.default)().format("YYYY-MM-DD")}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.fetchingProceedingList=!0;let a=`/proceeding/list?ulb_id=${this.ulb_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fetchingProceedingList=!1,this.proceedingList=l.data},l=>{this.fetchingProceedingList=!1,console.error("File download failed:",l)})}goBack(){this.location.back()}handleReconsiderationSubmit(){if(this.reconsiderationForm.status==="INVALID"){this.formService.triggerFormValidation(this.reconsiderationForm);return}let i=this.reconsiderationForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);ti.default.fire({title:"Are You sure ?",html:`You want to move the application of <b>${a.applicant_name}</b> from <b>${this.tab==1?"Approval":"Rejection"}</b> to Reconsideration List.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{ti.default.showLoading();let l=new FormData;l.append("remarks",i.remarks),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("recommended_id",a?.id),l.append("type",i.recommendFor=="ineligible"?"1":i.recommendFor=="eligible"?"2":""),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/hold-recommended-application?user_id=${this.authService?.userDetail?.demography_id}&recommended_id=${a?.id}&remarks=${i.remarks}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("reconsiderationModalClose")?.click(),ti.default.close(),this.selectedFieldVerificationId=[],this.reconsiderationForm.patchValue({remarks:""}),this.selectedImage=null,this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,3)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,3))},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}}).then(l=>{l.dismiss,ti.default.DismissReason.cancel})}handleApproveRejectSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}document.getElementById("modalApprovalRejectionClose")?.click();let a=document.getElementById("ConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("ConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("moveApprovalRejection");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){return i=="heading"?this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?":i=="body"?this.recommendConfirmationModalstage==1?`You have selected <b>${this.moveStatus=="approval"?this.totalApplicants:this.totalApplicants}</b> no of applications for final <b>${this.tab==1?"Approval":"Rejection"}</b> . Are you sure to proceed ahead with these applicant ?`:`<b>${this.moveStatus=="approval"?this.totalApplicants:this.totalApplicants}</b> no of applications finally <b>${this.tab==1?"Approved":"Rejected"}</b> are matching up with the proceedings of DLSC/MLSC. This decision is final and no further changes can be made..`:""}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.recommedationForm.value,a=this.fieldVerificationsList?.find(f=>f?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("remarks",i.remarks),l.append("category","1"),l.append("ward_id",this.ward_id);let c="";this.tab==2&&(c="/v1/review-rejection-applications"),this.tab==1&&(c="/v1/review-approval-applications"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(f=>{this.isFormSubmitInProgress=!1,this.toastService.success(f.message);let S=document.getElementById("ConfirmationModal");S&&((j.getInstance(S)||new j(S)).hide(),document.getElementById("modalApprovalRejectionClose")?.click()),this.selectedFieldVerificationId=[],this.recommedationForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate),this.recommendConfirmationModalstage=1},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate,this.selectedStatus)}fetchVillages(){let i=`/v1/fv/village-list?gp_id=${this.gp_id}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.villageList=a.data},a=>{this.villageList=[]})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/recommended-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(g+=`&field_verification_category=${this.selectedCategory}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}let L="";return I.block_or_ulb_status==null?L=I.fv_status=="1"?"For Approval":"For Rejection":L=I.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},I),{fetStatus:F,blockUlbStatus:L})}),this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,1,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,v.totalCount),this.approvalCount=v.totalCount,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}fetchApplicationListTabWise(i,a,l,c,f,S){this.page=1;let g=`/v1/recommended-list?isAll=0&type=${S==1?"eligible":S==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(g+=`&field_verification_category=${this.selectedCategory}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{let I=v.data.map(F=>{let L="";switch(F.fv_status){case"1":L="Eligible";break;case"0":case"3":L="Ineligible";break;default:L="N/A"}let N="";return F.block_or_ulb_status==null?N=F.fv_status=="1"?"For Approval":"For Rejection":N=F.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},F),{fetStatus:L,blockUlbStatus:N})});this.paginationService.setData("ward_id",this.ward_id,I,1,S==1?"RecommendForApprovalTab":S==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,v.totalCount)},v=>{this.isStatsLoading=!1})}handleEligibleIneligible(){this.selectedReasons=[]}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/recommended-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(v+=`&field_verification_category=${this.selectedCategory}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}let ee="";return L.block_or_ulb_status==null?ee=L.fv_status=="1"?"For Approval":"For Rejection":ee=L.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},L),{fetStatus:N,blockUlbStatus:ee})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F]}this.paginationService.setData("ward_id",this.ward_id,this.fieldVerificationsList,this.page,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,I.totalCount),this.approvalCount=I.totalCount,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}onStatusChange(i){this.selectedStatus=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleSubmit(){if(this.assignFieldOfficerForm.status==="INVALID"){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("remarks",i.remarks),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("recommended_id",a?.id),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="approval"?"3":"4"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/move-recommendation-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("BtnClose")?.click(),this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(i,a){this.page=1;let l=`/v1/recommended-list-pdf?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(l+=`&gp_id=${i}`),a&&(l+=`&ward_id=${a}`),this.searchValue&&(l+=`&search=${this.searchValue}`),this.selectedVillage&&(l+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(l+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(l+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(l+=`&field_verification_category=${this.selectedCategory}`),this.isDownloadingInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${l}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(c=>{this.isDownloadingInProgress=!1,this.downloadFile(c,"recommendation_application.pdf")},c=>{this.isDownloadingInProgress=!1})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=[i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}handleAction(i){this.setmoveStatus(i),this.openModal()}handleReconsiderSubmit(){if(this.reconsiderForm.invalid){this.formService.triggerFormValidation(this.reconsiderForm);return}if(!this.selectedReasons.length){this.toastService.error("Please select reason to reconsider");return}let i=this.reconsiderForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);ti.default.fire({title:"Are You sure ?",html:`You want to reconsider the application of <b>${a.applicant_name}</b> as <b>${a.fv_status=="1"?"Eligible":"Ineligible"}</b> for <b>${this.reConmoveStatus==="approval"?"Approval":"Rejection"}</b>.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{ti.default.showLoading();let l={remarks:i.remarks,recommended_id:a?.id,application_id:a?.application_id,type:this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.reConmoveStatus=="approval"?"3":"4"};if(i.recommendFor==="approval")if(this.selectedReasons&&this.selectedReasons.length>0)l.eligible_reasons=this.selectedReasons.join(",");else{this.toastService.error("Please select valid reasons for eligibility.");return}else if(i.recommendFor==="rejection")if(this.selectedReasons&&this.selectedReasons.length>0)l.ineligible_reasons=this.selectedReasons.join(",");else{this.toastService.error("Please select valid reasons for ineligibility.");return}this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/reconsider-hold-application`,l,{headers:{Authorization:this.authService.authToken,"Content-Type":"application/json"}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("reconsiderModalClose")?.click(),ti.default.close(),this.selectedFieldVerificationId=[],this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate),i.recommendFor==="approval"?this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1):this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2),this.reconsiderForm.patchValue({remarks:"",reasons:"",recommendFor:""}),this.selectedImage=null,this.resetForms()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message),this.resetForms()})}}).then(l=>{l.dismiss,ti.default.DismissReason.cancel})}getSelectedReasons(i){return i.filter((a,l)=>this.reconsiderForm.get(`reason${l}`)?.value).map(a=>a.reason_id)}onRecommendationChange(i){this.displayReasons=!0,i!==this.reconsiderForm.value.recommendFor&&this.reconsiderForm.reset()}onReasonChange(i,a){if(i.target.checked)this.selectedReasons.push(a);else{let l=this.selectedReasons.indexOf(a);l!==-1&&this.selectedReasons.splice(l,1)}}openHyperlinkModal(i){let a=`${this.appService.departmentBaseUrl}/v1/reconsider-logs?recommended_id=${i}`;this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.recommendedData=J(H({},l),{application_number:this.fieldVerificationsList.find(g=>g.application_id==l?.application_id)?.application_number});let c=[];this.recommendedData?.eligible_reasons&&(c=this.recommendedData?.eligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForEligibility.filter(g=>c.includes(g.reason_id))),this.recommendedData?.ineligible_reasons&&(c=this.recommendedData?.ineligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForInEligibility.filter(g=>c.includes(g.reason_id))),document.getElementById("hyperlinkModalClose")?.click();let S=document.getElementById("hyperlinkModal");S?new j(S).show():console.error("Modal element 'hyperlinkModal' not found.")},l=>{console.error("Error fetching data:",l)})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(Ne),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-ward-pending-reconsideration-stats"]],decls:68,vars:12,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],["required","",1,"form-control","form-select",2,"text-transform","uppercase",3,"value","change"],["value",""],["value","1"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],["value","eligible"],["value","ineligible"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url(
              "data:image/svg + xml,
              %3Csvgxmlns='http://www.w3.org/2000/svg'width='8'height='8'%3E%3Cpathd='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z'fill='%236c757d'/%3E%3C/svg%3E"
            )`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"table-responsive","mt-4"],["class","table",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"table"],[2,"font-size","14px","font-weight","620"],[1,"text-nowrap"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],[1,"text-nowrap",2,"text-transform","uppercase"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[4,"ngIf"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back "),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16," FET Category "),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.onCategoryChange(f)}),o(20,"option",16),s(21,"All"),n(),o(22,"option",17),s(23,"Non NFSA"),n()()()(),o(24,"div",11)(25,"div",12)(26,"label",13),s(27," Recommended Date "),o(28,"span",14),s(29,"*"),n()(),o(30,"input",18),x("change",function(f){return l.onDateChange(f)}),n()()(),o(31,"div",11)(32,"div",12)(33,"label",13),s(34," FET Status "),o(35,"span",14),s(36,"*"),n()(),o(37,"select",15),x("change",function(f){return l.onStatusChange(f)}),o(38,"option",16),s(39,"All"),n(),o(40,"option",19),s(41,"Eligible"),n(),o(42,"option",20),s(43,"Ineligible"),n()()()()()(),o(44,"div",21)(45,"div",22)(46,"div",23)(47,"div",24),s(48," Pending Reconsideration List "),n(),o(49,"div",25)(50,"div",26)(51,"input",27),x("change",function(f){return l.handleSearchChange(f)}),n(),u(52,"i",28),n()()(),o(53,"nav",29)(54,"ol",30)(55,"li",31),s(56),n(),h(57,$L,2,1,"li",32)(58,NL,2,1,"li",32),n()(),o(59,"div",33)(60,"div",34)(61,"div",35)(62,"span"),s(63,"Total No. of Applications : "),n(),o(64,"span",36),s(65),n()()()(),h(66,GL,3,0,"div",37)(67,JL,3,1),n()()()),a&2&&(d(4),ce("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/ward-stats/",l.district_id,"/",l.ulb_id,""),d(15),m("value",l.selectedCategory),d(11),m("value",l.selectedDate)("max",l.today),d(7),m("value",l.selectedStatus),d(14),m("value",l.searchValue),d(5),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.gp_nameorWardNo),d(7),T(" ",l.totalApplicants,""),d(1),w(66,l.isStatsLoading?66:67))},dependencies:[A,P,W,se,Ie,Te,le,Fe],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}.accordion-button[_ngcontent-%COMP%]:focus{box-shadow:none}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:currentColor;background-color:transparent;box-shadow:none}.accordion-button[_ngcontent-%COMP%]:hover{text-decoration:none;color:currentColor;background-color:transparent}.accordion-button[_ngcontent-%COMP%]:after{color:inherit}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}#modal1[_ngcontent-%COMP%]{max-width:80%;left:8.5%}.input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#input_raw[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}#input_raw[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px;border:1px solid #ccc;border-radius:4px;padding:0 10px;font-size:14px;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#fd7b03;box-shadow:0 0 4px #fd7b0380;outline:none}#input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#modal2[_ngcontent-%COMP%]{max-width:80%;top:-22%;left:7.5%}"]});let t=r;return t})();var ii=B(Ht());var ec=B(me());function XL(t,r){if(t&1&&(o(0,"option",40),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),T(" ",e==null?null:e.village_name,"")}}function QL(t,r){if(t&1&&(o(0,"li",41),s(1),n()),t&2){let e=p();d(1),_(e.block_name)}}function ZL(t,r){if(t&1&&(o(0,"li",41),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function eF(t,r){t&1&&(o(0,"div",42),u(1,"i",43),s(2," We are fetching the data, please wait. "),n())}function tF(t,r){if(t&1){let e=E();o(0,"th")(1,"input",53),x("change",function(){C(e);let a=p(4);return y(a.toggleSelectAll())}),n()()}if(t&2){let e=p(4);d(1),m("checked",e.isAllSelected())}}function iF(t,r){if(t&1){let e=E();o(0,"td")(1,"input",53),x("change",function(){C(e);let a=p().$implicit,l=p(4);return y(l.onSelect(a==null?null:a.id))}),n()()}if(t&2){let e=p().$implicit,i=p(4);d(1),m("checked",i.selectedFieldVerificationId.includes(e==null?null:e.id))}}function nF(t,r){if(t&1&&(o(0,"tr"),h(1,iF,2,1,"td",49),o(2,"td"),s(3),n(),o(4,"td",50),s(5),n(),o(6,"td",50),s(7),n(),o(8,"td",54),s(9),n(),o(10,"td",54),s(11),n(),o(12,"td",50),s(13),n(),o(14,"td",50),s(15),n(),o(16,"td",50),s(17),n()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(1),m("ngIf",a.authService.userDetail.demography_type==2),d(2),_(i+1),d(2),_((e==null?null:e.village_name)||"N/A"),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(e==null?null:e.fetStatus),d(2),_(a.appService.dateFormat(e==null?null:e.recommended_date)),d(2),_(e==null?null:e.blockUlbStatus)}}function oF(t,r){if(t&1&&(o(0,"table",47)(1,"thead",48),u(2,"tr"),o(3,"tr"),h(4,tF,2,1,"th",49),o(5,"th"),s(6,"SN"),n(),o(7,"th",50),s(8,"Village"),n(),o(9,"th",50),s(10,"Application No."),n(),o(11,"th",50),s(12,"Applicant Name"),n(),o(13,"th",50),s(14,"Father/Husband Name"),n(),o(15,"th",50),s(16,"FET Status"),n(),o(17,"th",50),s(18,"Recommended Date"),n(),o(19,"th",50),s(20,"BLSC/ULSC Recommendation"),n()()(),o(21,"tbody",51),h(22,nF,18,9,"tr",52),n()()),t&2){let e=p(3);d(4),m("ngIf",e.authService.userDetail.demography_type==2),d(18),m("ngForOf",e.fieldVerificationsList)}}function aF(t,r){t&1&&(o(0,"span"),u(1,"i",43),s(2," Loading..."),n())}function rF(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function lF(t,r){if(t&1){let e=E();o(0,"div",55)(1,"button",56),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,aF,3,0,"span",49)(3,rF,2,0,"span",49),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function sF(t,r){if(t&1&&(o(0,"div",44),h(1,oF,23,2,"table",45),n(),h(2,lF,4,2,"div",46)),t&2){let e=p(2);d(1),m("ngIf",e.tab===3),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!==e.totalApplicants)}}function dF(t,r){t&1&&(o(0,"h5",57),s(1," No Application Found "),n())}function cF(t,r){if(t&1&&(o(0,"div"),h(1,sF,3,2)(2,dF,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}var tc=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F,L){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.router=F,this.paginationService=L,this.displayReasons=!1,this.reasonsForEligibility=[{reason_id:"13",eligible_reasons:"She is alive."},{reason_id:"12",eligible_reasons:"She is a female."},{reason_id:"11",eligible_reasons:"Her family\u2019s income is not more than Rs. 2.50 lakhs."},{reason_id:"10",eligible_reasons:"Her family does not owns a four-wheeler motor vehicle."},{reason_id:"9",eligible_reasons:"Her family does not owns more than 5 acres of irrigated or 10 acres of non-irrigated land."},{reason_id:"8",eligible_reasons:"She or any family member is not a member in a Govt. PSU/Board/Organization."},{reason_id:"7",eligible_reasons:"She or any family member is not employed with a Govt. Organization or receiving pension."},{reason_id:"6",eligible_reasons:"She or any family member is not an elected representative in an ULB/PRI."},{reason_id:"5",eligible_reasons:"She or any family member is not an Income Tax Payee."},{reason_id:"4",eligible_reasons:"She or any family member is not a current/former MP or MLA."},{reason_id:"3",eligible_reasons:"She does not receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Govt."},{reason_id:"2",eligible_reasons:"She is 21 years or above and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"1",eligible_reasons:"She is a resident of Odisha."}],this.reasonsForInEligibility=[{reason_id:"32",ineligible_reasons:"She is not alive."},{id:"31",ineligible_reasons:"She is not a female."},{reason_id:"30",ineligible_reasons:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{reason_id:"29",ineligible_reasons:"Her family owns a four-wheeler motor vehicle."},{reason_id:"28",ineligible_reasons:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{reason_id:"27",ineligible_reasons:"She or a family member is a member in a Government PSU/Board/Organization."},{reason_id:"26",ineligible_reasons:"She or a family member is employed with a Government Organization or receives a pension."},{reason_id:"25",eligible_reasons:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{reason_id:"24",ineligible_reasons:"She or a family member is an Income Tax Payee."},{reason_id:"23",ineligible_reasons:"She or a family member is a current/former MP or MLA."},{reason_id:"22",ineligible_reasons:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{reason_id:"21",ineligible_reasons:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"20",ineligible_reasons:"She is not a resident of Odisha."}],this.alreadySelectedReasons=[],this.recommendedData="",this.selectedReasons=[],this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.approvalCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.reConmoveStatus="",this.categories=[],this.fetchingProceedingList=!1,this.proceedingList=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.isDownloadingInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=3,this.recommendConfirmationModalstage=1,this.ulb_name="",this.exportInProgress=!1,this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",[k.pattern(/.*\S.*/),k.required]],document:["",k.required]}),this.reconsiderationForm=this.fb.group({remarks:["",[k.pattern(/.*\S.*/),k.required]]}),this.recommedationForm=this.fb.group({remarks:["",[k.pattern(/.*\S.*/),k.required]]}),this.reconsiderForm=this.fb.group({remarks:["",k.pattern(/.*\S.*/)],reasons:this.fb.group({}),recommendFor:["",k.required]})}handleEligibleIneligible(){this.selectedReasons=[]}setTab(i){this.tab=i,this.selectedFieldVerificationId=[],this.router.navigate([],{relativeTo:this.route,queryParams:{tab:i},queryParamsHandling:"merge"})}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="",this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate))}onProceedingDateChange(i){if(!i.target.value){this.proceedingList=[];return}this.fetchingProceedingList=!0;let a=`/proceeding/list?block_id=${this.block_id}&proceding_date=${i.target.value}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${a}`,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.fetchingProceedingList=!1,this.proceedingList=l.data},l=>{this.fetchingProceedingList=!1,console.error("File download failed:",l)})}setselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=2*1024*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 2 MB."),this.resetForms();return}this.selectedImage=a}setSmallselectedImage(i){let a=i.target.files[0];if(a?.type!=="application/pdf"){this.toastService.error("Only PDF files are allowed."),this.resetForms();return}let l=600*1024;if(a.size>l){this.toastService.error("PDF size should not exceed 600Kb."),this.resetForms();return}this.selectedImage=a}resetForms(){this.selectedImage="",this.recommedationForm.patchValue({document:""}),this.reconsiderationForm.patchValue({document:""}),this.assignFieldOfficerForm.patchValue({document:""}),this.reconsiderForm.patchValue({document:""}),this.recommedationForm.updateValueAndValidity(),this.reconsiderationForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.reconsiderForm.updateValueAndValidity(),this.selectedReasons=[]}setmoveStatus(i){this.moveStatus=i,this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.assignFieldOfficerForm.updateValueAndValidity(),this.selectedImage="",this.resetTouchedStatus(this.assignFieldOfficerForm)}setReconStatus(i){this.reConmoveStatus=i.target.value}openModal(){this.reconsiderationForm.patchValue({remarks:""}),this.selectedReasons=[],this.recommedationForm.patchValue({remarks:""}),this.reconsiderForm.patchValue({remarks:"",reasons:"",recommendFor:""}),this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.selectedImage="",this.reconsiderationForm.updateValueAndValidity(),this.recommedationForm.updateValueAndValidity(),this.assignFieldOfficerForm.updateValueAndValidity(),this.reconsiderForm.updateValueAndValidity(),this.resetTouchedStatus(this.reconsiderationForm),this.resetTouchedStatus(this.recommedationForm),this.resetTouchedStatus(this.assignFieldOfficerForm),this.resetTouchedStatus(this.reconsiderForm)}ngOnInit(){this.route.params.subscribe(i=>{let a=i.id;this.gp_id=i.gp_id,this.block_id=i.block_id,this.district_id=i.district_id,this.district_name=$.data.find(c=>c?.id==this.district_id)?.district_name,this.block_name=be.data.find(c=>c?.id==this.block_id)?.block_name,this.gp_id&&this.fetchVillages(),this.gp_nameorWardNo=Ue.data.find(c=>String(c?.id)===this.gp_id)?.gp_name;let l=this.paginationService.getData("gp_id",this.gp_id,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id);l?(this.fieldVerificationsList=l.data,this.page=l.page,this.totalApplicants=l.totalCount):this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}),this.today=(0,ec.default)().format("YYYY-MM-DD")}goBack(){this.location.back()}handleReconsiderationSubmit(){if(this.reconsiderationForm.status==="INVALID"){this.formService.triggerFormValidation(this.reconsiderationForm);return}let i=this.reconsiderationForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);ii.default.fire({title:"Are You sure ?",html:`You want to move the application of <b>${a.applicant_name}</b> from <b>${this.tab==1?"Approval":"Rejection"}</b> to Reconsideration List.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{ii.default.showLoading();let l=new FormData;l.append("remarks",i.remarks),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("recommended_id",a?.id),l.append("type",i.recommendFor=="ineligible"?"1":i.recommendFor=="eligible"?"2":""),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/hold-recommended-application?user_id=${this.authService?.userDetail?.demography_id}&recommended_id=${a?.id}&remarks=${i.remarks}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("reconsiderationModalClose")?.click(),ii.default.close(),this.selectedFieldVerificationId=[],this.reconsiderationForm.patchValue({remarks:""}),this.selectedImage=null,this.tab==1?(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,3)):(this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate),this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,3))},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}}).then(l=>{l.dismiss,ii.default.DismissReason.cancel})}handleApproveRejectSubmit(){if(this.recommedationForm.status==="INVALID"){this.formService.triggerFormValidation(this.recommedationForm);return}document.getElementById("modalApprovalRejectionClose")?.click();let a=document.getElementById("ConfirmationModal");a?new j(a,{backdrop:"static",keyboard:!1}).show():console.error("Modal element 'hyperlinkModal' not found.")}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("ConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("moveApprovalRejection");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){return i=="heading"?this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?":i=="body"?this.recommendConfirmationModalstage==1?`You have selected <b>${this.moveStatus=="approval"?this.totalApplicants:this.totalApplicants}</b> no of applications for final <b>${this.tab==1?"Approval":"Rejection"}</b> . Are you sure to proceed ahead with these applicant ?`:`<b>${this.moveStatus=="approval"?this.totalApplicants:this.totalApplicants}</b> no of applications finally <b>${this.tab==1?"Approved":"Rejected"}</b> are matching up with the proceedings of DLSC/MLSC. This decision is final and no further changes can be made..`:""}handleRecommendApprove(){if(this.recommendConfirmationModalstage==1){this.recommendConfirmationModalstage=2;return}let i=this.recommedationForm.value,a=this.fieldVerificationsList?.find(f=>f?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("remarks",i.remarks),l.append("category","1"),l.append("gp_id",this.gp_id);let c="";this.tab==2&&(c="/v1/review-rejection-applications"),this.tab==1&&(c="/v1/review-approval-applications"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}${c}`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(f=>{this.isFormSubmitInProgress=!1,this.toastService.success(f.message);let S=document.getElementById("ConfirmationModal");S&&((j.getInstance(S)||new j(S)).hide(),document.getElementById("modalApprovalRejectionClose")?.click()),this.selectedFieldVerificationId=[],this.recommedationForm.patchValue({remarks:"",document:""}),this.recommendConfirmationModalstage=1,this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)},f=>{this.isFormSubmitInProgress=!1,this.toastService.error(f.error.message)})}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}fetchVillages(){let i=`/v1/fv/village-list?gp_id=${this.gp_id}`;this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.villageList=a.data},a=>{this.villageList=[]})}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(i,a,l,c,f,S){this.page=1;let g=`/v1/recommended-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(g+=`&field_verification_category=${this.selectedCategory}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data,this.fieldVerificationsList=v.data.map(I=>{let F="";switch(I?.fv_status){case"1":F="Eligible";break;case"0":case"3":F="Ineligible";break;default:F="N/A"}let L="";return I?.block_or_ulb_status==null?L=I.fv_status=="1"?"For Approval":"For Rejection":L=I?.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},I),{fetStatus:F,blockUlbStatus:L})}),this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,1,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,v.totalCount),this.approvalCount=v.totalCount,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=v.totalCount},v=>{this.isStatsLoading=!1})}fetchApplicationListTabWise(i,a,l,c,f,S){this.page=1;let g=`/v1/recommended-list?isAll=0&type=${S==1?"eligible":S==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(g+=`&gp_id=${i}`),a&&(g+=`&ward_id=${a}`),this.searchValue&&(g+=`&search=${this.searchValue}`),this.selectedVillage&&(g+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(g+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(g+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(g+=`&field_verification_category=${this.selectedCategory}`),this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${g}`,{headers:{Authorization:this.authService.authToken}}).subscribe(v=>{this.newApplicationList=v.data;let I=v.data.map(F=>{let L="";switch(F?.fv_status){case"1":L="Eligible";break;case"0":case"3":L="Ineligible";break;default:L="N/A"}let N="";return F?.block_or_ulb_status==null?N=F.fv_status=="1"?"For Approval":"For Rejection":N=F?.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},F),{fetStatus:L,blockUlbStatus:N})});this.paginationService.setData("gp_id",this.gp_id,I,1,S==1?"RecommendForApprovalTab":S==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,v.totalCount)},v=>{this.isStatsLoading=!1})}handleExport(i,a){this.page=1;let l=`/v1/recommended-list-pdf?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=1&pageSize=${this.pageSize}`;i&&(l+=`&gp_id=${i}`),a&&(l+=`&ward_id=${a}`),this.searchValue&&(l+=`&search=${this.searchValue}`),this.selectedVillage&&(l+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(l+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(l+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(l+=`&field_verification_category=${this.selectedCategory}`),this.isDownloadingInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${l}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(c=>{this.isDownloadingInProgress=!1,this.downloadFile(c,"recommendation_application.pdf")},c=>{this.isDownloadingInProgress=!1})}loadMoreApplicantionList(i,a,l,c,f,S,g){this.isLoadMoreInProgress=!0;let v=`/v1/recommended-list?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"hold"}&page=${this.page}&pageSize=${this.pageSize}`;i&&(v+=`&gp_id=${i}`),a&&(v+=`&ward_id=${a}`),this.searchValue&&(v+=`&search=${this.searchValue}`),this.selectedVillage&&(v+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(v+=`&fv_status_date=${this.selectedDate}`),this.selectedStatus&&(v+=`&fv_status=${this.selectedStatus}`),this.selectedCategory&&(v+=`&field_verification_category=${this.selectedCategory}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${v}`,{headers:{Authorization:this.authService.authToken}}).subscribe(I=>{if(this.newApplicationList=I.data,I?.data?.length){let F=I.data.map(L=>{let N="";switch(L?.fv_status){case"1":N="Eligible";break;case"0":case"3":N="Ineligible";break;default:N="N/A"}let ee="";return L?.block_or_ulb_status==null?ee=L.fv_status=="1"?"For Approval":"For Rejection":ee=L?.block_or_ulb_status==1?"For Approval":"For Rejection",J(H({},L),{fetStatus:N,blockUlbStatus:ee})});this.fieldVerificationsList=[...this.fieldVerificationsList,...F],this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,this.page,this.tab==1?"RecommendForApprovalTab":this.tab==2?"RecommendForRejectionTab":"ReconsiderationTab",this.authService.userDetail.demography_id,I.totalCount)}this.approvalCount=I.totalCount,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1},I=>{this.isLoadMoreInProgress=!1})}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}onStatusChange(i){this.selectedStatus=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}handleSubmit(){if(this.assignFieldOfficerForm.status==="INVALID"){this.formService.triggerFormValidation(this.assignFieldOfficerForm);return}let i=this.assignFieldOfficerForm.value,a=this.fieldVerificationsList?.find(c=>c?.id==this.selectedFieldVerificationId[0]),l=new FormData;l.append("photo",this.selectedImage),l.append("remarks",i.remarks),l.append("user_id",this.authService?.userDetail?.demography_id),l.append("application_id",a?.application_id),l.append("recommended_id",a?.id),l.append("type",this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.moveStatus=="approval"?"3":"4"),this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1//move-recommendation-status`,l,{headers:{Authorization:this.authService.authToken}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("BtnClose")?.click(),this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.patchValue({remarks:"",document:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message)})}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,i.target.value)}onSubmit(){this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,this.selectedDate)}toggleSelectAll(){this.isAllSelected()?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=this.fieldVerificationsList?.map(i=>i?.id)}onSelect(i){this.selectedFieldVerificationId.includes(i)?this.selectedFieldVerificationId=[]:this.selectedFieldVerificationId=[i]}isAllSelected(){if(!this.fieldVerificationsList?.length)return!1;let i=!0;return this.fieldVerificationsList.forEach(a=>{this.selectedFieldVerificationId?.includes(a.id)||(i=!1)}),i}handleAction(i){this.setmoveStatus(i),this.openModal()}handleReconsiderSubmit(){if(this.reconsiderForm.invalid){this.formService.triggerFormValidation(this.reconsiderForm);return}if(!this.selectedReasons?.length){this.toastService.error("Please select reasons to reconsider");return}let i=this.reconsiderForm.value,a=this.fieldVerificationsList?.find(l=>l?.id==this.selectedFieldVerificationId[0]);ii.default.fire({title:"Are You sure ?",html:`You want to reconsider the application of <b>${a.applicant_name}</b> as <b>${a.fv_status=="1"?"Eligible":"Ineligible"}</b> for <b>${this.reConmoveStatus==="approval"?"Approval":"Rejection"}</b>.`,allowOutsideClick:!1,icon:"warning",showCancelButton:!0,cancelButtonText:"No",confirmButtonText:"Yes",reverseButtons:!0,preConfirm:()=>{ii.default.showLoading();let l={remarks:i.remarks,recommended_id:a?.id,application_id:a?.application_id,type:this.tab==1?"1":this.tab==2?"2":this.tab==3&&this.reConmoveStatus=="approval"?"3":"4"};if(i.recommendFor==="approval")if(this.selectedReasons&&this.selectedReasons.length>0)l.eligible_reasons=this.selectedReasons.join(",");else{this.toastService.error("Please select valid reasons for eligibility.");return}else if(i.recommendFor==="rejection")if(this.selectedReasons&&this.selectedReasons.length>0)l.ineligible_reasons=this.selectedReasons.join(",");else{this.toastService.error("Please select valid reasons for ineligibility.");return}this.isFormSubmitInProgress=!0,this.httpClient.post(`${this.appService.departmentBaseUrl}/v1/reconsider-hold-application`,l,{headers:{Authorization:this.authService.authToken,"Content-Type":"application/json"}}).subscribe(c=>{this.isFormSubmitInProgress=!1,this.toastService.success(c.message),document.getElementById("reconsiderModalClose")?.click(),ii.default.close(),this.selectedFieldVerificationId=[],this.reconsiderForm.patchValue({remarks:"",reasons:"",recommendFor:""}),this.selectedImage=null,this.fetchApplicationList(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedDate,this.selectedStatus),i.recommendFor==="approval"?this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,1):this.fetchApplicationListTabWise(this.gp_id,this.ward_id,this.selectedAssignTo,this.selectedCategory,this.selectedStatus,2),this.resetForms()},c=>{this.isFormSubmitInProgress=!1,this.toastService.error(c.error.message),this.resetForms()})}}).then(l=>{l.dismiss,ii.default.DismissReason.cancel})}getSelectedReasons(i){return i.filter((a,l)=>this.reconsiderForm.get(`reason${l}`)?.value).map(a=>a.reason_id)}onRecommendationChange(i){this.displayReasons=!0,i!==this.reconsiderForm.value.recommendFor&&this.reconsiderForm.reset()}onReasonChange(i,a){if(i.target.checked)this.selectedReasons.push(a);else{let l=this.selectedReasons.indexOf(a);l!==-1&&this.selectedReasons.splice(l,1)}}openHyperlinkModal(i){let a=`${this.appService.departmentBaseUrl}/v1/reconsider-logs?recommended_id=${i}`;this.httpClient.get(a,{headers:{Authorization:this.authService.authToken}}).subscribe(l=>{this.recommendedData=J(H({},l),{application_number:this.fieldVerificationsList.find(g=>g.application_id==l?.application_id)?.application_number});let c=[];this.recommendedData?.eligible_reasons&&(c=this.recommendedData?.eligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForEligibility.filter(g=>c.includes(g.reason_id))),this.recommendedData?.ineligible_reasons&&(c=this.recommendedData?.ineligible_reasons?.split(","),this.alreadySelectedReasons=this.reasonsForInEligibility.filter(g=>c.includes(g.reason_id))),document.getElementById("hyperlinkModalClose")?.click();let S=document.getElementById("hyperlinkModal");S?new j(S).show():console.error("Modal element 'hyperlinkModal' not found.")},l=>{console.error("Error fetching data:",l)})}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(Ne),b(fe))},r.\u0275cmp=D({type:r,selectors:[["app-gp-pending-reconsideration-stats"]],decls:78,vars:14,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"routerLink"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-md-4",2,"color","#fd7b03","font-size","1.3rem"],[1,"row"],[1,"col-md-3"],[1,"form-group"],[1,"mb-1"],[1,"text-danger"],[1,"form-control","form-select",3,"value","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["required","",1,"form-control","form-select",2,"text-transform","uppercase",3,"value","change"],["value","1"],["type","date","required","",1,"form-control",2,"text-transform","uppercase",3,"value","max","change"],["value","eligible"],["value","ineligible"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"col-md-4","col-12","mb-2","mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],[3,"value"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"table-responsive","mt-4"],["class","table",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"table"],[2,"font-size","14px","font-weight","620"],[4,"ngIf"],[1,"text-nowrap"],[2,"font-size","14px"],[4,"ngFor","ngForOf"],["type","checkbox",2,"cursor","pointer",3,"checked","change"],[1,"text-nowrap",2,"text-transform","uppercase"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11," Filter "),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16,"Village"),o(17,"span",14),s(18,"*"),n()(),o(19,"select",15),x("change",function(f){return l.handleVillageChange(f)}),o(20,"option",16),s(21,"All"),n(),h(22,XL,2,2,"option",17),n()()(),o(23,"div",11)(24,"div",12)(25,"label",13),s(26," FET Category "),o(27,"span",14),s(28,"*"),n()(),o(29,"select",18),x("change",function(f){return l.onCategoryChange(f)}),o(30,"option",16),s(31,"All"),n(),o(32,"option",19),s(33,"Non NFSA"),n()()()(),o(34,"div",11)(35,"div",12)(36,"label",13),s(37," Recommended Date "),o(38,"span",14),s(39,"*"),n()(),o(40,"input",20),x("change",function(f){return l.onDateChange(f)}),n()()(),o(41,"div",11)(42,"div",12)(43,"label",13),s(44," FET Status "),o(45,"span",14),s(46,"*"),n()(),o(47,"select",18),x("change",function(f){return l.onStatusChange(f)}),o(48,"option",16),s(49,"All"),n(),o(50,"option",21),s(51,"Eligible"),n(),o(52,"option",22),s(53,"Ineligible"),n()()()()()(),o(54,"div",23)(55,"div",24)(56,"div",25)(57,"div",26),s(58," Pending Reconsideration List "),n(),o(59,"div",27)(60,"div",28)(61,"input",29),x("change",function(f){return l.handleSearchChange(f)}),n(),u(62,"i",30),n()()(),o(63,"nav",31)(64,"ol",32)(65,"li",33),s(66),n(),h(67,QL,2,1,"li",34)(68,ZL,2,1,"li",34),n()(),o(69,"div",35)(70,"div",36)(71,"div",37)(72,"span"),s(73,"Total No. of Applications : "),n(),o(74,"span",38),s(75),n()()()(),h(76,eF,3,0,"div",39)(77,cF,3,1),n()()()),a&2&&(d(4),ce("routerLink","/department/portal/approval-module/pending-reconsideration-list/district-stats/gp-stats/",l.district_id,"/",l.block_id,""),d(15),m("value",l.selectedVillage),d(3),m("ngForOf",l.villageList),d(7),m("value",l.selectedCategory),d(11),m("value",l.selectedDate)("max",l.today),d(7),m("value",l.selectedStatus),d(14),m("value",l.searchValue),d(5),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.gp_nameorWardNo),d(7),T(" ",l.totalApplicants,""),d(1),w(76,l.isStatsLoading?76:77))},dependencies:[A,P,W,se,Ie,Te,le,Fe],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}.accordion-button[_ngcontent-%COMP%]:focus{box-shadow:none}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:currentColor;background-color:transparent;box-shadow:none}.accordion-button[_ngcontent-%COMP%]:hover{text-decoration:none;color:currentColor;background-color:transparent}.accordion-button[_ngcontent-%COMP%]:after{color:inherit}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}#modal1[_ngcontent-%COMP%]{max-width:80%;left:8.5%}.input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#input_raw[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}#input_raw[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px;border:1px solid #ccc;border-radius:4px;padding:0 10px;font-size:14px;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#fd7b03;box-shadow:0 0 4px #fd7b0380;outline:none}#input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#modal2[_ngcontent-%COMP%]{max-width:80%;top:-22%;left:7.5%}"]});let t=r;return t})();var nc=B(me());function mF(t,r){if(t&1&&(o(0,"tr")(1,"td",5)(2,"strong"),s(3,"Date of Publication of the Provisional List for inviting Objections:"),n()(),o(4,"td",6),s(5),n()(),o(6,"tr")(7,"td",5)(8,"strong"),s(9,"Last Date for Submission of Objections on Provisional List:"),n()(),o(10,"td",6),s(11),n()()),t&2){let e=p();d(5),_(e.appService.dateFormat(e.proceedingDetails==null?null:e.proceedingDetails.provisional_list_publication_date)),d(6),_(e.appService.dateFormat(e.proceedingDetails==null?null:e.proceedingDetails.last_date_for_submission_of_objections))}}function pF(t,r){if(t&1&&(o(0,"tr")(1,"td",5)(2,"strong"),s(3,"Recommended Date (From):"),n()(),o(4,"td",6),s(5),n()(),o(6,"tr")(7,"td",5)(8,"strong"),s(9,"Recommended Date (To):"),n()(),o(10,"td",6),s(11),n()()),t&2){let e=p();d(5),_(e.appService.dateFormat(e.proceedingDetails==null?null:e.proceedingDetails.dlmc_from_date)),d(6),_(e.appService.dateFormat(e.proceedingDetails==null?null:e.proceedingDetails.dlmc_till_date))}}var Ja=(t,r,e,i)=>[t,r,e,i],nn=(t,r)=>[t,r],ic=t=>[t],on=(t,r,e)=>[t,r,e];function uF(t,r){if(t&1&&(o(0,"table",12)(1,"tr")(2,"td")(3,"strong"),s(4,"Total Applications Presented for Consideration of the Committee (1A+2A)"),n()(),o(5,"td"),s(6),n()()(),o(7,"table",12)(8,"thead")(9,"tr")(10,"th",15),s(11,"Table \u2013 1"),n(),o(12,"th",16),s(13,"No. of Applications"),n()()(),o(14,"tbody")(15,"tr")(16,"td")(17,"strong"),s(18,"1A"),n()(),o(19,"td")(20,"strong"),s(21),n()(),o(22,"td",17),s(23),n()(),o(24,"tr")(25,"td")(26,"strong"),s(27,"1B"),n()(),o(28,"td")(29,"strong"),s(30),n()(),o(31,"td",17),s(32),n()(),o(33,"tr")(34,"td")(35,"strong"),s(36,"1C"),n()(),o(37,"td")(38,"strong"),s(39),n()(),o(40,"td",17),s(41),n()()()(),o(42,"table",12)(43,"thead")(44,"tr",18)(45,"th",15),s(46,"Table \u2013 2"),n(),o(47,"th",16),s(48,"No. of Applications"),n()()(),o(49,"tbody")(50,"tr")(51,"td")(52,"strong"),s(53,"2A"),n()(),o(54,"td")(55,"strong"),s(56),n()(),o(57,"td",17),s(58),n()(),o(59,"tr")(60,"td")(61,"strong"),s(62,"2B"),n()(),o(63,"td")(64,"strong"),s(65),n()(),o(66,"td",17),s(67),n()(),o(68,"tr")(69,"td")(70,"strong"),s(71,"2C"),n()(),o(72,"td")(73,"strong"),s(74),n()(),o(75,"td",17),s(76),n()()()(),o(77,"table",12)(78,"thead")(79,"tr")(80,"th",15),s(81,"Table \u2013 3"),n(),o(82,"th",16),s(83,"No. of Applications"),n()()(),o(84,"tbody")(85,"tr")(86,"td")(87,"strong"),s(88,"3A"),n()(),o(89,"td")(90,"strong"),s(91),n()(),o(92,"td",17),s(93),n()(),o(94,"tr")(95,"td")(96,"strong"),s(97,"3B"),n()(),o(98,"td")(99,"strong"),s(100),n()(),o(101,"td",17),s(102),n()(),o(103,"tr")(104,"td")(105,"strong"),s(106,"3B(i)"),n()(),o(107,"td")(108,"strong"),s(109),n()(),o(110,"td",17),s(111),n()(),o(112,"tr")(113,"td")(114,"strong"),s(115,"3B(ii)"),n()(),o(116,"td")(117,"strong"),s(118),n()(),o(119,"td",17),s(120),n()(),o(121,"tr")(122,"td")(123,"strong"),s(124,"3C"),n()(),o(125,"td")(126,"strong"),s(127),n()(),o(128,"td",17),s(129),n()()()(),o(130,"table",12)(131,"thead")(132,"tr")(133,"th",15),s(134," Table \u2013 4 Summary (Break up of Applications) "),n(),o(135,"th",16),s(136,"No. of Applications"),n()()(),o(137,"tbody")(138,"tr")(139,"td")(140,"strong"),s(141,"4A"),n()(),o(142,"td")(143,"strong"),s(144),n()(),o(145,"td",17),s(146),n()(),o(147,"tr")(148,"td")(149,"strong"),s(150,"4B"),n()(),o(151,"td")(152,"strong"),s(153),n()(),o(154,"td",17),s(155),n()(),o(156,"tr")(157,"td")(158,"strong"),s(159,"4C"),n()(),o(160,"td")(161,"strong"),s(162),n()(),o(163,"td",17)(164,"strong"),s(165),n()()(),o(166,"tr")(167,"td")(168,"strong"),s(169,"4E"),n()(),o(170,"td")(171,"strong"),s(172),n()(),o(173,"td",17)(174,"strong"),s(175),n()()()()()),t&2){let e=p();d(6),_(e.proceedingDetails==null?null:e.proceedingDetails.total_applications_presented_for_dlsc),d(15),_(e.getLabel(1)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.block_or_ulb_recommended_approval),d(7),_(e.getLabel(2)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.block_or_ulb_recommended_approval_approved_by_district),d(7),_(e.getLabel(3)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.block_or_ulb_recommended_approval_hold_by_district),d(15),_(e.getLabel(4)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.block_or_ulb_recommended_rejection),d(7),_(e.getLabel(5)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.block_or_ulb_recommended_rejection_rejected_by_district),d(7),_(e.getLabel(6)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.block_or_ulb_recommended_rejection_hold_by_district),d(15),_(e.getLabel(7)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.total_hold),d(7),_(e.getLabel(8)),d(2),_(e.getSum(oi(31,Ja,e.proceedingDetails==null?null:e.proceedingDetails.hold_recommended_approval,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_approval,e.proceedingDetails==null?null:e.proceedingDetails.hold_recommended_rejection,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_rejection))),d(7),_(e.getLabel(9)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_approval),d(7),_(e.getLabel(10)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_rejection),d(7),_(e.getLabel(11)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.hold_pending),d(15),_(e.getLabel(12)),d(2),_(e.getSum(rt(36,nn,e.proceedingDetails==null?null:e.proceedingDetails.block_or_ulb_recommended_approval_approved_by_district,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_approval))),d(7),_(e.getLabel(13)),d(2),_(e.getSum(rt(39,nn,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_rejection,e.proceedingDetails==null?null:e.proceedingDetails.block_or_ulb_recommended_rejection_rejected_by_district))),d(7),_(e.getLabel(14)),d(3),_(e.getSum(_e(42,ic,e.proceedingDetails==null?null:e.proceedingDetails.hold_pending))+(e.getSum(oi(44,Ja,e.proceedingDetails==null?null:e.proceedingDetails.hold_recommended_approval,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_approval,e.proceedingDetails==null?null:e.proceedingDetails.hold_recommended_rejection,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_rejection))-e.getSum(rt(49,nn,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_rejection,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_approval)))),d(7),_(e.getLabel(15)),d(3),T("",e.getSum(vt(68,on,e.getSum(_e(52,ic,e.proceedingDetails==null?null:e.proceedingDetails.hold_pending))+(e.getSum(oi(54,Ja,e.proceedingDetails==null?null:e.proceedingDetails.hold_recommended_approval,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_approval,e.proceedingDetails==null?null:e.proceedingDetails.hold_recommended_rejection,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_rejection))-e.getSum(rt(59,nn,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_rejection,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_approval))),e.getSum(rt(62,nn,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_rejection,e.proceedingDetails==null?null:e.proceedingDetails.block_or_ulb_recommended_rejection_rejected_by_district)),e.getSum(rt(65,nn,e.proceedingDetails==null?null:e.proceedingDetails.block_or_ulb_recommended_approval_approved_by_district,e.proceedingDetails==null?null:e.proceedingDetails.hold_finally_approval))))," ")}}function hF(t,r){if(t&1&&(o(0,"table",12)(1,"tr")(2,"td")(3,"strong"),s(4,"Total Applications Presented for Consideration of the Committee (1A+2A+3A)"),n()(),o(5,"td"),s(6),n()()(),o(7,"table",12)(8,"thead")(9,"tr")(10,"th",15),s(11,"Table \u2013 1"),n(),o(12,"th",16),s(13,"No. of Applications"),n()()(),o(14,"tbody")(15,"tr")(16,"td")(17,"strong"),s(18,"1A"),n()(),o(19,"td")(20,"strong"),s(21),n()(),o(22,"td",17),s(23),n()(),o(24,"tr")(25,"td")(26,"strong"),s(27,"1B"),n()(),o(28,"td")(29,"strong"),s(30),n()(),o(31,"td",17),s(32),n()(),o(33,"tr")(34,"td")(35,"strong"),s(36,"1C"),n()(),o(37,"td")(38,"strong"),s(39),n()(),o(40,"td",17),s(41),n()()()(),o(42,"table",12)(43,"thead")(44,"tr")(45,"th",15),s(46,"Table \u2013 2"),n(),o(47,"th",16),s(48,"No. of Applications"),n()()(),o(49,"tbody")(50,"tr")(51,"td")(52,"strong"),s(53,"2A"),n()(),o(54,"td")(55,"strong"),s(56),n()(),o(57,"td",17),s(58),n()(),o(59,"tr")(60,"td")(61,"strong"),s(62,"2B"),n()(),o(63,"td")(64,"strong"),s(65),n()(),o(66,"td",17),s(67),n()(),o(68,"tr")(69,"td")(70,"strong"),s(71,"2C"),n()(),o(72,"td")(73,"strong"),s(74),n()(),o(75,"td",17),s(76),n()()()(),o(77,"table",12)(78,"thead")(79,"tr")(80,"th",15),s(81,"Table \u2013 3"),n(),o(82,"th",16),s(83,"No. of Applications"),n()()(),o(84,"tbody")(85,"tr")(86,"td")(87,"strong"),s(88,"3A"),n()(),o(89,"td")(90,"strong"),s(91),n()(),o(92,"td",17),s(93),n()(),o(94,"tr")(95,"td")(96,"strong"),s(97,"3B"),n()(),o(98,"td")(99,"strong"),s(100),n()(),o(101,"td",17),s(102),n()(),o(103,"tr")(104,"td")(105,"strong"),s(106,"3C"),n()(),o(107,"td")(108,"strong"),s(109),n()(),o(110,"td",17),s(111),n()(),o(112,"tr")(113,"td")(114,"strong"),s(115,"3D"),n()(),o(116,"td")(117,"strong"),s(118),n()(),o(119,"td",17),s(120),n()()()(),o(121,"table",12)(122,"thead")(123,"tr")(124,"th",15),s(125,"Table \u2013 4 Summary (Break up of Applications)"),n(),o(126,"th",16),s(127,"No. of Applications"),n()()(),o(128,"tbody")(129,"tr")(130,"td")(131,"strong"),s(132,"4A"),n()(),o(133,"td")(134,"strong"),s(135),n()(),o(136,"td",17),s(137),n()(),o(138,"tr")(139,"td")(140,"strong"),s(141,"4B"),n()(),o(142,"td")(143,"strong"),s(144),n()(),o(145,"td",17),s(146),n()(),o(147,"tr")(148,"td")(149,"strong"),s(150,"4C"),n()(),o(151,"td")(152,"strong"),s(153),n()(),o(154,"td",17),s(155),n()(),o(156,"tr")(157,"td")(158,"strong"),s(159,"4D"),n()(),o(160,"td")(161,"strong"),s(162),n()(),o(163,"td",17)(164,"strong"),s(165),n()()()()()),t&2){let e=p();d(6),_(e.proceedingDetails==null?null:e.proceedingDetails.total_applications_presented_for_blulsc),d(15),_(e.getLabel(5)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.recommended_as_eligible_by_fet),d(7),_(e.getLabel(6)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.recommended_for_approval_by_blsc),d(7),_(e.getLabel(7)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.recommended_for_rejection_by_blsc_with_reasons),d(15),_(e.getLabel(8)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.recommended_as_ineligible_by_fet),d(7),_(e.getLabel(9)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.recommended_for_rejection_by_blsc),d(7),_(e.getLabel(10)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.recommended_for_approval_by_blsc_with_reasons),d(15),_(e.getLabel(1)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.total_objection),d(7),_(e.getLabel(2)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.objection_disposed_eligible_by_blsc),d(7),_(e.getLabel(3)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.objection_disposed_ineligible_by_blsc),d(7),_(e.getLabel(4)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.objection_pending),d(15),_(e.getLabel(11)),d(2),_(e.getSum(vt(29,on,e.proceedingDetails==null?null:e.proceedingDetails.fet_eligible_approval,e.proceedingDetails==null?null:e.proceedingDetails.fet_ineligible_approval,e.proceedingDetails==null?null:e.proceedingDetails.objected_eligible))),d(7),_(e.getLabel(12)),d(2),_(e.getSum(vt(33,on,e.proceedingDetails==null?null:e.proceedingDetails.fet_eligible_rejection,e.proceedingDetails==null?null:e.proceedingDetails.fet_ineligible_rejection,e.proceedingDetails==null?null:e.proceedingDetails.objected_ineligible))),d(7),_(e.getLabel(13)),d(2),_(e.proceedingDetails==null?null:e.proceedingDetails.objection_pending),d(7),_(e.getLabel(14)),d(3),_(e.getSum(vt(45,on,e.getSum(vt(37,on,e.proceedingDetails==null?null:e.proceedingDetails.fet_eligible_approval,e.proceedingDetails==null?null:e.proceedingDetails.fet_ineligible_approval,e.proceedingDetails==null?null:e.proceedingDetails.objected_eligible)),e.getSum(vt(41,on,e.proceedingDetails==null?null:e.proceedingDetails.fet_eligible_rejection,e.proceedingDetails==null?null:e.proceedingDetails.fet_ineligible_rejection,e.proceedingDetails==null?null:e.proceedingDetails.objected_ineligible)),e.proceedingDetails==null?null:e.proceedingDetails.objected_pending)))}}function fF(t,r){if(t&1&&(s(0," As per the SUBHADRA Guidelines, the "),o(1,"b"),s(2),n(),s(3,"has conducted verification of the randomly generated applicants. All actions taken, including updates to eligibility status, have been reflected in the Subhadra Portal and have been approved or rejected, as applicable. ")),t&2){let e=p();d(2),T("",e.getProceedingType()," ")}}function _F(t,r){if(t&1&&(s(0," As per the SUBHADRA Guidelines, the "),o(1,"b"),s(2),n(),s(3," has conducted verification of the randomly generated applicants. All actions taken, including updates to eligibility status, have been reflected in the Subhadra Portal and recommended to the "),o(4,"b"),s(5),n(),s(6," for approval and rejection. ")),t&2){let e=p();d(2),_(e.getProceedingType()),d(3),_(e.getProceedingType()=="MLSC"?"MLSC":"DLSC")}}function gF(t,r){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),u(7,"td"),n()),t&2){let e=r.$implicit,i=r.index;d(2),_(i+1),d(2),_(e==null?null:e.username),d(2),_(e==null?null:e.designation)}}var oc=(()=>{let r=class r{constructor(i,a,l,c){this.authService=i,this.appService=a,this.httpClient=l,this.route=c,this.proceedingDetails=null,this.members=[]}ngOnInit(){this.route.params.subscribe(i=>{i?.id&&this.fetchGrievanceDeatils(i?.id)})}getSum(i){return i.reduce((l,c)=>Number(l)+Number(c),0)}cleanString(i){return i.replace(/[^a-zA-Z0-9-]/g,"")}fetchGrievanceDeatils(i){this.httpClient.get(`${this.appService.departmentBaseUrl}/proceeding/proceeding-details?id=${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{if(a?.data){let l=a?.data;this.authService.userDetail.role?.id!==4?this.proceedingDetails=J(H({},l),{top:l.total_applications_presented_for_blulsc,total_objected:l.total_objection,objected_eligible:l.objection_disposed_eligible_by_blsc,objected_ineligible:l.objection_disposed_ineligible_by_blsc,objected_pending:l.objection_pending,fet_eligible:l.recommended_as_eligible_by_fet,fet_eligible_approval:l.recommended_for_approval_by_blsc,fet_eligible_rejection:l.recommended_for_rejection_by_blsc_with_reasons,fet_ineligible:l.recommended_as_ineligible_by_fet,fet_ineligible_rejection:l.recommended_for_rejection_by_blsc,fet_ineligible_approval:l.recommended_for_approval_by_blsc_with_reasons}):this.proceedingDetails=J(H({},l),{top:l.total_applications_presented_for_dlsc?l.total_applications_presented_for_dlsc:0,total_hold:l.total_for_reconsidered?l.total_for_reconsidered:0,hold_finally_approval:l.reconsider_final_approval?l.reconsider_final_approval:0,hold_finally_rejection:l.reconsider_final_rejected?l.reconsider_final_rejected:0,hold_recommended_approval:l.recommmended_reconsidered_approval_dlsc?l.recommmended_reconsidered_approval_dlsc:0,hold_recommended_rejection:l.recommmended_reconsidered_rejection_dlsc?l.recommmended_reconsidered_rejection_dlsc:0,hold_pending:l.reconsidered_pending_dlsc?l.reconsidered_pending_dlsc:0,block_or_ulb_recommended_approval:l.recommended_approval_by_blulsc?l.recommended_approval_by_blulsc:0,block_or_ulb_recommended_approval_approved_by_district:l.approved_by_dlsc?l.approved_by_dlsc:0,block_or_ulb_recommended_approval_hold_by_district:l.hold_approval_dlsc?l.hold_approval_dlsc:0,block_or_ulb_recommended_rejection:l.recommended_rejection_by_blulsc?l.recommended_rejection_by_blulsc:0,block_or_ulb_recommended_rejection_rejected_by_district:l.rejected_by_dlsc?l.rejected_by_dlsc:0,block_or_ulb_recommended_rejection_hold_by_district:l.hold_rejection_dlsc?l.hold_rejection_dlsc:0}),a?.data?.blsc_member_names_designations_signatures&&(this.members=JSON.parse(a.data?.blsc_member_names_designations_signatures))}this.proceedingDetails?.proceding_number&&(window.document.title=`${(0,nc.default)().format("DDMMYYYY")}-${this.cleanString(this.proceedingDetails?.proceding_number)}`),setTimeout(()=>{window.print()},1e3)},a=>{this.proceedingDetails={}})}getHeading(){if(this.authService.userDetail.demography_type=="1")return"Proceedings of the Meeting for the State Level Scrutiny Committee (SLSC) ";if(this.authService.userDetail.demography_type=="2")return"Proceedings of the Meeting for the District Level Scrutiny Committee (DLSC) ";if(this.authService.userDetail.demography_type=="3")return"Proceedings of the Meeting for the Block Level Scrutiny Committee (BLSC) ";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==7)return"Proceedings of the Meeting for the ULB Level Scrutiny Committee (ULSC) ";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==4)return"Proceedings of the Meeting for the MC Level Scrutiny Committee (MLSC) "}getSubHeading(){if(this.authService.userDetail.demography_type=="1")return"";if(this.authService.userDetail.demography_type=="2")return`Name of the District : ${this.authService.userDetail.demography_name} `;if(this.authService.userDetail.demography_type=="3")return`Name of the Block : ${this.authService.userDetail.demography_name} `;if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==7)return`Name of the ULB : ${this.authService.userDetail.demography_name} `;if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==4)return`Name of the MC : ${this.authService.userDetail.demography_name} `}getProceedingType(){if(this.authService.userDetail.demography_type=="1")return"SLSC";if(this.authService.userDetail.demography_type=="2")return"DLSC";if(this.authService.userDetail.demography_type=="3")return"BLSC";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==7)return"ULSC";if(this.authService.userDetail.demography_type=="5"&&this.authService.userDetail?.role.id==4)return"MLSC"}getLabel(i){let a=["Applications with Objection",`Applications with Objection disposed as Eligible for Subhadra by  ${this.getProceedingType()}`,`Applications with Objection disposed as Ineligible for Subhadra  ${this.getProceedingType()}`,"Applications with Objection pending for Disposal","Recommended as Eligible by FET (1B+1C)",`Recommended for Approval by  ${this.getProceedingType()}`,`Recommended for Rejection by  ${this.getProceedingType()}  (out of Eligible recommended by FET)`,"Recommended as Ineligible by FET (2B+2C)",`Recommended for Rejection by  ${this.getProceedingType()}`,`Recommended for Approval by  ${this.getProceedingType()}  (out of Ineligible recommended by FET)`,"Total no of applications Recommended for Approval (1B + 2C + 3B)","Total no of applications Recommended for Rejection (1C + 2B + 3C )","Total no of applications Pending (3D)","Gross Total (4A+4B+4C)"],l=[`Recommended for Approval by ${this.getProceedingType()=="MLSC"?"MLSC":"BLSC / ULSC "} (1B+1C)`,`Finally Approved by ${this.getProceedingType()}`,`Held for Reconsideration by ${this.getProceedingType()}`,`Recommended for Rejection by ${this.getProceedingType()=="MLSC"?"MLSC":"BLSC / ULSC "} (2B+2C)`,`Finally Rejected by ${this.getProceedingType()}`,`Held for Reconsideration by ${this.getProceedingType()}`,`Applications under Reconsideration by ${this.getProceedingType()} (1C+2C)`,`Disposed applications by ${this.getProceedingType()}`,"Disposed of and Finally Approved","Disposed of and Finally Rejected","Applications pending for Reconsideration","Total no of Applications Finally Approved {1B + 3B (i)}","Total no of Applications Finally Rejected {2B + 3B (ii)}","Total no of Applications Pending","Gross Total (4A+4B+4C)"];return this.authService.userDetail.role?.id=="4"?l[i-1]:a[i-1]}};r.\u0275fac=function(a){return new(a||r)(b(V),b(O),b(M),b(R))},r.\u0275cmp=D({type:r,selectors:[["app-export-proceeding-details"]],decls:77,vars:14,consts:[[1,"container-fluid","mt-4"],[1,"text-center","mb-4"],["alt","A black background with text Description automatically generated","src","../../../../../../assets/images/govt-subhadra-logo-header.png",1,"img-fluid",2,"height","100px"],[1,"text-center"],[1,"table"],[2,"border","none"],["colspan","2",2,"border","none"],[1,"fw-bold","text-center","hidden_pdf_content"],[1,"container-fluid","mt-4",2,"min-height","100vh","position","relative"],[1,"hidden_pdf_content",2,"height","10px","width","100%","background","transparent"],[1,"hidden_pdf_content"],[1,"mt-5","text-center","mb-4",2,"margin-top","40px !important"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[1,"fw-bold","text-center","hidden_pdf_content",2,"position","absolute","bottom","2%","left","50%"],["colspan","2",2,"width","70%"],[2,"width","30%"],[2,"text-align","right"],[2,"background-color","#d1d1d1"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"img",2),n(),o(3,"h4",3)(4,"strong"),s(5),n()(),o(6,"p",3),s(7),n(),o(8,"table",4)(9,"tbody")(10,"tr")(11,"td",5)(12,"strong"),s(13,"Date of Meeting:"),n()(),o(14,"td",6),s(15),n()(),o(16,"tr")(17,"td",5)(18,"strong"),s(19,"Venue:"),n()(),o(20,"td",6),s(21),n()(),o(22,"tr")(23,"td",5)(24,"strong"),s(25,"Proceeding No.:"),n()(),o(26,"td",6),s(27),n()(),o(28,"tr")(29,"td",5)(30,"strong"),s(31,"Meeting Chaired by:"),n()(),o(32,"td",6),s(33),n()(),o(34,"tr")(35,"td",5)(36,"strong"),s(37,"Designation:"),n()(),o(38,"td",6),s(39),n()(),h(40,mF,12,2)(41,pF,12,2),n()(),h(42,uF,176,72)(43,hF,166,49),o(44,"span",7),s(45,"page 1 of 2"),n()(),o(46,"div",8),u(47,"div",9),o(48,"div",10)(49,"div",11),u(50,"img",2),n(),o(51,"h4",3)(52,"strong"),s(53),n()(),o(54,"p",3),s(55),n()(),o(56,"p",10),h(57,fF,4,1)(58,_F,7,2),n(),o(59,"p")(60,"strong"),s(61),n()(),o(62,"table",12)(63,"thead")(64,"tr")(65,"th"),s(66,"SN"),n(),o(67,"th"),s(68,"Name"),n(),o(69,"th"),s(70,"Designation"),n(),o(71,"th"),s(72,"Signature"),n()()(),o(73,"tbody"),h(74,gF,8,3,"tr",13),n()(),o(75,"span",14),s(76,"page 2 of 2"),n()()),a&2&&(d(5),_(l.getHeading()),d(2),T(" ",l.getSubHeading()," "),d(8),_(l.appService.dateFormat(l.proceedingDetails==null?null:l.proceedingDetails.proceding_date)),d(6),_(l.proceedingDetails==null?null:l.proceedingDetails.venue),d(6),_(l.proceedingDetails==null?null:l.proceedingDetails.proceding_number),d(6),_(l.proceedingDetails==null?null:l.proceedingDetails.meeting_chaired_by),d(6),_(l.proceedingDetails==null?null:l.proceedingDetails.designation_chaired_by),d(1),w(40,(l.authService.userDetail==null||l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)!=4?40:41),d(2),w(42,(l.authService.userDetail==null||l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)==4?42:43),d(11),_(l.getHeading()),d(2),T(" ",l.getSubHeading()," "),d(2),w(57,(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)==4?57:58),d(4),T("Name, Designation & Signature of ",l.getProceedingType()," Members"),d(13),m("ngForOf",l.members))},dependencies:[A],styles:[".hidden_pdf_content[_ngcontent-%COMP%]{display:none}@media print{.hidden_pdf_content[_ngcontent-%COMP%]{display:block!important}@page{margin:0}body[_ngcontent-%COMP%]{margin:1cm}header[_ngcontent-%COMP%], footer[_ngcontent-%COMP%]{display:none}h4[_ngcontent-%COMP%]{font-size:15px!important}p[_ngcontent-%COMP%]{font-size:12px!important}.container-fluid[_ngcontent-%COMP%]{font-size:9px!important;padding:0 42px!important}.img-fluid[_ngcontent-%COMP%]{height:70px!important}}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#d1d1d1!important}"]});let t=r;return t})();var ac=B(ve());var rc=B(me());function bF(t,r){t&1&&(o(0,"div",4),u(1,"i",5),s(2," We are fetching the data, please wait. "),n())}function vF(t,r){if(t&1){let e=E();o(0,"button",17),x("click",function(){C(e);let a=p(3);return y(a.exportToPdf(a.filterRandomList))}),u(1,"i",18),s(2,"Download "),n()}}function xF(t,r){t&1&&(o(0,"button",19),u(1,"i",20),s(2,"Downloading... "),n())}function SF(t,r){if(t&1&&(o(0,"div"),h(1,vF,3,0,"button",16)(2,xF,3,0),n()),t&2){let e=p(2);d(1),w(1,e.isExportInProgress?2:1)}}function CF(t,r){if(t&1&&(o(0,"a",28),s(1,"View "),n()),t&2){let e=p().$implicit,i=p(3);Se("routerLink","/department/portal/approval-module/random-list/",i.appService.dateFormat(e==null?null:e.random_gen_date),"")}}function yF(t,r){t&1&&(o(0,"a",29),s(1,"View "),n())}function wF(t,r){if(t&1&&(o(0,"tr",25)(1,"td",22),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),h(10,CF,2,1,"a",26)(11,yF,2,0,"a",27),n()()),t&2){let e=r.$implicit,i=r.index,a=p(3);d(2),_(i+1),d(2),_(a.appService.dateFormat(e==null?null:e.random_gen_date)),d(2),_(e.total_list_count||"0"),d(2),_(e.random_list_count||"0"),d(2),m("ngIf",e==null?null:e.total_list_count),d(1),m("ngIf",!(e!=null&&e.total_list_count))}}function EF(t,r){if(t&1&&(o(0,"table",21)(1,"thead")(2,"tr")(3,"th",22),s(4,"SN"),n(),o(5,"th",23),s(6,"Generated Date"),n(),o(7,"th"),s(8,"Total Application"),n(),o(9,"th"),s(10,"Randomized Application"),n(),o(11,"th"),s(12,"ACTION"),n()()(),o(13,"tbody"),h(14,wF,12,6,"tr",24),n()()),t&2){let e=p(2);d(14),m("ngForOf",e.filterRandomList)}}function IF(t,r){t&1&&(o(0,"h5",30),s(1," No Data Found "),n())}function TF(t,r){if(t&1&&(o(0,"div",6)(1,"div",6)(2,"div",7)(3,"div",8),s(4," Random List "),n(),o(5,"nav",9)(6,"ol",10)(7,"li",11),s(8),n()()()(),o(9,"div",12),h(10,SF,3,1,"div",13),n()(),o(11,"div",14),h(12,EF,15,1,"table",15)(13,IF,2,0),n()()),t&2){let e=p();d(8),_(e.district_name),d(2),m("ngIf",e.filterRandomList==null?null:e.filterRandomList.length),d(2),w(12,e.filterRandomList&&e.filterRandomList.length>0?12:13)}}var lc=(()=>{let r=class r{constructor(i,a,l,c,f){this.authService=i,this.httpClient=a,this.appService=l,this.route=c,this.location=f,this.district="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(i=>{this.district_id=i.district_id,this.district_name=$.data.find(a=>a.id==this.district_id)?.district_name,this.fetchDrillDownList()}),this.route.paramMap.subscribe(i=>{this.district=i.get("district_id")||""})}get filterRandomList(){return this.searchTerm?this.drilldownStats.filter(i=>i.block_name.toLowerCase().includes(this.searchTerm.trim().toLowerCase())):this.drilldownStats}fetchDrillDownList(){this.isStatsLoading=!0;let i="";this.authService.userDetail.role?.id==4?i="/district/random-list-logs":this.authService.userDetail.role?.id==5?i="/block/random-list-logs":this.authService.userDetail.role?.id==7&&(i="/ulb/random-list-logs"),this.httpClient.get(`${this.appService.departmentBaseUrl}/v1${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.isStatsLoading=!1,this.drilldownStats=a.data},a=>{this.isStatsLoading=!1,this.drilldownStats=[]})}getGrandTotal(i){return this.filterRandomList.reduce((l,c)=>l+c[i],0)}exportToPdf(i){this.isExportInProgress=!0;let a="RANDOM LIST",l=new Date,c=`Timestamp: ${(0,rc.default)().format("DD-MM-YYYY")}, ${l.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,f=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"GENERATED DATE",fillColor:"#d3d3d3",bold:!0},{text:"TOTAL APPLICATION",fillColor:"#d3d3d3",bold:!0},{text:"RANDOMIZED APPLICATION",fillColor:"#d3d3d3",bold:!0}],...i.map((g,v)=>[{text:(v+1).toString(),fontSize:9},{text:this.appService.dateFormat(g?.random_gen_date)||"",fontSize:9},{text:g.total_list_count||"0",fontSize:9},{text:g.random_list_count||"0",fontSize:9}])],S={content:[{text:a,style:"title"},{table:{body:f,widths:["10%","30%","30%","30%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};ac.default.createPdf(S).download("random_list.pdf"),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O),b(R),b(G))},r.\u0275cmp=D({type:r,selectors:[["app-random-list-stats"]],decls:5,vars:1,consts:[[1,"container","my-4"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6","col-12","mb-2"],[1,"mb-2",2,"color","#fd7b03","font-weight","640","font-size","large"],["aria-label","breadcrumb",1,"mt-2",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"col-md-6","col-12","d-flex","justify-content-md-end","align-items-center","mb-4"],[4,"ngIf"],[1,"table-responsive","mt-3"],["class","table"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],[2,"width","5%"],[2,"width","20%"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[3,"routerLink",4,"ngIf"],["style","color: black !important;","type","button","disabled","",4,"ngIf"],[3,"routerLink"],["type","button","disabled","",2,"color","black !important"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),h(3,bF,3,0,"div",3)(4,TF,14,3),n()()()),a&2&&(d(3),w(3,l.isStatsLoading?3:4))},dependencies:[A,P,W],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}"]});let t=r;return t})();var fi=B(me());function kF(t,r){if(t&1&&u(0,"input",41),t&2){let e=p();m("value",e.authService.userDetail==null?null:e.authService.userDetail.demography_name)}}function LF(t,r){if(t&1&&(o(0,"option",43),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),_(e.district_name)}}function FF(t,r){if(t&1){let e=E();o(0,"select",42),x("change",function(){C(e);let a=p();return y(a.onDistrictChange())}),o(1,"option",18),s(2,"All"),n(),h(3,LF,2,2,"option",19),n()}if(t&2){let e=p();d(3),m("ngForOf",e.districts)}}function DF(t,r){if(t&1&&(o(0,"option",50),s(1),n()),t&2){let e=p().$implicit,i=p(3);m("ngValue",i.jsonify(e)),d(1),T(" ",e.block_name," ")}}function AF(t,r){if(t&1&&(ye(0),h(1,DF,2,2,"option",49),we()),t&2){let e=r.$implicit;d(1),m("ngIf",e.pushType==="blockid")}}function VF(t,r){if(t&1&&(o(0,"option",50),s(1),n()),t&2){let e=p().$implicit,i=p(3);m("ngValue",i.jsonify(e)),d(1),T(" ",e.ulb_name," ")}}function PF(t,r){if(t&1&&(ye(0),h(1,VF,2,2,"option",49),we()),t&2){let e=r.$implicit;d(1),m("ngIf",e.pushType==="ulbtype")}}function MF(t,r){if(t&1){let e=E();o(0,"select",45),x("change",function(){C(e);let a=p(2);return y(a.handleBlockUlbChange())}),o(1,"option",18),s(2,"All"),n(),o(3,"optgroup",46),h(4,AF,2,1,"ng-container",47),n(),o(5,"optgroup",48),h(6,PF,2,1,"ng-container",47),n()()}if(t&2){let e=p(2);d(4),m("ngForOf",e.blockULBList),d(2),m("ngForOf",e.blockULBList)}}function RF(t,r){if(t&1&&u(0,"input",41),t&2){let e=p(2);m("value",e.authService.userDetail==null?null:e.authService.userDetail.demography_name)}}function OF(t,r){if(t&1&&(o(0,"div",11)(1,"div",12)(2,"label",13),s(3,"Block/ULB/MC"),o(4,"span",14),s(5,"*"),n()(),h(6,MF,7,2,"select",44)(7,RF,1,1),n()()),t&2){let e=p();d(6),w(6,e.authService.userDetail.demography_type==2?6:7)}}function jF(t,r){if(t&1&&(o(0,"option",43),s(1),n()),t&2){let e=r.$implicit;m("value",e.id),d(1),_((e==null?null:e.gp_name)||(e==null?null:e.ward_no))}}function BF(t,r){if(t&1&&(o(0,"li",51),s(1),n()),t&2){let e=p();d(1),_(e.block_name)}}function $F(t,r){if(t&1&&(o(0,"li",51),s(1),n()),t&2){let e=p();d(1),_(e.gp_nameorWardNo)}}function NF(t,r){t&1&&(o(0,"div",52),u(1,"i",53),s(2," We are fetching the data, please wait. "),n())}function GF(t,r){t&1&&(o(0,"th",61),s(1,"Block/ULB"),n())}function WF(t,r){t&1&&(o(0,"th",61),s(1,"Village"),n())}function zF(t,r){if(t&1&&(o(0,"td"),s(1),n()),t&2){let e=p().$implicit;d(1),_((e==null?null:e.block_name)||(e==null?null:e.ulb_name)||"N/A")}}function UF(t,r){if(t&1&&(o(0,"td"),s(1),n()),t&2){let e=p().$implicit;d(1),_((e==null?null:e.village_name)||"N/A")}}var HF="/department/portal/approval-module/random-list/field-verification-report",YF=t=>[HF,t],qF=t=>({"disabled-link":t});function KF(t,r){if(t&1&&(o(0,"tr")(1,"td"),s(2),n(),h(3,zF,2,1,"td",63),o(4,"td"),s(5),n(),h(6,UF,2,1,"td",63),o(7,"td"),s(8),n(),o(9,"td",64),s(10),n(),o(11,"td",64),s(12),n(),o(13,"td"),s(14),n(),o(15,"td",65)(16,"a",66),x("click",function(i){return i.preventDefault()}),n()()()),t&2){let e=r.$implicit,i=r.index,a=p(4);d(2),_(i+1),d(1),m("ngIf",a.authService.userDetail.demography_type==2),d(2),_((e==null?null:e.gp_name)||(e==null?null:e.ward_no)||"N/A"),d(1),m("ngIf",a.authService.userDetail.role.id==5||a.isBlockSelected()),d(2),_(e==null?null:e.application_number),d(2),_(e==null?null:e.applicant_name),d(2),_(e==null?null:e.spouse_or_father_name),d(2),_(a.appService.dateFormat(e==null?null:e.field_verification_date)),d(2),et("pointer-events",e!=null&&e.field_verification_id?"auto":"none"),m("routerLink",e!=null&&e.field_verification_id?_e(13,YF,+(e==null?null:e.field_verification_id)):null)("ngClass",_e(15,qF,!(e!=null&&e.field_verification_id))),Ze("aria-disabled",!(e!=null&&e.field_verification_id))}}function JF(t,r){if(t&1&&(o(0,"table",57)(1,"thead",58)(2,"tr")(3,"th",59),s(4," SN "),n(),h(5,GF,2,0,"th",60),o(6,"th",61),s(7,"GP/Ward"),n(),h(8,WF,2,0,"th",60),o(9,"th",61),s(10,"Application No."),n(),o(11,"th",61),s(12,"Applicant Name"),n(),o(13,"th",61),s(14,"Father/Husband Name"),n(),o(15,"th",61),s(16,"FET Date"),n(),o(17,"th",61),s(18,"FET Report"),n()()(),o(19,"tbody",62),h(20,KF,17,17,"tr",47),n()()),t&2){let e=p(3);d(5),m("ngIf",e.authService.userDetail.demography_type==2),d(3),m("ngIf",e.authService.userDetail.role.id==5||e.isBlockSelected()),d(12),m("ngForOf",e.fieldVerificationsList)}}function XF(t,r){t&1&&(o(0,"span"),u(1,"i",53),s(2," Loading..."),n())}function QF(t,r){t&1&&(o(0,"span"),s(1,"Load More"),n())}function ZF(t,r){if(t&1){let e=E();o(0,"div",67)(1,"button",68),x("click",function(){C(e);let a=p(3);return y(a.loadMore())}),h(2,XF,3,0,"span",63)(3,QF,2,0,"span",63),n()()}if(t&2){let e=p(3);d(2),m("ngIf",e.isLoadMoreInProgress),d(1),m("ngIf",!e.isLoadMoreInProgress)}}function eD(t,r){if(t&1&&(o(0,"div",54),h(1,JF,21,3,"table",55),n(),h(2,ZF,4,2,"div",56)),t&2){let e=p(2);d(1),m("ngIf",e.tab===3),d(1),m("ngIf",e.fieldVerificationsList.length&&e.fieldVerificationsList.length!=e.totalApplicants)}}function tD(t,r){t&1&&(o(0,"h5",69),s(1," No Application Found "),n())}function iD(t,r){if(t&1&&(o(0,"div"),h(1,eD,3,2)(2,tD,2,0),n()),t&2){let e=p();d(1),w(1,e.fieldVerificationsList.length?1:2)}}var sc=(()=>{let r=class r{constructor(i,a,l,c,f,S,g,v,I,F,L,N){this.route=i,this.appService=a,this.authService=l,this.httpClient=c,this.fb=f,this.formService=S,this.toastService=g,this.fieldVerification=v,this.location=I,this.router=F,this.paginationService=L,this.masterDataService=N,this.displayReasons=!1,this.reasonsForEligibility=[{reason_id:"13",eligible_reasons:"She is alive."},{reason_id:"12",eligible_reasons:"She is a female."},{reason_id:"11",eligible_reasons:"Her family\u2019s income is not more than Rs. 2.50 lakhs."},{reason_id:"10",eligible_reasons:"Her family does not owns a four-wheeler motor vehicle."},{reason_id:"9",eligible_reasons:"Her family does not owns more than 5 acres of irrigated or 10 acres of non-irrigated land."},{reason_id:"8",eligible_reasons:"She or any family member is not a member in a Govt. PSU/Board/Organization."},{reason_id:"7",eligible_reasons:"She or any family member is not employed with a Govt. Organization or receiving pension."},{reason_id:"6",eligible_reasons:"She or any family member is not an elected representative in an ULB/PRI."},{reason_id:"5",eligible_reasons:"She or any family member is not an Income Tax Payee."},{reason_id:"4",eligible_reasons:"She or any family member is not a current/former MP or MLA."},{reason_id:"3",eligible_reasons:"She does not receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Govt."},{reason_id:"2",eligible_reasons:"She is 21 years or above and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"1",eligible_reasons:"She is a resident of Odisha."}],this.reasonsForInEligibility=[{reason_id:"32",ineligible_reasons:"She is not alive."},{reason_id:"31",ineligible_reasons:"She is not a female."},{reason_id:"30",ineligible_reasons:"Her family\u2019s income exceeds Rs. 2.50 lakhs per year."},{reason_id:"29",ineligible_reasons:"Her family owns a four-wheeler motor vehicle."},{reason_id:"28",ineligible_reasons:"Her family owns more than 5 acres of irrigated land or 10 acres of non-irrigated land."},{reason_id:"27",ineligible_reasons:"She or a family member is a member in a Government PSU/Board/Organization."},{reason_id:"26",ineligible_reasons:"She or a family member is employed with a Government Organization or receives a pension."},{reason_id:"25",eligible_reasons:"She or a family member is an elected representative in an Urban Local Body (ULB) or Panchayati Raj Institution (PRI)."},{reason_id:"24",ineligible_reasons:"She or a family member is an Income Tax Payee."},{reason_id:"23",ineligible_reasons:"She or a family member is a current/former MP or MLA."},{reason_id:"22",ineligible_reasons:"She receives financial assistance of Rs. 1500/month or Rs. 18,000/year from the Government."},{reason_id:"21",ineligible_reasons:"She is not aged between 21 years and less than 60 years as of July 1, 2024, as per Aadhaar."},{reason_id:"20",ineligible_reasons:"She is not a resident of Odisha."}],this.alreadySelectedReasons=[],this.reasonsList=[],this.fieldVerificationData="",this.selectedReasons=[],this.selectedItem=null,this.villageList=[],this.electedCategory="",this.selectedDate="",this.today=new Date().toISOString().split("T")[0],this.applications=[],this.isStatsLoading=!1,this.selectAll=!1,this.selectedCategory="",this.selectedStatus="",this.selectedAssignTo="",this.selectedVillage="",this.eligibleCount={},this.selectedImage="",this.isFormSubmitInProgress=!1,this.isDownloadingInProgress=!1,this.isDataLoading=!1,this.objectionsList=[],this.selectedFieldVerificationId=[],this.fieldVerificationsList=[],this.newApplicationList=[],this.recommendConfirmationModalstage=1,this.gp_id="",this.block_id="",this.district_id="",this.ward_id="",this.block_name="",this.district_name="",this.moveStatus="",this.categories=[],this.ineligibleReasons=[],this.totalApplicants=0,this.isUsersLoading=!1,this.users=[],this.proceedingList=[],this.gp_nameorWardNo="",this.isLoadMoreInProgress=!1,this.pageSize=this.appService.loadmorelimit10,this.page=1,this.searchValue="",this.tab=3,this.ulb_name="",this.generate_date="",this.exportInProgress=!1,this.districts=[],this.blocks=[],this.blockULBList=[],this.gpWards=[],this.ulbs=[],this.mcIds=Oe.MC_IDS,this.searchForm=new pe({district:new Si("",[k.required]),block:new Si("",[k.required]),gp_ward:new Si("",[k.required])}),this.categories=this.fieldVerification.fieldVerificationCategories,this.assignFieldOfficerForm=this.fb.group({remarks:["",k.pattern(/.*\S.*/)],reasons:this.fb.group({})}),this.redressForm=this.fb.group({remarks:["",k.required,[k.pattern(/.*\S.*/)]],recommendFor:["",k.required]}),this.recommedationForm=this.fb.group({remarks:["",[k.required,k.pattern(/.*\S.*/)]]}),this.disposalForm=this.fb.group({remarks:["",k.pattern(/.*\S.*/)],reasons:this.fb.group({}),recommendFor:["",k.required]})}handleBackClick(){(this.searchValue?.trim()||this.selectedDate||this.selectedStatus||this.selectedVillage)&&(this.searchValue="",this.selectedDate="",this.selectedStatus="",this.selectedVillage="")}getDeclarationLabel(i){return this.fieldVerification.declarations.find(a=>Number(a?.id)===Number(i))?.declaration}ngOnInit(){if(this.districts=$.data,this.route.params.subscribe(i=>{let a=i.id;a&&(this.generate_date=a)}),this.authService.userDetail.role.id==4&&(this.authService.userDetail.demography_type==2&&(this.searchForm.patchValue({district:this.authService.userDetail?.demography_id}),this.searchForm.get("district")?.disable(),this.onDistrictLoadChange()),this.authService.userDetail.demography_type==5)){let i=he.data.find(a=>a.id==this.authService.userDetail.demography_id);this.searchForm.patchValue({district:this.authService.userDetail?.district_id,block:this.jsonify(i)}),this.searchForm.get("district")?.disable(),this.searchForm.get("block")?.disable(),this.handleBlockUlbChangeLoad()}if(this.authService.userDetail.role.id==7){let i=he.data.find(a=>a.id==this.authService.userDetail.demography_id);this.searchForm.patchValue({district:this.authService.userDetail?.district_id,block:this.jsonify(i)}),this.searchForm.get("district")?.disable(),this.searchForm.get("block")?.disable(),this.onDistrictLoadChange(),this.handleBlockUlbChangeLoad()}if(this.authService.userDetail.role.id==5){let i=be.data.find(a=>a.id==this.authService.userDetail.demography_id);this.searchForm.patchValue({district:this.authService.userDetail?.district_id,block:this.jsonify(i)}),this.searchForm.get("district")?.disable(),this.searchForm.get("block")?.disable(),this.onDistrictLoadChange(),this.handleBlockUlbChangeLoad()}this.fetchApplicationList(),this.today=(0,fi.default)().format("YYYY-MM-DD")}goBack(){this.location.back()}closeModal(){if(this.recommendConfirmationModalstage==1){let i=document.getElementById("recommendationConfirmationModal");if(i){(j.getInstance(i)||new j(i)).hide();let l=document.getElementById("recommendModal");(j.getInstance(l)||new j(l)).show()}}else this.recommendConfirmationModalstage=1}getLabel(i){return i=="heading"?this.recommendConfirmationModalstage==1?"Please Confirm !":"Are You Sure ?":i=="body"?this.recommendConfirmationModalstage==1?`You have selected <b>${this.totalApplicants}</b> application(s) to be recommended for ${this.tab==1?"Approval":"Rejection"}. Are you sure to proceed ahead with these application(s) ?`:`<b>${this.totalApplicants}</b> no. of applications recommended for ${this.tab==1?"Approval":"Rejection"} are matching up with the proceedings of BLSC/ULSC/MLSC (as applicable). This decision is final and no further changes can be made.`:""}handleEligibleIneligible(){this.selectedReasons=[]}loadMore(){this.page=this.page+1,this.loadMoreApplicantionList()}resetTouchedStatus(i){Object.keys(i.controls).forEach(a=>{let l=i.get(a);l&&(l instanceof pe?this.resetTouchedStatus(l):(l.markAsPristine(),l.markAsUntouched()))})}fetchApplicationList(){let i="";if(this.authService.userDetail?.role?.id==4){i=`/v1/district/random-list-log-data?page=1&pageSize=${this.pageSize}&date=${(0,fi.default)(this.generate_date,"DD-MM-YYYY").format("YYYY-MM-DD")}`;let a=this.searchForm.get("block")?.value,l=this.searchForm.get("gp_ward")?.value;a&&(a=JSON.parse(a),a?.ulb_name?(i+=`&ulb_id=${a.id}`,l&&(i+=`&ward_id=${l}`)):(i+=`&block_id=${a.id}`,l&&(i+=`&gp_id=${l}`)))}if(this.authService.userDetail?.role?.id==7){i=`/v1/ulb/random-list-log-data?page=1&pageSize=${this.pageSize}&date=${(0,fi.default)(this.generate_date,"DD-MM-YYYY").format("YYYY-MM-DD")}`;let a=this.searchForm.get("gp_ward")?.value;a&&(i+=`&ward_id=${a}`)}if(this.authService.userDetail?.role?.id==5){i=`/v1/block/random-list-log-data?page=1&pageSize=${this.pageSize}&date=${(0,fi.default)(this.generate_date,"DD-MM-YYYY").format("YYYY-MM-DD")}`;let a=this.searchForm.get("gp_ward")?.value;a&&(i+=`&gp_id=${a}`)}this.searchValue&&(i+=`&search=${this.searchValue}`),this.page=1,this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.newApplicationList=a.data,this.fieldVerificationsList=a.data,this.paginationService.setData("gp_id",this.gp_id,this.fieldVerificationsList,1,"PendingObjections",this.authService.userDetail.demography_id,a.totalCount),this.eligibleCount=a.count,this.selectedFieldVerificationId=[],this.isStatsLoading=!1,this.totalApplicants=a.count},a=>{this.isStatsLoading=!1})}loadMoreApplicantionList(){this.isLoadMoreInProgress=!0;let i="";if(this.authService.userDetail?.role?.id==4){i=`/v1/district/random-list-log-data?page=${this.page}&pageSize=${this.pageSize}&date=${(0,fi.default)(this.generate_date,"DD-MM-YYYY").format("YYYY-MM-DD")}`;let a=this.searchForm.get("block")?.value,l=this.searchForm.get("gp_ward")?.value;a&&(a=JSON.parse(a),a?.ulb_name?(i+=`&ulb_id=${a.id}`,l&&(i+=`&ward_id=${l}`)):(i+=`&block_id=${a.id}`,l&&(i+=`&gp_id=${l}`)))}if(this.authService.userDetail?.role?.id==7){i=`/v1/ulb/random-list-log-data?page=${this.page}&pageSize=${this.pageSize}&date=${(0,fi.default)(this.generate_date,"DD-MM-YYYY").format("YYYY-MM-DD")}`;let a=this.searchForm.get("gp_ward")?.value;a&&(i+=`&ward_id=${a}`)}if(this.authService.userDetail?.role?.id==5){i=`/v1/block/random-list-log-data?page=${this.page}&pageSize=${this.pageSize}&date=${(0,fi.default)(this.generate_date,"DD-MM-YYYY").format("YYYY-MM-DD")}`;let a=this.searchForm.get("gp_ward")?.value;a&&(i+=`&gp_id=${a}`)}this.searchValue&&(i+=`&search=${this.searchValue}`),this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.newApplicationList=a.data,this.fieldVerificationsList=[...this.fieldVerificationsList,...a.data],this.eligibleCount=a.count,this.selectedFieldVerificationId=[],this.isLoadMoreInProgress=!1,this.totalApplicants=a.count},a=>{this.isLoadMoreInProgress=!1})}onDistrictChange(){this.searchForm.get("block")?.setValue("");let i=this.searchForm.get("district")?.value;i&&(i=JSON.parse(i)),!i?.ulb_name&&(this.blocks=this.masterDataService.getBlockData(i?.id),this.ulbs=this.masterDataService.getULBData(i?.id)?.filter(a=>!this.mcIds?.includes(a.id)),this.blockULBList=[...this.blocks.map(a=>J(H({},a),{pushType:"blockid"})),...this.ulbs.map(a=>J(H({},a),{pushType:"ulbtype"}))])}onDistrictLoadChange(){let i=this.searchForm.get("district")?.value;this.blocks=this.masterDataService.getBlockData(i),this.ulbs=this.masterDataService.getULBData(i),this.blockULBList=[...this.blocks.map(a=>J(H({},a),{pushType:"blockid"})),...this.ulbs.map(a=>J(H({},a),{pushType:"ulbtype"}))]}jsonify(i){return JSON.stringify(i)}isMcSelected(){return!1}isBlockSelected(){let i=this.searchForm.get("block")?.value;return!!(i&&JSON.parse(i)?.block_name||this.fieldVerificationsList?.find(a=>a?.block_name))}onGpWardChange(){this.page=1,this.searchValue="",this.fetchApplicationList()}handleBlockUlbChange(){this.page=1,this.searchValue="",this.searchForm.get("gp_ward")?.setValue("");let i=this.searchForm.get("block")?.value;if(this.fetchApplicationList(),i){let a=JSON.parse(i);a?.ulb_name?this.gpWards=He.data.filter(l=>l.ulb_id==a.id):this.gpWards=Ue.data.filter(l=>l.block_id==a.id)}else this.gpWards=[]}handleBlockUlbChangeLoad(){let i=this.searchForm.get("block")?.value;if(console.log("selecteBlockUlb",i),i){let a=JSON.parse(i);a?.ulb_name?this.gpWards=He.data.filter(l=>l.ulb_id==a.id):this.gpWards=Ue.data.filter(l=>l.block_id==a.id)}else this.gpWards=[]}onCategoryChange(i){this.selectedCategory=i.target.value,this.fetchApplicationList()}onDateChange(i){this.selectedDate=i.target.value,this.fetchApplicationList()}handleVillageChange(i){this.selectedVillage=i.target.value,this.fetchApplicationList()}resetFormState(){this.selectedFieldVerificationId=[],this.assignFieldOfficerForm.reset({remarks:"",document:"",meetingDate:""}),this.selectedImage=null}getApplicationNumber(){if(!this.selectedFieldVerificationId?.length)return"";let i=this.fieldVerificationsList?.find(a=>a?.id==this.selectedFieldVerificationId[0]);return i?i?.application_number:""}handleExport(){this.isDownloadingInProgress=!0,this.page=1;let i=`/v1/provisional-published-list-pdf?isAll=0&type=${this.tab==1?"eligible":this.tab==2?"ineligible":"objected"}&page=1&pageSize=${this.pageSize}`;this.gp_id&&(i+=`&gp_id=${this.gp_id}`),this.ward_id&&(i+=`&ward_id=${this.ward_id}`),this.searchValue&&(i+=`&search=${this.searchValue}`),this.selectedVillage&&(i+=`&village_id=${this.selectedVillage}`),this.selectedDate&&(i+=`&fv_status_date=${this.selectedDate}`),this.exportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(a=>{this.isDownloadingInProgress=!1,this.downloadFile(a,this.tab==1?"eligible_application.pdf":this.tab==2?"ineligible_application.pdf":"objected_applications.pdf")},a=>{this.isDownloadingInProgress=!1,console.error("File download failed:",a)})}downloadFile(i,a){let l=window.URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=a,c.click(),window.URL.revokeObjectURL(l)}handleSearchChange(i){this.page=1,this.searchValue=i.target.value,this.fetchApplicationList()}onSubmit(){}};r.\u0275fac=function(a){return new(a||r)(b(R),b(O),b(V),b(M),b(Q),b(Z),b(K),b(Me),b(G),b(Ne),b(fe),b(Nn))},r.\u0275cmp=D({type:r,selectors:[["app-random-list-details"]],decls:62,vars:11,consts:[[1,"container-fluid"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["routerLink","/department/portal/approval-module/random-list","type","button",1,"me-2"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card","p-3","mt-3",3,"formGroup"],[1,"row","mb-2",2,"font-weight","640","font-size","large"],[1,"col-12",2,"color","#fe8b03"],[1,"row"],[1,"col-sm-12","col-md-3"],[1,"form-group"],[1,"mb-1","form-label",2,"font-weight","540"],[1,"text-danger"],["class","form-control form-select my-2","disabled","",3,"value"],["class","col-sm-12 col-md-3",4,"ngIf"],["id","gp_ward","formControlName","gp_ward",1,"form-control","form-select","my-2",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"card","mt-3"],[1,"card-body"],[1,"row","d-flex","align-items-center"],[1,"d-flex","flex-column","gap-2","col-md-4","col-12","mb-2"],[1,"mb-md-0",2,"color","#fd7b03","font-size","1.3rem"],[1,"col-md-8","col-12","d-flex","flex-wrap","justify-content-md-end","align-items-center"],[1,"search-box","me-2",2,"flex-grow","1","max-width","30%"],["type","text","placeholder","Search Here...",1,"form-control",3,"value","change"],[1,"fa","fa-search"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page",4,"ngIf"],[1,"d-flex","justify-content-between","pr-5"],[1,"col-md-8","row","mt-3","mb-3"],[1,"col-md-3","text-sm","d-flex","gap-2"],[1,"col-md-6","d-flex","mb-4"],[1,"col-md-8"],[1,"fs-6","fw-bold"],[2,"margin-left","2px"],["class","w-100 d-flex justify-content-center align-items-center"],["disabled","",1,"form-control","form-select","my-2",3,"value"],["id","district","formControlName","district",1,"form-control","form-select","my-2",3,"change"],[3,"value"],["id","block","formControlName","block","class","form-control form-select my-2"],["id","block","formControlName","block",1,"form-control","form-select","my-2",3,"change"],["label","Blocks"],[4,"ngFor","ngForOf"],["label","ULBs"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],["aria-current","page",1,"breadcrumb-item","active"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"table-responsive","mt-4"],["class","table",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"table"],[2,"font-size","14px","font-weight","620"],[2,"width","5%"],["class"," text-nowrap",4,"ngIf"],[1,"text-nowrap"],[2,"font-size","14px"],[4,"ngIf"],[2,"text-transform","uppercase"],[1,"text-center"],[1,"far","fa-file-alt",3,"routerLink","ngClass","click"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"mt-6","text-center"]],template:function(a,l){a&1&&(o(0,"div",0)(1,"div",1),u(2,"div",2),o(3,"div",3)(4,"a",4)(5,"button",5),u(6,"i",6),s(7," Back"),n()()()(),o(8,"form",7)(9,"div",8)(10,"div",9),s(11,"Filter"),n()(),o(12,"div",10)(13,"div",11)(14,"div",12)(15,"label",13),s(16,"District/MC"),o(17,"span",14),s(18,"*"),n()(),h(19,kF,1,1,"input",15)(20,FF,4,1),n()(),h(21,OF,8,1,"div",16),o(22,"div",11)(23,"div",12)(24,"label",13),s(25,"Gp/Ward"),o(26,"span",14),s(27,"*"),n()(),o(28,"select",17),x("change",function(){return l.onGpWardChange()}),o(29,"option",18),s(30,"All"),n(),h(31,jF,2,2,"option",19),n()()()()(),o(32,"div",20)(33,"div",21)(34,"div",22)(35,"div",23)(36,"div",24),s(37," Random List Applications "),n(),o(38,"span"),s(39),n()(),o(40,"div",25)(41,"div",26)(42,"input",27),x("change",function(f){return l.handleSearchChange(f)}),n(),u(43,"i",28),n()()(),o(44,"nav",29)(45,"ol",30)(46,"li",31),s(47),n(),h(48,BF,2,1,"li",32)(49,$F,2,1,"li",32),n()(),o(50,"div",33)(51,"div",34),u(52,"div",35),n()(),o(53,"div",36)(54,"div",37)(55,"div",38)(56,"span"),s(57,"Total No. of Applications : "),n(),o(58,"span",39),s(59),n()()()(),h(60,NF,3,0,"div",40)(61,iD,3,1),n()()()),a&2&&(d(8),m("formGroup",l.searchForm),d(11),w(19,l.authService.userDetail.demography_type==5&&(l.authService.userDetail.role==null?null:l.authService.userDetail.role.id)==4?19:20),d(2),m("ngIf",!l.isMcSelected()),d(10),m("ngForOf",l.gpWards),d(8),T("Generate Date : ",l.generate_date,""),d(3),m("value",l.searchValue),d(5),_(l.district_name),d(1),m("ngIf",l.block_name),d(1),m("ngIf",l.gp_nameorWardNo),d(10),T(" ",l.totalApplicants,""),d(1),w(60,l.isStatsLoading?60:61))},dependencies:[xt,A,P,W,se,Ie,Te,ut,U,le,Ee,Ve],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:250px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.btn-assign[_ngcontent-%COMP%], .btn-export[_ngcontent-%COMP%]{background-color:#ffe8d0;color:#fd7b03;font-weight:620;border-radius:5px;padding:5px 15px!important}.input_raw[_ngcontent-%COMP%]{display:flex;gap:10px;width:100%}.input_raw[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:59%}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background-color:#ccc;color:#000}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fe8b03;color:#fff}.modal-xl[_ngcontent-%COMP%]{max-width:78%}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}@media (max-width: 768px){.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:12px;padding:.5rem}}.table-responsive[_ngcontent-%COMP%]{overflow-x:scroll}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.table-responsive[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}.custom-modal-position[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{top:22%;left:8.5%;transform:translateY(-50%);position:relative}#modal1[_ngcontent-%COMP%]{max-width:80%;left:8.5%}.input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#input_raw[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}#input_raw[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:36px;border:1px solid #ccc;border-radius:4px;padding:0 10px;font-size:14px;color:#333}#input_raw[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#fd7b03;box-shadow:0 0 4px #fd7b0380;outline:none}#input_raw[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}#modal2[_ngcontent-%COMP%]{max-width:80%;top:-22%;left:7.5%}"]});let t=r;return t})();function nD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.a1)||"0")," ")}}function oD(t,r){t&1&&u(0,"i",27)}function aD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.a2)||"0")," ")}}function rD(t,r){t&1&&u(0,"i",27)}function lD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.a3)||"0")," ")}}function sD(t,r){t&1&&u(0,"i",27)}function dD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.suma)||"0")," ")}}function cD(t,r){t&1&&u(0,"i",27)}function mD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.b1)||"0")," ")}}function pD(t,r){t&1&&u(0,"i",27)}function uD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.b2)||"0")," ")}}function hD(t,r){t&1&&u(0,"i",27)}function fD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.b3)||"0")," ")}}function _D(t,r){t&1&&u(0,"i",27)}function gD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.sumb)||"0")," ")}}function bD(t,r){t&1&&u(0,"i",27)}function vD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.c1)||"0")," ")}}function xD(t,r){t&1&&u(0,"i",27)}function SD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.c2)||"0")," ")}}function CD(t,r){t&1&&u(0,"i",27)}function yD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.c3)||"0")," ")}}function wD(t,r){t&1&&u(0,"i",27)}function ED(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.sumc)||"0")," ")}}function ID(t,r){t&1&&u(0,"i",27)}function TD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.d1)||"0")," ")}}function kD(t,r){t&1&&u(0,"i",27)}function LD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.d2)||"0")," ")}}function FD(t,r){t&1&&u(0,"i",27)}function DD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.d3)||"0")," ")}}function AD(t,r){t&1&&u(0,"i",27)}function VD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.sumd)||"0")," ")}}function PD(t,r){t&1&&u(0,"i",27)}function MD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.e1)||"0")," ")}}function RD(t,r){t&1&&u(0,"i",27)}function OD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.e2)||"0")," ")}}function jD(t,r){t&1&&u(0,"i",27)}function BD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.sume)||"0")," ")}}function $D(t,r){t&1&&u(0,"i",27)}function ND(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.f1)||"0")," ")}}function GD(t,r){t&1&&u(0,"i",27)}function WD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.f2)||"0")," ")}}function zD(t,r){t&1&&u(0,"i",27)}function UD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.sumf)||"0")," ")}}function HD(t,r){t&1&&u(0,"i",27)}function YD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.g1)||"0")," ")}}function qD(t,r){t&1&&u(0,"i",27)}function KD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.g2)||"0")," ")}}function JD(t,r){t&1&&u(0,"i",27)}function XD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.sumg)||"0")," ")}}function QD(t,r){t&1&&u(0,"i",27)}function ZD(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.h1)||"0")," ")}}function e6(t,r){t&1&&u(0,"i",27)}function t6(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.h2)||"0")," ")}}function i6(t,r){t&1&&u(0,"i",27)}function n6(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.h3)||"0")," ")}}function o6(t,r){t&1&&u(0,"i",27)}function a6(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.sumh)||"0")," ")}}function r6(t,r){t&1&&u(0,"i",27)}function l6(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.i)||"0")," ")}}function s6(t,r){t&1&&u(0,"i",27)}function d6(t,r){if(t&1&&(ye(0),s(1),Ce(2,"indianNumberFormat"),we()),t&2){let e=p();d(1),T(" ",Le(2,1,(e.dashboardData==null?null:e.dashboardData.j)||"0")," ")}}function c6(t,r){t&1&&u(0,"i",27)}var dc=(()=>{let r=class r{constructor(i,a,l){this.authService=i,this.httpClient=a,this.appService=l,this.dashboardData=null,this.isStatLoading=!1}ngOnInit(){this.fetchDashboardData()}fetchDashboardData(){let i="/v1/approval/dashboard";this.isStatLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${i}`,{headers:{Authorization:this.authService.authToken}}).subscribe(a=>{this.isStatLoading=!1,this.dashboardData=a.data,console.log("this.dashboardData",this.dashboardData)},a=>{this.isStatLoading=!1})}};r.\u0275fac=function(a){return new(a||r)(b(V),b(M),b(O))},r.\u0275cmp=D({type:r,selectors:[["app-approval-dashboard"]],decls:375,vars:62,consts:[[1,"container","mt-5","p-4","rounded-3",2,"border","1px solid #979aa7"],[1,"card","border-clr-1","bg-1"],[1,"table","mb-0"],[2,"width","5%"],[1,"text-muted",2,"display","block"],[1,"text-end","text-primary","fw-bold","count-1"],[4,"ngIf","ngIfElse"],["loadingSpinner",""],[1,"text-end","text-info","fw-bold","count-2"],[1,"text-end","text-danger","fw-bold","count-3"],[2,"border-top","1px solid #ffc074"],[1,"text-end","fw-bold"],[1,"mt-3"],[1,"card","border-clr-2","bg-2"],[1,"text-end","text-primary","fw-bold"],[1,"text-end","text-info","fw-bold"],[1,"text-end","text-danger","fw-bold"],[2,"border-top","1px solid #70c0ff"],[1,"card","border-clr-2","bg-2","mt-4"],[1,"card","bg-3","border-clr-3"],[2,"border-top","1px solid #c48aff"],[1,"card","bg-3","border-clr-3","mt-4"],[1,"card","final-border-clr-1","final-bg-1","mt-4"],[1,"count-1"],[1,"card","final-border-clr-2","final-bg-2","mt-4"],[1,"count-3"],[1,"text-end","fw-bold","count-3"],[1,"fa","fa-spinner","fa-spin"]],template:function(a,l){if(a&1&&(o(0,"div",0)(1,"h5"),s(2,"Status of FET Recommended and Published Applications"),n(),o(3,"div",1)(4,"table",2)(5,"tbody")(6,"tr")(7,"th",3),s(8,"A1"),n(),o(9,"td")(10,"strong"),s(11,"Eligible"),n(),o(12,"small",4),s(13,"(FET Recommended)"),n()(),o(14,"td",5),h(15,nD,3,3,"ng-container",6)(16,oD,1,0,"ng-template",null,7,ge),n()(),o(18,"tr")(19,"th"),s(20,"A2"),n(),o(21,"td")(22,"strong"),s(23,"Ineligible "),n(),o(24,"small",4),s(25,"(FET Recommended)"),n()(),o(26,"td",8),h(27,aD,3,3,"ng-container",6)(28,rD,1,0,"ng-template",null,7,ge),n()(),o(30,"tr")(31,"th"),s(32,"A3"),n(),o(33,"td")(34,"strong"),s(35," Objection"),n(),o(36,"small",4),s(37,"(Out of Eligible and Ineligible)"),n()(),o(38,"td",9),h(39,lD,3,3,"ng-container",6)(40,sD,1,0,"ng-template",null,7,ge),n()(),o(42,"tr",10)(43,"th"),s(44,"A"),n(),o(45,"td")(46,"strong"),s(47,"Total"),n(),o(48,"small",4),s(49,"(FET Recommended)"),n()(),o(50,"td",11),h(51,dD,3,3,"ng-container",6)(52,cD,1,0,"ng-template",null,7,ge),n()()()()(),o(54,"h5",12),s(55,"Status of Applications at BLSC/ULSC"),n(),o(56,"div",13)(57,"table",2)(58,"tbody")(59,"tr")(60,"th",3),s(61,"B1"),n(),o(62,"td")(63,"strong"),s(64,"Recommended for Approval"),n(),o(65,"small",4),s(66,"(From Eligible) "),n()(),o(67,"td",14),h(68,mD,3,3,"ng-container",6)(69,pD,1,0,"ng-template",null,7,ge),n()(),o(71,"tr")(72,"th"),s(73,"B2"),n(),o(74,"td")(75,"strong"),s(76,"Recommended for Approval"),n(),o(77,"small",4),s(78,"(Out of Ineligible) "),n()(),o(79,"td",15),h(80,uD,3,3,"ng-container",6)(81,hD,1,0,"ng-template",null,7,ge),n()(),o(83,"tr")(84,"th"),s(85,"B3"),n(),o(86,"td")(87,"strong"),s(88,"Disposed for Approval"),n(),o(89,"small",4),s(90,"(Out of Objection)"),n()(),o(91,"td",16),h(92,fD,3,3,"ng-container",6)(93,_D,1,0,"ng-template",null,7,ge),n()(),o(95,"tr",17)(96,"th"),s(97,"B"),n(),o(98,"td")(99,"strong"),s(100,"Total Recommended for Approval"),n()(),o(101,"td",11),h(102,gD,3,3,"ng-container",6)(103,bD,1,0,"ng-template",null,7,ge),n()()()()(),o(105,"div",18)(106,"table",2)(107,"tbody")(108,"tr")(109,"th",3),s(110,"C1"),n(),o(111,"td")(112,"strong"),s(113,"Recommended for Rejection"),n(),o(114,"small",4),s(115," (From Ineligible) "),n()(),o(116,"td",14),h(117,vD,3,3,"ng-container",6)(118,xD,1,0,"ng-template",null,7,ge),n()(),o(120,"tr")(121,"th"),s(122,"C2"),n(),o(123,"td")(124,"strong"),s(125,"Recommended for Rejection"),n(),o(126,"small",4),s(127,"(Out of Eligible) "),n()(),o(128,"td",15),h(129,SD,3,3,"ng-container",6)(130,CD,1,0,"ng-template",null,7,ge),n()(),o(132,"tr")(133,"th"),s(134,"C3"),n(),o(135,"td")(136,"strong"),s(137,"Disposed for Rejection"),n(),o(138,"small",4),s(139,"(Out of Objection)"),n()(),o(140,"td",16),h(141,yD,3,3,"ng-container",6)(142,wD,1,0,"ng-template",null,7,ge),n()(),o(144,"tr",17)(145,"th"),s(146,"C"),n(),o(147,"td")(148,"strong"),s(149,"Total Recommended for Rejection"),n()(),o(150,"td",11),h(151,ED,3,3,"ng-container",6)(152,ID,1,0,"ng-template",null,7,ge),n()()()()(),o(154,"div",18)(155,"table",2)(156,"tbody")(157,"tr")(158,"th",3),s(159,"D1"),n(),o(160,"td")(161,"strong"),s(162,"Pending Eligible at BLSC/ULSC"),n()(),o(163,"td",14),h(164,TD,3,3,"ng-container",6)(165,kD,1,0,"ng-template",null,7,ge),n()(),o(167,"tr")(168,"th"),s(169,"D2"),n(),o(170,"td")(171,"strong"),s(172,"Pending Ineligible at BLSC/ULSC"),n()(),o(173,"td",15),h(174,LD,3,3,"ng-container",6)(175,FD,1,0,"ng-template",null,7,ge),n()(),o(177,"tr")(178,"th"),s(179,"D3"),n(),o(180,"td")(181,"strong"),s(182,"Pending Objection at BLSC/ULSC"),n()(),o(183,"td",16),h(184,DD,3,3,"ng-container",6)(185,AD,1,0,"ng-template",null,7,ge),n()(),o(187,"tr",17)(188,"th"),s(189,"D"),n(),o(190,"td")(191,"strong"),s(192,"Total Pending at DLSC/MLSC "),n()(),o(193,"td",11),h(194,VD,3,3,"ng-container",6)(195,PD,1,0,"ng-template",null,7,ge),n()()()()(),o(197,"h5",12),s(198,"Status of Applications at DLSC/MLSC"),n(),o(199,"div",19)(200,"table",2)(201,"tbody")(202,"tr")(203,"th",3),s(204,"E1"),n(),o(205,"td")(206,"strong"),s(207,"Approved"),n(),o(208,"small",4),s(209," (Out of Recommended for Approval) "),n()(),o(210,"td",14),h(211,MD,3,3,"ng-container",6)(212,RD,1,0,"ng-template",null,7,ge),n()(),o(214,"tr")(215,"th"),s(216,"E2"),n(),o(217,"td")(218,"strong"),s(219,"Approved"),n(),o(220,"small",4),s(221,"(Disposed out of Held for Reconsideration) "),n()(),o(222,"td",15),h(223,OD,3,3,"ng-container",6)(224,jD,1,0,"ng-template",null,7,ge),n()(),o(226,"tr",20)(227,"th"),s(228,"E"),n(),o(229,"td")(230,"strong"),s(231,"Total Approved (Final)"),n()(),o(232,"td",11),h(233,BD,3,3,"ng-container",6)(234,$D,1,0,"ng-template",null,7,ge),n()()()()(),o(236,"div",21)(237,"table",2)(238,"tbody")(239,"tr")(240,"th",3),s(241,"F1"),n(),o(242,"td")(243,"strong"),s(244," Rejected"),n(),o(245,"small",4),s(246," (Out of Recommended for Rejection) "),n()(),o(247,"td",14),h(248,ND,3,3,"ng-container",6)(249,GD,1,0,"ng-template",null,7,ge),n()(),o(251,"tr")(252,"th"),s(253,"F2"),n(),o(254,"td")(255,"strong"),s(256,"Rejected"),n(),o(257,"small",4),s(258,"(Disposed out of Held for Reconsideration) "),n()(),o(259,"td",15),h(260,WD,3,3,"ng-container",6)(261,zD,1,0,"ng-template",null,7,ge),n()(),o(263,"tr",20)(264,"th"),s(265,"F"),n(),o(266,"td")(267,"strong"),s(268,"Total Rejected (Final)"),n()(),o(269,"td",11),h(270,UD,3,3,"ng-container",6)(271,HD,1,0,"ng-template",null,7,ge),n()()()()(),o(273,"div",21)(274,"table",2)(275,"tbody")(276,"tr")(277,"th",3),s(278,"G1"),n(),o(279,"td")(280,"strong"),s(281,"Held for Reconsideration"),n(),o(282,"small",4),s(283," (Out of Recommended for Approval) "),n()(),o(284,"td",14),h(285,YD,3,3,"ng-container",6)(286,qD,1,0,"ng-template",null,7,ge),n()(),o(288,"tr")(289,"th"),s(290,"G2"),n(),o(291,"td")(292,"strong"),s(293,"Held for Reconsideration"),n(),o(294,"small",4),s(295,"(Out of Recommended for Rejection) "),n()(),o(296,"td",15),h(297,KD,3,3,"ng-container",6)(298,JD,1,0,"ng-template",null,7,ge),n()(),o(300,"tr",20)(301,"th"),s(302,"G"),n(),o(303,"td")(304,"strong"),s(305,"Total Applications Held for Reconsideration"),n()(),o(306,"td",11),h(307,XD,3,3,"ng-container",6)(308,QD,1,0,"ng-template",null,7,ge),n()()()()(),o(310,"div",21)(311,"table",2)(312,"tbody")(313,"tr")(314,"th",3),s(315,"H1"),n(),o(316,"td")(317,"strong"),s(318,"Pending for Approval at DLSC/MLSC"),n()(),o(319,"td",14),h(320,ZD,3,3,"ng-container",6)(321,e6,1,0,"ng-template",null,7,ge),n()(),o(323,"tr")(324,"th"),s(325,"H2"),n(),o(326,"td")(327,"strong"),s(328,"Pending for Rejection at DLSC/MLSC"),n()(),o(329,"td",15),h(330,t6,3,3,"ng-container",6)(331,i6,1,0,"ng-template",null,7,ge),n()(),o(333,"tr")(334,"th"),s(335,"H3"),n(),o(336,"td")(337,"strong"),s(338,"Pending for Reconsideration at DLSC/MLSC"),n()(),o(339,"td",15),h(340,n6,3,3,"ng-container",6)(341,o6,1,0,"ng-template",null,7,ge),n()(),o(343,"tr",20)(344,"th"),s(345,"H"),n(),o(346,"td")(347,"strong"),s(348,"Total Pending at DLSC/MLSC"),n()(),o(349,"td",11),h(350,a6,3,3,"ng-container",6)(351,r6,1,0,"ng-template",null,7,ge),n()()()()(),o(353,"div",22)(354,"table",2)(355,"tbody")(356,"tr")(357,"td")(358,"strong",23),s(359,"Final Approved"),n()(),o(360,"td",14),h(361,l6,3,3,"ng-container",6)(362,s6,1,0,"ng-template",null,7,ge),n()()()()(),o(364,"div",24)(365,"table",2)(366,"tbody")(367,"tr")(368,"td")(369,"strong",25),s(370,"Final Rejected"),n()(),o(371,"td",26),h(372,d6,3,3,"ng-container",6)(373,c6,1,0,"ng-template",null,7,ge),n()()()()()()),a&2){let c=bt(17);d(15),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(12),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(12),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(12),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(17),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(12),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(12),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(15),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(12),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(12),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(13),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(17),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(12),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(15),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(12),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(15),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(12),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(13),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(10),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(11),m("ngIf",!l.isStatLoading)("ngIfElse",c),d(11),m("ngIf",!l.isStatLoading)("ngIfElse",c)}},dependencies:[P,mr],styles:[".table[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:none;padding:14px;background-color:inherit}.border-clr-1[_ngcontent-%COMP%]{border:1px solid #ffc074}.border-clr-2[_ngcontent-%COMP%]{border:1px solid #70c0ff}.border-clr-3[_ngcontent-%COMP%]{border:1px solid #c48aff}.final-border-clr-1[_ngcontent-%COMP%]{border:1px solid #4569dd;border-radius:10px}.final-border-clr-2[_ngcontent-%COMP%]{border:1px solid #f43c3c;border-radius:10px}.count-1[_ngcontent-%COMP%]{color:#4569dd}.count-2[_ngcontent-%COMP%]{color:#8133ff}.count-3[_ngcontent-%COMP%]{color:#f43c3c!important}.bg-1[_ngcontent-%COMP%]{background-color:#fffaf5}.bg-2[_ngcontent-%COMP%]{background-color:#f6fbff}.bg-3[_ngcontent-%COMP%]{background-color:#faf5ff}.final-bg-1[_ngcontent-%COMP%]{background-color:#e9eeff}.final-bg-2[_ngcontent-%COMP%]{background-color:#ffe5e5}"]});let t=r;return t})();var m6=[{path:"dashboard",component:dc,canActivate:[q]},{path:"existing-benificiary/district-stats",component:Qs,canActivate:[q]},{path:"existing-benificiary/district-stats/block-stats/:district_id",component:td,canActivate:[q]},{path:"existing-benificiary/district-stats/ulb-stats/:district_id",component:od,canActivate:[q]},{path:"existing-benificiary/district-stats/gp-stats/:district_id/:block_id",component:sd,canActivate:[q]},{path:"existing-benificiary/district-stats/ward-stats/:district_id/:ulb_id",component:rd,canActivate:[q]},{path:"existing-benificiary/district-stats/ward-existing-benificiary-list/:district_id/:ulb_id/:ward_id",component:cd,canActivate:[q]},{path:"existing-benificiary/district-stats/gp-existing-benificiary-list/:district_id/:block_id/:gp_id",component:pd,canActivate:[q]},{path:"existing-benificiary/district-stats/gp-view-log/:district_id/:block_id/:gp_id/:type",component:Ma,canActivate:[q]},{path:"existing-benificiary/district-stats/ward-view-log/:district_id/:ulb_id/:ward_id/:type",component:Ma,canActivate:[q]},{path:"approved-list/district-stats",component:fr,canActivate:[q]},{path:"approved-list/district-stats/block-stats/:district_id",component:br,canActivate:[q]},{path:"approved-list/district-stats/ulb-stats/:district_id",component:Os,canActivate:[q]},{path:"approved-list/district-stats/gp-stats/:district_id/:block_id",component:Bs,canActivate:[q]},{path:"approved-list/district-stats/ward-stats/:district_id/:ulb_id",component:Ns,canActivate:[q]},{path:"approved-list/district-stats/ward-stats/:district_id/:ulb_id/:ward_id",component:Ws,canActivate:[q]},{path:"approved-list/district-stats/gp-stats/:district_id/:block_id/:gp_id",component:xr,canActivate:[q]},{path:"field-verified/district-stats",component:yr,canActivate:[q]},{path:"field-verified/district-stats/block-stats/:district_id",component:Ir,canActivate:[q]},{path:"field-verified/district-stats/gp-stats/:district_id/:block_id",component:Fo,canActivate:[q]},{path:"field-verified/gp-stats/:district_id/:block_id",component:Fo,canActivate:[q]},{path:"field-verified/district-stats/ulb-stats/:district_id",component:Fr,canActivate:[q]},{path:"field-verified/district-stats/ward-stats/:district_id/:ulb_id",component:jr,canActivate:[q]},{path:"field-verified/district-stats/gp-field-verified-list/:district_id/:block_id/:gp_id",component:Sa,canActivate:[q]},{path:"field-verified/district-stats/gp-stats/:district_id/:block_id/:gp_id",component:Sa,canActivate:[q]},{path:"field-verified/district-stats/ward-field-verified-list/:district_id/:ulb_id/:ward_id",component:ya,canActivate:[q]},{path:"field-verified/district-stats/ward-stats/:district_id/:ulb_id/:ward_id",component:ya,canActivate:[q]},{path:"field-verified/district-stats/gp-view-log/:district_id/:block_id/:gp_id/:type",component:kn,canActivate:[q]},{path:"field-verified/district-stats/gp-stats/:district_id/:block_id/:gp_id/:type",component:kn,canActivate:[q]},{path:"field-verified/district-stats/ward-view-log/:district_id/:ulb_id/:ward_id/:type",component:kn,canActivate:[q]},{path:"field-verified/district-stats/ward-stats/:district_id/:ulb_id/:ward_id/:type",component:kn,canActivate:[q]},{path:"field-verified/district-stats/ward-stats/field-verification-report/:report_id",component:ln,canActivate:[q]},{path:"random-list/field-verification-report/:report_id",component:ln,canActivate:[q]},{path:"pending-hold/district-stats",component:kd,canActivate:[q]},{path:"pending-hold/district-stats/block-stats/:district_id",component:Dd,canActivate:[q]},{path:"pending-hold/district-stats/gp-stats/:district_id/:block_id",component:Ga,canActivate:[q]},{path:"pending-hold/gp-stats/:district_id/:block_id",component:Ga,canActivate:[q]},{path:"pending-hold/district-stats/ulb-stats/:district_id",component:Md,canActivate:[q]},{path:"pending-hold/district-stats/ward-stats/:district_id/:ulb_id",component:Od,canActivate:[q]},{path:"pending-hold/district-stats/gp-field-verified-list/:district_id/:block_id/:gp_id",component:za,canActivate:[q]},{path:"pending-hold/district-stats/gp-stats/:district_id/:block_id/:gp_id",component:za,canActivate:[q]},{path:"pending-hold/district-stats/ward-pending-hold-list/:district_id/:ulb_id/:ward_id",component:Ua,canActivate:[q]},{path:"pending-hold/district-stats/ward-stats/:district_id/:ulb_id/:ward_id",component:Ua,canActivate:[q]},{path:"pending-hold/district-stats/ward-stats/field-verification-report/:report_id",component:ln,canActivate:[q]},{path:"pending-hold/district-stats/field-verification-report/:report_id",component:ln,canActivate:[q]},{path:"recommend-list/district-stats",component:Ar,canActivate:[q]},{path:"recommend-list/district-stats/block-stats/:district_id",component:ds,canActivate:[q]},{path:"recommend-list/district-stats/ulb-stats/:district_id",component:ps,canActivate:[q]},{path:"recommend-list/district-stats/gp-stats/:district_id/:block_id",component:hs,canActivate:[q]},{path:"recommend-list/district-stats/ward-stats/:district_id/:ulb_id",component:Fs,canActivate:[q]},{path:"recommend-list/district-stats/ward-stats/:district_id/:ulb_id/:ward_id",component:As,canActivate:[q]},{path:"recommend-list/district-stats/gp-stats/:district_id/:block_id/:gp_id",component:Ps,canActivate:[q]},{path:"recommend-list/district-stats/gp-stats/:district_id/:block_id/:gp_id/:type",component:Da,canActivate:[q]},{path:"recommend-list/district-stats/ward-stats/:district_id/:ulb_id/:ward_id/:type",component:Da,canActivate:[q]},{path:"pending-reconsideration-list/district-stats",component:Nd,canActivate:[q]},{path:"pending-reconsideration-list/district-stats/block-stats/:district_id",component:zd,canActivate:[q]},{path:"pending-reconsideration-list/district-stats/ulb-stats/:district_id",component:Yd,canActivate:[q]},{path:"pending-reconsideration-list/district-stats/gp-stats/:district_id/:block_id",component:Kd,canActivate:[q]},{path:"pending-reconsideration-list/district-stats/ward-stats/:district_id/:ulb_id",component:Xd,canActivate:[q]},{path:"pending-reconsideration-list/district-stats/ward-stats/:district_id/:ulb_id/:ward_id",component:Zd,canActivate:[q]},{path:"pending-reconsideration-list/district-stats/gp-stats/:district_id/:block_id/:gp_id",component:tc,canActivate:[q]},{path:"rejected-list/district-stats",component:Mr,canActivate:[q]},{path:"rejected-list/district-stats/block-stats/:district_id",component:gs,canActivate:[q]},{path:"rejected-list/district-stats/ulb-stats/:district_id",component:xs,canActivate:[q]},{path:"rejected-list/district-stats/gp-stats/:district_id/:block_id",component:Cs,canActivate:[q]},{path:"rejected-list/district-stats/ward-stats/:district_id/:ulb_id",component:ws,canActivate:[q]},{path:"rejected-list/district-stats/ward-stats/:district_id/:ulb_id/:ward_id",component:Is,canActivate:[q]},{path:"rejected-list/district-stats/gp-stats/:district_id/:block_id/:gp_id",component:ks,canActivate:[q]},{path:"provisional-list/gp-wise-stats/:district_id/:block_id",component:zs,canActivate:[q]},{path:"provisional-list",component:Ed,canActivate:[q]},{path:"provisional-list/ward-wise-stats/:district_id/:ulb_id",component:Us,canActivate:[q]},{path:"provisional-list/gp-wise-stats/:district_id/:block_id/:log_id",component:Fa,canActivate:[q]},{path:"provisional-list/ulb-provisional-log/:district_id/:ulb_id/:log_id",component:Fa,canActivate:[q]},{path:"random-list",component:lc,canActivate:[q]},{path:"random-list/:id",component:sc,canActivate:[q]},{path:"committee-proceeding/district-stats",component:gd,canActivate:[q]},{path:"committee-proceeding/own-stats/committee-proceeding-list",component:Ri,canActivate:[q]},{path:"committee-proceeding/blsc-ulsc/ulb-stats/:district_id/:ulb_id",component:Ri,canActivate:[q]},{path:"committee-proceeding/district-stats/committee-proceeding-list/:district_id/:ulb_id",component:Ri,canActivate:[q]},{path:"committee-proceeding/blsc-ulsc/block-stats/:district_id/:block_id",component:Ri,canActivate:[q]},{path:"committee-proceeding/district-stats/committee-proceeding-list/:district_id",component:Ri,canActivate:[q]},{path:"committee-proceeding/blsc-ulsc",component:bd,canActivate:[q]},{path:"committee-proceeding/blsc-ulsc/block/:district_id",component:xd,canActivate:[q]},{path:"committee-proceeding/blsc-ulsc/ulb/:district_id",component:vd,canActivate:[q]},{path:"committee-proceeding/district-stats/committee-proceeding-list/:district_id/:ulb_id",component:Ri,canActivate:[q]},{path:"committee-proceeding/own-stats/committee-proceeding-list/add-form",component:Cd,canActivate:[q]},{path:"committee-proceeding/own-stats/committee-proceeding-list/add-committee-proceedings",component:wd,canActivate:[q]},{path:"committee-proceeding/download-form",component:yd,canActivate:[q]},{path:"committee-proceeding/export-commitee-proceedings-details/:id",component:oc,canActivate:[q]}],cc=(()=>{let r=class r{};r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=Rn({type:r}),r.\u0275inj=Mn({imports:[Io.forChild(m6),Io]});let t=r;return t})();var Hj=(()=>{let r=class r{};r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=Rn({type:r}),r.\u0275inj=Mn({imports:[lr,cc,dr,cr,pr]});let t=r;return t})();export{Hj as a};
