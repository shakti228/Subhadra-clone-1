import{a as Lt}from"./chunk-L22CRLLV.js";import{a as Dt,b as Mt}from"./chunk-SZXMKXCP.js";import{Aa as ft,Ab as U,Ba as _t,Bb as lt,Bc as q,Ca as At,Cb as xt,Cc as W,Db as X,Ea as o,F as rt,Fa as f,Fb as P,Ga as Y,Ha as gt,J as D,K as dt,La as ht,Ma as ut,Mc as zt,N as E,O as T,Pa as y,Pb as $t,Qa as F,Ub as A,Vb as St,Wb as Ut,Z as d,_ as u,_b as z,a as v,ab as L,ac as B,b as x,bb as bt,bc as Ct,ca as st,cb as j,cc as wt,da as _,db as $,ea as ct,ec as K,f as k,fc as R,gc as yt,ha as g,hb as vt,ia as w,jb as Bt,jc as Ft,ka as pt,kb as H,la as mt,lb as G,ma as a,mb as V,mc as Et,na as l,nc as Tt,oa as h,oc as It,pc as kt,sa as I,ta as S,tb as M,ua as m,vb as Ot,wb as N,wc as jt,xc as Gt,yb as Pt,za as Nt,zb as Q,zc as Vt}from"./chunk-SGLRJF2H.js";var Rt=k(Q()),Wt=k(X());function ue(n,r){n&1&&(a(0,"div",10),h(1,"i",11),o(2," We are fetching the data, please wait. "),l())}function be(n,r){if(n&1){let e=I();a(0,"button",23),S("click",function(){E(e);let i=m(2);return T(i.exportToPDF(i.filteredDistrictStats))}),h(1,"i",24),o(2,"Download "),l()}}function ve(n,r){n&1&&(a(0,"button",25),h(1,"i",26),o(2,"Downloading... "),l())}function xe(n,r){if(n&1&&(a(0,"tr",29)(1,"td"),o(2),l(),a(3,"td"),o(4),l(),a(5,"td"),o(6),y(7,"indianNumberFormat"),l(),a(8,"td"),o(9),y(10,"indianNumberFormat"),l(),a(11,"td"),o(12),y(13,"indianNumberFormat"),l(),a(14,"td",30)(15,"a",31),o(16,"View Block"),l(),a(17,"a",32),o(18,"View ULB"),l()()()),n&2){let e=r.$implicit,t=r.index,i=m(3);d(2),f(t+1),d(2),Y(" ",e==null?null:e.district_name," "),d(2),f(F(7,9,e==null||e.data==null?null:e.data.total)),d(3),f(F(10,11,e==null||e.data==null?null:e.data.non_nfsa)),d(3),f(F(13,13,e==null||e.data==null?null:e.data.grievance)),d(3),Nt("routerLink","/department/portal/field-verification/dashboard/fv-drilldown/block-stats/",e==null?null:e.district_id,"/",i.type,""),d(2),Nt("routerLink","/department/portal/field-verification/dashboard/fv-drilldown/ulb-stats/",e==null?null:e.district_id,"/",i.type,"")}}function Se(n,r){if(n&1&&(a(0,"table",27)(1,"thead")(2,"tr")(3,"th"),o(4,"SN"),l(),a(5,"th"),o(6,"District Name"),l(),a(7,"th"),o(8,"Total"),l(),a(9,"th"),o(10,"Non NFSA"),l(),a(11,"th"),o(12,"Grievance"),l(),a(13,"th"),o(14,"Actions"),l()()(),a(15,"tbody"),g(16,xe,19,15,"tr",28),l()()),n&2){let e=m(2);d(16),_("ngForOf",e.filteredDistrictStats)}}function Ce(n,r){n&1&&(a(0,"h5",33),o(1," No Data Found "),l())}function we(n,r){if(n&1){let e=I();a(0,"div",12)(1,"div",13)(2,"h4",14),o(3),l()(),a(4,"div",15)(5,"div",16)(6,"input",17),S("ngModelChange",function(i){E(e);let s=m();return T(s.searchTerm=i)}),l(),h(7,"i",18),l()(),a(8,"div",19),g(9,be,3,0,"button",20)(10,ve,3,0),l(),a(11,"div",21),g(12,Se,17,1,"table",22)(13,Ce,2,0),l()()}if(n&2){let e=m();d(3),f(e.label),d(3),_("ngModel",e.searchTerm),d(3),w(9,e.isExportInProgress?10:9),d(3),w(12,e.filteredDistrictStats&&e.filteredDistrictStats.length>0?12:13)}}var Yt=(()=>{let r=class r{constructor(t,i,s,c,p){this.authService=t,this.httpClient=i,this.appService=s,this.route=c,this.location=p,this.type="",this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.label="",this.selectedDistrict_id=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(t=>{this.type=t.type,this.updateLabelAndFilterData()}),this.route.queryParams.subscribe(t=>{this.selectedDistrict_id=t.district_id}),this.fetchDrillDownList()}get filteredDistrictStats(){return this.searchTerm?this.drilldownStats.filter(t=>t.district_name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.drilldownStats}updateLabelAndFilterData(){switch(this.type){case"total":this.label="Total No. of Field Verification";break;case"assigned":this.label="Assigned for Field Verification";break;case"unassigned":this.label="Unassigned for Field Verification";break;case"completed":this.label="Completed in Field Verification";break;case"eligible":this.label="Eligible in Field Verification";break;case"ineligible":this.label="Ineligible in Field Verification";break;default:this.label="Received Grievance"}}updateGrievanceDataByType(){this.type==="total"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.completed_grievance+t?.data[0]?.pending_grievance,non_nfsa:t?.data[0]?.completed_nonnfsa+t?.data[0]?.pending_nonnfsa,total:t?.data[0]?.completed_grievance+t?.data[0]?.pending_grievance+t?.data[0]?.completed_nonnfsa+t?.data[0]?.pending_nonnfsa}})):this.type==="assigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.assigned_grievance,non_nfsa:t?.data[0]?.assigned_nonnfsa,total:t?.data[0]?.assigned_nonnfsa+t?.data[0]?.assigned_grievance}})):this.type==="unassigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.unassigned_grievance,non_nfsa:t?.data[0]?.unassigned_nonnfsa,total:t?.data[0]?.unassigned_grievance+t?.data[0]?.unassigned_nonnfsa}})):this.type==="eligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.eligible_grievance,non_nfsa:t?.data[0]?.eligible_nonnfsa,total:t?.data[0]?.eligible_grievance+t?.data[0]?.eligible_nonnfsa}})):this.type==="ineligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.ineligible_grievance,non_nfsa:t?.data[0]?.ineligible_nonnfsa,total:t?.data[0]?.ineligible_grievance+t?.data[0]?.ineligible_nonnfsa}})):this.type==="completed"&&(this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.completed_grievance,non_nfsa:t?.data[0]?.completed_nonnfsa,total:t?.data[0]?.completed_nonnfsa+t?.data[0]?.completed_grievance}})))}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/fv-dashboard/district-wise?type=${this.type}`,{headers:{Authorization:this.authService.authToken}}).subscribe(t=>{this.isStatsLoading=!1,this.authService.userDetail.demography_type=="2"?this.drilldownStats=t.data.filter(i=>i.district_id==this.authService.userDetail.demography_id):this.selectedDistrict_id?this.drilldownStats=t.data.filter(i=>i.district_id==this.selectedDistrict_id):this.drilldownStats=t.data,this.updateGrievanceDataByType(),this.updateLabelAndFilterData()},t=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPDF(t){this.isExportInProgress=!0;let i=`${String(this.type).toUpperCase()} FIELD VERIFICATION LIST`,s=new Date,c=`Timestamp:  ${(0,Wt.default)().format("DD-MM-YYYY")}, ${s.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,p=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"District/MC",fillColor:"#d3d3d3",bold:!0},{text:"Total",fillColor:"#d3d3d3",bold:!0},{text:"Non NFSA",fillColor:"#d3d3d3",bold:!0},{text:"Grievance",fillColor:"#d3d3d3",bold:!0}],...t.map((b,O)=>[O+1,b.district_name,Number(b.data.non_nfsa)+Number(b.data.grievance),b.data.non_nfsa,b.data.grievance])],C={content:[{text:i,style:"title"},{table:{body:p,widths:["15%","25%","20%","20%","20%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Rt.default.createPdf(C).download(`${String(this.type)}_field_verification_list.pdf`),setTimeout(()=>{this.isExportInProgress=!1},3e3)}};r.\u0275fac=function(i){return new(i||r)(u(A),u(V),u(P),u(M),u(L))},r.\u0275cmp=D({type:r,selectors:[["app-district-fv-drilldown-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6",2,"font-weight","640","font-size","large"],[2,"color","#fd7b03"],[1,"col-md-4",2,"display","flex","justify-content","flex-end"],[1,"search-box"],["type","text","placeholder","Enter District Name",1,"form-control",2,"padding-left","2px",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],[1,"col-md-2","text-sm-end",2,"max-width","max-content"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;display: flex; align-items: center;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[1,"text-center","d-flex"],[1,"btn","btn-sm","btn-primary",2,"white-space","nowrap",3,"routerLink"],[1,"btn","btn-sm","btn-primary","ms-1",2,"white-space","nowrap",3,"routerLink"],[1,"mt-6","text-center"]],template:function(i,s){i&1&&(a(0,"div",0)(1,"div",1),h(2,"div",2),a(3,"div",3)(4,"a",4),S("click",function(){return s.goBack()}),a(5,"button",5),h(6,"i",6),o(7," Back"),l()()()(),a(8,"div",7)(9,"div",8),g(10,ue,3,0,"div",9)(11,we,14,4),l()()()),i&2&&(d(10),w(10,s.isStatsLoading?10:11))},dependencies:[j,z,B,R,N,W],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:180px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.tr-border-bottom[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6}"]});let n=r;return n})();var Ht=k(Q());var Kt=k(X());function ye(n,r){n&1&&(a(0,"div",10),h(1,"i",11),o(2," We are fetching the data, please wait. "),l())}function Fe(n,r){if(n&1){let e=I();a(0,"button",26),S("click",function(){E(e);let i=m(3);return T(i.exportToPdf(i.filteredBlockStats))}),h(1,"i",27),o(2,"Download "),l()}}function Ee(n,r){if(n&1&&g(0,Fe,3,0,"button",25),n&2){let e=m(2);_("ngIf",e.filteredBlockStats.length)}}function Te(n,r){n&1&&(a(0,"button",28),h(1,"i",29),o(2,"Downloading... "),l())}function Ie(n,r){if(n&1&&(a(0,"tr",32)(1,"td"),o(2),l(),a(3,"td")(4,"a",33),o(5),l()(),a(6,"td"),o(7),y(8,"indianNumberFormat"),l(),a(9,"td"),o(10),y(11,"indianNumberFormat"),l(),a(12,"td"),o(13),y(14,"indianNumberFormat"),l()()),n&2){let e=r.$implicit,t=r.index,i=m(3);d(2),f(t+1),d(2),ft("routerLink","/department/portal/field-verification/dashboard/fv-drilldown/gp-stats/",i.district_id,"/",e==null?null:e.block_id,"//",i.type,""),d(1),f(e==null?null:e.block_name),d(2),f(F(8,8,e==null||e.data==null?null:e.data.total)),d(3),f(F(11,10,e==null||e.data==null?null:e.data.non_nfsa)),d(3),f(F(14,12,e==null||e.data==null?null:e.data.grievance))}}function ke(n,r){if(n&1&&(a(0,"table",30)(1,"thead")(2,"tr")(3,"th"),o(4,"SN"),l(),a(5,"th"),o(6,"Block Name"),l(),a(7,"th"),o(8,"Total"),l(),a(9,"th"),o(10,"Non NFSA"),l(),a(11,"th"),o(12,"Grievance"),l()()(),a(13,"tbody"),g(14,Ie,15,14,"tr",31),l()()),n&2){let e=m(2);d(14),_("ngForOf",e.filteredBlockStats)}}function De(n,r){n&1&&(a(0,"h5",34),o(1," No Data Found "),l())}function Le(n,r){if(n&1){let e=I();a(0,"div",12)(1,"div",13)(2,"h4",14),o(3),l()(),a(4,"div",15)(5,"div",16)(6,"input",17),S("ngModelChange",function(i){E(e);let s=m();return T(s.searchTerm=i)}),l(),h(7,"i",18),l()(),a(8,"div",19),g(9,Ee,1,1,"button",20)(10,Te,3,0),l(),a(11,"div",21)(12,"div",22)(13,"div",23)(14,"strong"),o(15," District/MC - "),l(),a(16,"span"),o(17),l()()(),g(18,ke,15,1,"table",24)(19,De,2,0),l()()}if(n&2){let e=m();d(3),f(e.label),d(3),_("ngModel",e.searchTerm),d(3),w(9,e.isExportInProgress?10:9),d(8),f(e.district_name),d(1),w(18,e.filteredBlockStats&&e.filteredBlockStats.length>0?18:19)}}var qt=(()=>{let r=class r{constructor(t,i,s,c,p){this.authService=t,this.httpClient=i,this.appService=s,this.route=c,this.location=p,this.type="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(t=>{this.district_id=t.district_id,this.district_name=U.data.find(i=>i.id==this.district_id)?.district_name,this.route.params.subscribe(i=>{this.type=i.type,this.updateLabelAndFilterData()}),this.fetchDrillDownList()})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(t=>t.block_name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.drilldownStats}updateLabelAndFilterData(){switch(this.type){case"total":this.label="Total No. of Field Verification";break;case"assigned":this.label="Assigned for Field Verification";break;case"unassigned":this.label="Unassigned for Field Verification";break;case"completed":this.label="Completed in Field Verification";break;case"eligible":this.label="Eligible in Field Verification";break;case"ineligible":this.label="Ineligible in Field Verification";break;default:this.label="Received Grievance"}}updateGrievanceDataByType(){this.type==="total"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.completed_grievance+t?.data[0]?.pending_grievance,non_nfsa:t?.data[0]?.completed_nonnfsa+t?.data[0]?.pending_nonnfsa,total:t?.data[0]?.completed_grievance+t?.data[0]?.pending_grievance+t?.data[0]?.completed_nonnfsa+t?.data[0]?.pending_nonnfsa}})):this.type==="assigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.assigned_grievance,non_nfsa:t?.data[0]?.assigned_nonnfsa,total:t?.data[0]?.assigned_nonnfsa+t?.data[0]?.assigned_grievance}})):this.type==="unassigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.unassigned_grievance,non_nfsa:t?.data[0]?.unassigned_nonnfsa,total:t?.data[0]?.unassigned_grievance+t?.data[0]?.unassigned_nonnfsa}})):this.type==="eligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.eligible_grievance,non_nfsa:t?.data[0]?.eligible_nonnfsa,total:t?.data[0]?.eligible_grievance+t?.data[0]?.eligible_nonnfsa}})):this.type==="ineligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.ineligible_grievance,non_nfsa:t?.data[0]?.ineligible_nonnfsa,total:t?.data[0]?.ineligible_grievance+t?.data[0]?.ineligible_nonnfsa}})):this.type==="completed"&&(this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.completed_grievance,non_nfsa:t?.data[0]?.completed_nonnfsa,total:t?.data[0]?.completed_nonnfsa+t?.data[0]?.completed_grievance}})))}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/fv-dashboard/block-wise?type=${this.type}&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(t=>{this.isStatsLoading=!1,this.drilldownStats=t.data,this.updateLabelAndFilterData(),this.updateGrievanceDataByType()},t=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(t){this.isExportInProgress=!0;let i=`${this.type?.toUpperCase()} FIELD VERIFICATION LIST`,s=new Date,c=`Timestamp: ${(0,Kt.default)().format("DD-MM-YYYY")} , ${s.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,p=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"Block/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"Total",fillColor:"#d3d3d3",bold:!0},{text:"Non NFSA",fillColor:"#d3d3d3",bold:!0},{text:"Grievance",fillColor:"#d3d3d3",bold:!0}],...t.map((b,O)=>[O+1,b?.block_name,b.data?.total,b.data?.non_nfsa,b.data?.grievance])],C={content:[{text:i,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:p,widths:["15%","25%","20%","20%","20%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Ht.default.createPdf(C).download(`${this.district_name}'s ${this.type}_field_verification_list.pdf`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(i){return new(i||r)(u(A),u(V),u(P),u(M),u(L))},r.\u0275cmp=D({type:r,selectors:[["app-block-fv-drilldown-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6",2,"font-weight","640","font-size","large"],[2,"color","#fd7b03"],[1,"col-md-4",2,"display","flex","justify-content","flex-end"],[1,"search-box"],["type","text","placeholder","Enter Block Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],[1,"col-md-2","text-sm-end",2,"max-width","max-content"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],[1,"d-flex","justify-content-beween","w-100",2,"justify-content","space-between","padding","0px 12px"],[1,"col-md-3","text-left"],["class","table"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex","align-items","center"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[3,"routerLink"],[1,"mt-6","text-center"]],template:function(i,s){i&1&&(a(0,"div",0)(1,"div",1),h(2,"div",2),a(3,"div",3)(4,"a",4),S("click",function(){return s.goBack()}),a(5,"button",5),h(6,"i",6),o(7," Back"),l()()()(),a(8,"div",7)(9,"div",8),g(10,ye,3,0,"div",9)(11,Le,20,5),l()()()),i&2&&(d(10),w(10,s.isStatsLoading?10:11))},dependencies:[j,$,z,B,R,N,W],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:180px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.tr-border-bottom[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6}"]});let n=r;return n})();var Jt=k(Q());var Qt=k(X());function Ve(n,r){n&1&&(a(0,"div",10),h(1,"i",11),o(2," We are fetching the data, please wait. "),l())}function Me(n,r){if(n&1){let e=I();a(0,"button",26),S("click",function(){E(e);let i=m(3);return T(i.exportToPdf(i.filteredBlockStats))}),h(1,"i",27),o(2,"Download "),l()}}function Ne(n,r){if(n&1&&g(0,Me,3,0,"button",25),n&2){let e=m(2);_("ngIf",e.filteredBlockStats.length)}}function Pe(n,r){n&1&&(a(0,"button",28),h(1,"i",29),o(2,"Downloading... "),l())}function Ae(n,r){if(n&1&&(a(0,"tr",32)(1,"td"),o(2),l(),a(3,"td")(4,"a",33),o(5),l()(),a(6,"td"),o(7),y(8,"indianNumberFormat"),l(),a(9,"td"),o(10),y(11,"indianNumberFormat"),l(),a(12,"td"),o(13),y(14,"indianNumberFormat"),l()()),n&2){let e=r.$implicit,t=r.index,i=m(3);d(2),f(t+1),d(2),ft("routerLink","/department/portal/field-verification/dashboard/fv-drilldown/ward-stats/",i.district_id,"/",e==null?null:e.ulb_id,"/",i.type,""),d(1),f(e==null?null:e.ulb_name),d(2),f(F(8,8,e==null||e.data==null?null:e.data.total)),d(3),f(F(11,10,e==null||e.data==null?null:e.data.non_nfsa)),d(3),f(F(14,12,e==null||e.data==null?null:e.data.grievance))}}function Be(n,r){if(n&1&&(a(0,"table",30)(1,"thead")(2,"tr")(3,"th"),o(4,"SN"),l(),a(5,"th"),o(6,"ULB/MC"),l(),a(7,"th"),o(8,"Total"),l(),a(9,"th"),o(10,"Non NFSA"),l(),a(11,"th"),o(12,"Grievance"),l()()(),a(13,"tbody"),g(14,Ae,15,14,"tr",31),l()()),n&2){let e=m(2);d(14),_("ngForOf",e.filteredBlockStats)}}function Oe(n,r){n&1&&(a(0,"h5",34),o(1," No Data Found "),l())}function $e(n,r){if(n&1){let e=I();a(0,"div",12)(1,"div",13)(2,"h4",14),o(3),l()(),a(4,"div",15)(5,"div",16)(6,"input",17),S("ngModelChange",function(i){E(e);let s=m();return T(s.searchTerm=i)}),l(),h(7,"i",18),l()(),a(8,"div",19),g(9,Ne,1,1,"button",20)(10,Pe,3,0),l(),a(11,"div",21)(12,"div",22)(13,"div",23)(14,"strong"),o(15," District - "),l(),a(16,"span"),o(17),l()()(),g(18,Be,15,1,"table",24)(19,Oe,2,0),l()()}if(n&2){let e=m();d(3),f(e.label),d(3),_("ngModel",e.searchTerm),d(3),w(9,e.isExportInProgress?10:9),d(8),f(e.district_name),d(1),w(18,e.filteredBlockStats&&e.filteredBlockStats.length>0?18:19)}}var Xt=(()=>{let r=class r{constructor(t,i,s,c,p){this.authService=t,this.httpClient=i,this.appService=s,this.route=c,this.location=p,this.type="",this.label="",this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.block_id="",this.district_name="",this.block_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(t=>{this.district_id=t.district_id,this.district_name=U.data.find(i=>i.id==this.district_id)?.district_name,this.type=t.type,this.updateLabelAndFilterData(),this.fetchDrillDownList()})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(t=>t.ulb_name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.drilldownStats}updateLabelAndFilterData(){switch(this.type){case"total":this.label="Total No. of Field Verification";break;case"assigned":this.label="Assigned for Field Verification";break;case"unassigned":this.label="Unassigned for Field Verification";break;case"completed":this.label="Completed in Field Verification";break;case"eligible":this.label="Eligible in Field Verification";break;case"ineligible":this.label="Ineligible in Field Verification";break;default:this.label="Received Grievance"}}updateGrievanceDataByType(){this.type==="total"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.completed_grievance+t?.data[0]?.pending_grievance,non_nfsa:t?.data[0]?.completed_nonnfsa+t?.data[0]?.pending_nonnfsa,total:t?.data[0]?.completed_grievance+t?.data[0]?.pending_grievance+t?.data[0]?.completed_nonnfsa+t?.data[0]?.pending_nonnfsa}})):this.type==="assigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.assigned_grievance,non_nfsa:t?.data[0]?.assigned_nonnfsa,total:t?.data[0]?.assigned_nonnfsa+t?.data[0]?.assigned_grievance}})):this.type==="unassigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.unassigned_grievance,non_nfsa:t?.data[0]?.unassigned_nonnfsa,total:t?.data[0]?.unassigned_grievance+t?.data[0]?.unassigned_nonnfsa}})):this.type==="eligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.eligible_grievance,non_nfsa:t?.data[0]?.eligible_nonnfsa,total:t?.data[0]?.eligible_grievance+t?.data[0]?.eligible_nonnfsa}})):this.type==="ineligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.ineligible_grievance,non_nfsa:t?.data[0]?.ineligible_nonnfsa,total:t?.data[0]?.ineligible_grievance+t?.data[0]?.ineligible_nonnfsa}})):this.type==="completed"&&(this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.completed_grievance,non_nfsa:t?.data[0]?.completed_nonnfsa,total:t?.data[0]?.completed_nonnfsa+t?.data[0]?.completed_grievance}})))}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/fv-dashboard/ulb-wise?type=${this.type}&district_id=${this.district_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(t=>{this.drilldownStats=t.data,this.updateLabelAndFilterData(),this.updateGrievanceDataByType(),this.isStatsLoading=!1},t=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(t){this.isExportInProgress=!0;let i=`${this.type?.toUpperCase()} FIELD VERIFICATION LIST`,s=new Date,c=`Timestamp: ${(0,Qt.default)().format("DD-MM-YYYY")}, ${s.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,p=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"Block/ULB/MC",fillColor:"#d3d3d3",bold:!0},{text:"Total",fillColor:"#d3d3d3",bold:!0},{text:"Non NFSA",fillColor:"#d3d3d3",bold:!0},{text:"Grievance",fillColor:"#d3d3d3",bold:!0}],...t.map((b,O)=>[O+1,b?.ulb_name,b.data?.total,b.data?.non_nfsa,b.data?.grievance])],C={content:[{text:i,style:"title"},{table:{widths:["100%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:p,widths:["15%","25%","20%","20%","20%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Jt.default.createPdf(C).download(`${this.district_name}'s ${this.type}_field_verification_list.pdf`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(i){return new(i||r)(u(A),u(V),u(P),u(M),u(L))},r.\u0275cmp=D({type:r,selectors:[["app-ulb-fv-drilldown-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"col-md-6",2,"font-weight","640","font-size","large"],[2,"color","#fd7b03"],[1,"col-md-4",2,"display","flex","justify-content","flex-end"],[1,"search-box"],["type","text","placeholder","Enter ULB Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],[1,"col-md-2","text-sm-end",2,"max-width","max-content"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],[1,"d-flex","justify-content-beween","w-100",2,"justify-content","space-between","padding","0px 12px"],[1,"col-md-3","text-left"],["class","table"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[3,"routerLink"],[1,"mt-6","text-center"]],template:function(i,s){i&1&&(a(0,"div",0)(1,"div",1),h(2,"div",2),a(3,"div",3)(4,"a",4),S("click",function(){return s.goBack()}),a(5,"button",5),h(6,"i",6),o(7," Back"),l()()()(),a(8,"div",7)(9,"div",8),g(10,Ve,3,0,"div",9)(11,$e,20,5),l()()()),i&2&&(d(10),w(10,s.isStatsLoading?10:11))},dependencies:[j,$,z,B,R,N,W],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:180px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.tr-border-bottom[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6}"]});let n=r;return n})();var Zt=k(Q());var te=k(X());function Ue(n,r){n&1&&(a(0,"div",10),h(1,"i",11),o(2," We are fetching the data, please wait. "),l())}function je(n,r){if(n&1){let e=I();a(0,"button",29),S("click",function(){E(e);let i=m(3);return T(i.exportToPdf(i.filteredBlockStats))}),h(1,"i",30),o(2,"Download "),l()}}function Ge(n,r){if(n&1&&g(0,je,3,0,"button",28),n&2){let e=m(2);_("ngIf",e.filteredBlockStats.length)}}function ze(n,r){n&1&&(a(0,"button",31),h(1,"i",32),o(2,"Downloading... "),l())}function Re(n,r){if(n&1&&(a(0,"tr",35)(1,"td"),o(2),l(),a(3,"td")(4,"a",36),o(5),l()(),a(6,"td"),o(7),y(8,"indianNumberFormat"),l(),a(9,"td"),o(10),y(11,"indianNumberFormat"),l(),a(12,"td"),o(13),y(14,"indianNumberFormat"),l()()),n&2){let e=r.$implicit,t=r.index,i=m(3);d(2),f(t+1),d(2),_t("routerLink","/department/portal/field-verification/dashboard/fv-drilldown/village-stats/",i.district_id,"/",i.block_id,"//",e==null?null:e.gp_id,"//",i.type,""),d(1),f(e==null?null:e.gp_name),d(2),f(F(8,9,e==null||e.data==null?null:e.data.total)),d(3),f(F(11,11,e==null||e.data==null?null:e.data.non_nfsa)),d(3),f(F(14,13,e==null||e.data==null?null:e.data.grievance))}}function We(n,r){if(n&1&&(a(0,"table",33)(1,"thead")(2,"tr")(3,"th"),o(4,"SN"),l(),a(5,"th"),o(6,"GP Name"),l(),a(7,"th"),o(8,"Total"),l(),a(9,"th"),o(10,"Non NFSA"),l(),a(11,"th"),o(12,"Grievance"),l()()(),a(13,"tbody"),g(14,Re,15,15,"tr",34),l()()),n&2){let e=m(2);d(14),_("ngForOf",e.filteredBlockStats)}}function Ye(n,r){n&1&&(a(0,"h5",37),o(1," No Data Found "),l())}function He(n,r){if(n&1){let e=I();a(0,"div",12)(1,"div",13)(2,"div",14)(3,"h4",15),o(4),l()(),a(5,"nav",16)(6,"ol",17)(7,"li",18),o(8),l(),a(9,"li",19),o(10),l()()()(),a(11,"div",20)(12,"div",21)(13,"input",22),S("ngModelChange",function(i){E(e);let s=m();return T(s.searchTerm=i)}),l(),h(14,"i",23),l()(),a(15,"div",24),g(16,Ge,1,1,"button",25)(17,ze,3,0),l(),a(18,"div",26),g(19,We,15,1,"table",27)(20,Ye,2,0),l()()}if(n&2){let e=m();d(4),f(e.label),d(4),f(e.district_name),d(2),f(e.block_name),d(3),_("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}var ee=(()=>{let r=class r{constructor(t,i,s,c,p){this.authService=t,this.httpClient=i,this.appService=s,this.route=c,this.location=p,this.type="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name="",this.block_id="",this.block_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(t=>{this.district_id=t.district_id,this.district_name=U.data.find(i=>i.id==this.district_id)?.district_name,this.block_id=t.block_id,this.block_name=lt.data.find(i=>i.id==this.block_id)?.block_name,this.type=t.type,this.updateLabelAndFilterData(),this.fetchDrillDownList()})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(t=>t.gp_name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.drilldownStats}updateLabelAndFilterData(){switch(this.type){case"total":this.label="Total No. of Field Verification";break;case"assigned":this.label="Assigned for Field Verification";break;case"unassigned":this.label="Unassigned for Field Verification";break;case"completed":this.label="Completed in Field Verification";break;case"eligible":this.label="Eligible in Field Verification";break;case"ineligible":this.label="Ineligible in Field Verification";break;default:this.label="Received Grievance"}}updateGrievanceDataByType(){this.type==="total"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.completed_grievance+t?.data[0]?.pending_grievance,non_nfsa:t?.data[0]?.completed_nonnfsa+t?.data[0]?.pending_nonnfsa,total:t?.data[0]?.completed_grievance+t?.data[0]?.pending_grievance+t?.data[0]?.completed_nonnfsa+t?.data[0]?.pending_nonnfsa}})):this.type==="assigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.assigned_grievance,non_nfsa:t?.data[0]?.assigned_nonnfsa,total:t?.data[0]?.assigned_nonnfsa+t?.data[0]?.assigned_grievance}})):this.type==="unassigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.unassigned_grievance,non_nfsa:t?.data[0]?.unassigned_nonnfsa,total:t?.data[0]?.unassigned_grievance+t?.data[0]?.unassigned_nonnfsa}})):this.type==="eligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.eligible_grievance,non_nfsa:t?.data[0]?.eligible_nonnfsa,total:t?.data[0]?.eligible_grievance+t?.data[0]?.eligible_nonnfsa}})):this.type==="ineligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.ineligible_grievance,non_nfsa:t?.data[0]?.ineligible_nonnfsa,total:t?.data[0]?.ineligible_grievance+t?.data[0]?.ineligible_nonnfsa}})):this.type==="completed"&&(this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.completed_grievance,non_nfsa:t?.data[0]?.completed_nonnfsa,total:t?.data[0]?.completed_nonnfsa+t?.data[0]?.completed_grievance}})))}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/fv-dashboard/gp-wise?type=${this.type}&block_id=${this.block_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(t=>{this.isStatsLoading=!1,this.drilldownStats=t.data,this.updateLabelAndFilterData(),this.updateGrievanceDataByType()},t=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(t){this.isExportInProgress=!0;let i=`${this.type?.toUpperCase()} FIELD VERIFICATION LIST`,s=new Date,c=`Timestamp: ${(0,te.default)().format("DD-MM-YYYY")}, ${s.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,p=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"GP/WARD",fillColor:"#d3d3d3",bold:!0},{text:"Total",fillColor:"#d3d3d3",bold:!0},{text:"Non NFSA",fillColor:"#d3d3d3",bold:!0},{text:"Grievance",fillColor:"#d3d3d3",bold:!0}],...t.map((b,O)=>[O+1,b?.gp_name,b.data?.total,b.data?.non_nfsa,b.data?.grievance])],C={content:[{text:i,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.block_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:p,widths:["15%","25%","20%","20%","20%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};Zt.default.createPdf(C).download(`${this.block_name} ${this.type}_field_verification_list.pdf`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(i){return new(i||r)(u(A),u(V),u(P),u(M),u(L))},r.\u0275cmp=D({type:r,selectors:[["app-gp-fv-drilldown-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"d-flex","flex-column","col-md-6"],[1,"",2,"font-weight","640","font-size","large"],[2,"color","#fd7b03"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-4",2,"display","flex","justify-content","flex-end"],[1,"search-box"],["type","text","placeholder","Enter GP Name",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],[1,"col-md-2","text-sm-end",2,"max-width","max-content"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[3,"routerLink"],[1,"mt-6","text-center"]],template:function(i,s){i&1&&(a(0,"div",0)(1,"div",1),h(2,"div",2),a(3,"div",3)(4,"a",4),S("click",function(){return s.goBack()}),a(5,"button",5),h(6,"i",6),o(7," Back"),l()()()(),a(8,"div",7)(9,"div",8),g(10,Ue,3,0,"div",9)(11,He,21,6),l()()()),i&2&&(d(10),w(10,s.isStatsLoading?10:11))},dependencies:[j,$,z,B,R,N,W],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:180px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.tr-border-bottom[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6}"]});let n=r;return n})();var ie=k(Q());var ne=k(X());function Ke(n,r){n&1&&(a(0,"div",10),h(1,"i",11),o(2," We are fetching the data, please wait. "),l())}function qe(n,r){if(n&1){let e=I();a(0,"button",29),S("click",function(){E(e);let i=m(3);return T(i.exportToPdf(i.filteredBlockStats))}),h(1,"i",30),o(2,"Download "),l()}}function Je(n,r){if(n&1&&g(0,qe,3,0,"button",28),n&2){let e=m(2);_("ngIf",e.filteredBlockStats.length)}}function Qe(n,r){n&1&&(a(0,"button",31),h(1,"i",32),o(2,"Downloading... "),l())}function Xe(n,r){if(n&1&&(a(0,"tr",35)(1,"td"),o(2),l(),a(3,"td")(4,"a",36),o(5),l()(),a(6,"td"),o(7),y(8,"indianNumberFormat"),l(),a(9,"td"),o(10),y(11,"indianNumberFormat"),l(),a(12,"td"),o(13),y(14,"indianNumberFormat"),l()()),n&2){let e=r.$implicit,t=r.index,i=m(3);d(2),f(t+1),d(2),_t("routerLink","/department/portal/field-verification/dashboard/fv-drilldown/ward-fv-stats/",i.district_id,"/",i.ulb_id,"/",e==null?null:e.ward_id,"/",i.type,""),d(1),f(e==null?null:e.ward_no),d(2),f(F(8,9,e==null||e.data==null?null:e.data.total)),d(3),f(F(11,11,e==null||e.data==null?null:e.data.non_nfsa)),d(3),f(F(14,13,e==null||e.data==null?null:e.data.grievance))}}function Ze(n,r){if(n&1&&(a(0,"table",33)(1,"thead")(2,"tr")(3,"th"),o(4,"SN"),l(),a(5,"th"),o(6,"Ward"),l(),a(7,"th"),o(8,"Total"),l(),a(9,"th"),o(10,"Non NFSA"),l(),a(11,"th"),o(12,"Grievance"),l()()(),a(13,"tbody"),g(14,Xe,15,15,"tr",34),l()()),n&2){let e=m(2);d(14),_("ngForOf",e.filteredBlockStats)}}function ti(n,r){n&1&&(a(0,"h5",37),o(1," No Data Found "),l())}function ei(n,r){if(n&1){let e=I();a(0,"div",12)(1,"div",13)(2,"div",14)(3,"h4",15),o(4),l()(),a(5,"nav",16)(6,"ol",17)(7,"li",18),o(8),l(),a(9,"li",19),o(10),l()()()(),a(11,"div",20)(12,"div",21)(13,"input",22),S("ngModelChange",function(i){E(e);let s=m();return T(s.searchTerm=i)}),l(),h(14,"i",23),l()(),a(15,"div",24),g(16,Je,1,1,"button",25)(17,Qe,3,0),l(),a(18,"div",26),g(19,Ze,15,1,"table",27)(20,ti,2,0),l()()}if(n&2){let e=m();d(4),f(e.label),d(4),f(e.district_name),d(2),f(e.ulb_name),d(3),_("ngModel",e.searchTerm),d(3),w(16,e.isExportInProgress?17:16),d(3),w(19,e.filteredBlockStats&&e.filteredBlockStats.length>0?19:20)}}var ae=(()=>{let r=class r{constructor(t,i,s,c,p){this.authService=t,this.httpClient=i,this.appService=s,this.route=c,this.location=p,this.type="",this.label="",this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.ulb_id="",this.ulb_name="",this.district_name="",this.block_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(t=>{this.district_id=t.district_id,this.ulb_id=t.ulb_id,this.district_name=U.data.find(i=>i.id==this.district_id)?.district_name,this.ulb_name=xt.data.find(i=>i.id==this.ulb_id)?.ulb_name,this.type=t.type,this.updateLabelAndFilterData(),this.fetchDrillDownList()})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(t=>t.ward_no.toLowerCase().includes(this.searchTerm.toLowerCase())):this.drilldownStats}updateLabelAndFilterData(){switch(this.type){case"total":this.label="Total No. of Field Verification";break;case"assigned":this.label="Assigned for Field Verification";break;case"unassigned":this.label="Unassigned for Field Verification";break;case"completed":this.label="Completed in Field Verification";break;case"eligible":this.label="Eligible in Field Verification";break;case"ineligible":this.label="Ineligible in Field Verification";break;default:this.label="Received Grievance"}}updateGrievanceDataByType(){this.type==="total"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.redressed[0]?.completed_grievance+t?.redressed[0]?.pending_grievance,non_nfsa:t?.redressed[0]?.completed_nonnfsa+t?.redressed[0]?.pending_nonnfsa,total:t?.redressed[0]?.completed_grievance+t?.redressed[0]?.pending_grievance+t?.redressed[0]?.completed_nonnfsa+t?.redressed[0]?.pending_nonnfsa}})):this.type==="assigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.redressed[0]?.assigned_grievance,non_nfsa:t?.redressed[0]?.assigned_nonnfsa,total:t?.redressed[0]?.assigned_nonnfsa+t?.redressed[0]?.assigned_grievance}})):this.type==="unassigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.redressed[0]?.unassigned_grievance,non_nfsa:t?.redressed[0]?.unassigned_nonnfsa,total:t?.redressed[0]?.unassigned_grievance+t?.redressed[0]?.unassigned_nonnfsa}})):this.type==="eligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.redressed[0]?.eligible_grievance,non_nfsa:t?.redressed[0]?.eligible_nonnfsa,total:t?.redressed[0]?.eligible_grievance+t?.redressed[0]?.eligible_nonnfsa}})):this.type==="ineligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.redressed[0]?.ineligible_grievance,non_nfsa:t?.redressed[0]?.ineligible_nonnfsa,total:t?.redressed[0]?.ineligible_grievance+t?.redressed[0]?.ineligible_nonnfsa}})):this.type==="completed"&&(this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.redressed[0]?.completed_grievance,non_nfsa:t?.redressed[0]?.completed_nonnfsa,total:t?.redressed[0]?.completed_nonnfsa+t?.redressed[0]?.completed_grievance}})))}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/fv-dashboard/ward-wise?type=${this.type}&ulb_id=${this.ulb_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(t=>{this.drilldownStats=t.data,this.updateLabelAndFilterData(),this.updateGrievanceDataByType(),this.isStatsLoading=!1},t=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(t){this.isExportInProgress=!0;let i=`${this.type?.toUpperCase()} FIELD VERIFICATION LIST`,s=new Date,c=`Timestamp: ${(0,ne.default)().format("DD-MM-YYYY")}, ${s.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,p=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"GP/WARD",fillColor:"#d3d3d3",bold:!0},{text:"Total",fillColor:"#d3d3d3",bold:!0},{text:"Non NFSA",fillColor:"#d3d3d3",bold:!0},{text:"Grievance",fillColor:"#d3d3d3",bold:!0}],...t.map((b,O)=>[O+1,b?.ward_no,b.data?.total,b.data?.non_nfsa,b.data?.grievance])],C={content:[{text:i,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]},{text:`BLOCK/ULB/MC :  ${String(this.ulb_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0]}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:p,widths:["15%","25%","20%","20%","20%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};ie.default.createPdf(C).download(`${this.ulb_name}'s ${this.type}_field_verification_list.pdf`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(i){return new(i||r)(u(A),u(V),u(P),u(M),u(L))},r.\u0275cmp=D({type:r,selectors:[["app-ward-fv-drilldown-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"d-flex","flex-column","col-md-6"],[1,"",2,"font-weight","640","font-size","large"],[2,"color","#fd7b03"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-4",2,"display","flex","justify-content","flex-end"],[1,"search-box"],["type","text","placeholder","Enter Ward No.",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],[1,"col-md-2","text-sm-end",2,"max-width","max-content"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[3,"routerLink"],[1,"mt-6","text-center"]],template:function(i,s){i&1&&(a(0,"div",0)(1,"div",1),h(2,"div",2),a(3,"div",3)(4,"a",4),S("click",function(){return s.goBack()}),a(5,"button",5),h(6,"i",6),o(7," Back"),l()()()(),a(8,"div",7)(9,"div",8),g(10,Ke,3,0,"div",9)(11,ei,21,6),l()()()),i&2&&(d(10),w(10,s.isStatsLoading?10:11))},dependencies:[j,$,z,B,R,N,W],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:180px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.tr-border-bottom[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6}"]});let n=r;return n})();var le=k(Q());var oe=k(X());function oi(n,r){if(n&1){let e=I();a(0,"select",24),S("change",function(i){E(e);let s=m();return T(s.handleSelectedTypeChange(i))}),a(1,"option",25),o(2,"All"),l(),a(3,"option",26),o(4,"Assigned"),l(),a(5,"option",27),o(6,"Unassigned"),l(),a(7,"option",28),o(8,"Eligible"),l(),a(9,"option",29),o(10,"Ineligible"),l(),a(11,"option",30),o(12,"Completed"),l()()}if(n&2){let e=m();_("value",e.selectedType)}}function ri(n,r){if(n&1&&(a(0,"select",31)(1,"option",25),o(2,"All"),l(),a(3,"option",26),o(4,"Assigned"),l(),a(5,"option",27),o(6,"Unassigned"),l(),a(7,"option",28),o(8,"Eligible"),l(),a(9,"option",29),o(10,"Ineligible"),l(),a(11,"option",30),o(12,"Completed"),l()()),n&2){let e=m();_("value",e.selectedType)}}function di(n,r){n&1&&(a(0,"div",32),h(1,"i",33),o(2," We are fetching the data, please wait. "),l())}function si(n,r){if(n&1){let e=I();a(0,"button",50),S("click",function(){E(e);let i=m(3);return T(i.handleExport())}),h(1,"i",51),o(2,"Download "),l()}}function ci(n,r){if(n&1&&g(0,si,3,0,"button",49),n&2){let e=m(2);_("ngIf",e.filteredVillageUserStats.length)}}function pi(n,r){n&1&&(a(0,"button",52),h(1,"i",53),o(2,"Downloading... "),l())}var mi=(n,r)=>r.id;function fi(n,r){n&1&&(a(0,"th"),o(1,"Assigned Date"),l())}function _i(n,r){n&1&&(a(0,"th"),o(1,"Assigned To"),l())}function gi(n,r){n&1&&(a(0,"th"),o(1,"FV Status"),l())}function hi(n,r){n&1&&(a(0,"th"),o(1,"Report"),l())}function ui(n,r){if(n&1&&(a(0,"td"),o(1),l()),n&2){let e=m().$implicit,t=m(3);d(1),Y(" ",e!=null&&e.assign_date?t.appService.dateFormat(e==null?null:e.assign_date):"N/A","")}}function bi(n,r){if(n&1&&(a(0,"div",61)(1,"span"),o(2),l(),a(3,"strong",62),o(4),l()()),n&2){let e=m(2).$implicit,t=m(3);d(2),gt(" ",e==null?null:e.first_name," ",e==null?null:e.last_name," "),d(2),Y("(",t.fieldVerification.getDesignationName(e==null?null:e.designation),")")}}function vi(n,r){n&1&&(a(0,"span"),o(1,"N/A"),l())}function xi(n,r){if(n&1&&(a(0,"td",59),g(1,bi,5,3,"div",60)(2,vi,2,0,"span",56),l()),n&2){let e=m().$implicit;d(1),_("ngIf",e==null?null:e.first_name),d(1),_("ngIf",!(e!=null&&e.first_name))}}function Si(n,r){if(n&1&&(a(0,"td"),o(1),l()),n&2){let e=m().$implicit;d(1),Y(" ",(e==null?null:e.fv_status)=="0"||(e==null?null:e.fv_status)=="3"?"Ineligible":(e==null?null:e.fv_status)=="1"?"Eligible":"N/A"," ")}}var Ci="/department/portal/field-verification/dashboard/field-verification-list/user/field-verification-report",wi=n=>[Ci,n],yi=(n,r)=>({"disabled-link":n,"inactive-link":r});function Fi(n,r){if(n&1){let e=I();a(0,"td",63)(1,"a",64),S("click",function(i){E(e);let s=m().$implicit;return T((s==null?null:s.fv_status)==="N/A"?i.preventDefault():null)}),l()()}if(n&2){let e=m().$implicit;d(1),ct("pointer-events",!(e!=null&&e.last_fv_id)||(e==null?null:e.fv_status)==="N/A"?"none":"auto"),_("routerLink",e!=null&&e.last_fv_id&&(e==null?null:e.fv_status)!="N/A"?ht(5,wi,+(e==null?null:e.last_fv_id)):null)("ngClass",ut(7,yi,!(e!=null&&e.last_fv_id)||(e==null?null:e.fv_status)==="N/A",(e==null?null:e.fv_status)==="N/A")),st("aria-disabled",!(e!=null&&e.last_fv_id)||(e==null?null:e.fv_status)==="N/A")}}function Ei(n,r){if(n&1&&(a(0,"tr")(1,"td"),o(2),l(),a(3,"td"),o(4),y(5,"getFieldVerificationCategoryNameById"),l(),a(6,"td"),o(7),y(8,"uppercase"),l(),a(9,"td"),o(10),y(11,"uppercase"),l(),a(12,"td"),o(13),y(14,"uppercase"),l(),a(15,"td"),o(16),l(),g(17,ui,2,1,"td",56)(18,xi,3,2,"td",57)(19,Si,2,1,"td",56)(20,Fi,2,10,"td",58),l()),n&2){let e=r.$implicit,t=r.$index,i=m(3);d(2),f(t+1),d(2),f(F(5,10,e==null?null:e.field_verification_category)),d(3),f(F(8,12,e.application_number)),d(3),f(F(11,14,e.applicant_name)),d(3),f(F(14,16,e.spouse_or_father_name)),d(3),f(e.mobile_number),d(1),_("ngIf",i.selectedType!="unassigned"),d(1),_("ngIf",i.selectedType!="unassigned"),d(1),_("ngIf",i.selectedType!="unassigned"&&i.selectedType!="assigned"),d(1),_("ngIf",i.selectedType!="unassigned"&&i.selectedType!="assigned")}}function Ti(n,r){if(n&1&&(a(0,"table",54)(1,"thead",55)(2,"tr")(3,"th"),o(4,"SN"),l(),a(5,"th"),o(6,"FV Category"),l(),a(7,"th"),o(8,"Application No."),l(),a(9,"th"),o(10,"Applicant Name"),l(),a(11,"th"),o(12,"Father/Husband Name"),l(),a(13,"th"),o(14,"Mobile No."),l(),g(15,fi,2,0,"th",56)(16,_i,2,0,"th",56)(17,gi,2,0,"th",56)(18,hi,2,0,"th",56),l()(),a(19,"tbody"),pt(20,Ei,21,18,"tr",null,mi),l()()),n&2){let e=m(2);d(15),_("ngIf",e.selectedType!="unassigned"),d(1),_("ngIf",e.selectedType!="unassigned"),d(1),_("ngIf",e.selectedType!="unassigned"&&e.selectedType!="assigned"),d(1),_("ngIf",e.selectedType!="unassigned"&&e.selectedType!="assigned"),d(2),mt(e.filteredVillageUserStats)}}function Ii(n,r){n&1&&(a(0,"h5",65),o(1,"No data available"),l())}function ki(n,r){n&1&&(a(0,"div",66),o(1,"Loading... "),h(2,"i",67),l())}function Di(n,r){n&1&&(a(0,"span"),h(1,"i",33),o(2," Loading..."),l())}function Li(n,r){n&1&&(a(0,"span"),o(1,"Load More"),l())}function Vi(n,r){if(n&1){let e=I();a(0,"div",68)(1,"button",69),S("click",function(){E(e);let i=m(2);return T(i.loadMore())}),g(2,Di,3,0,"span",56)(3,Li,2,0,"span",56),l()()}if(n&2){let e=m(2);d(2),_("ngIf",e.isLoadMoreInProgress),d(1),_("ngIf",!e.isLoadMoreInProgress)}}function Mi(n,r){if(n&1){let e=I();a(0,"div",34)(1,"div",35)(2,"div",7)(3,"div",36)(4,"h5",37),o(5," Number of records found : "),a(6,"span",38),o(7),l()()(),a(8,"div",39)(9,"div",40)(10,"input",41),S("change",function(i){E(e);let s=m();return T(s.handleSearch(i))}),l(),h(11,"i",42),l(),a(12,"div",43),g(13,ci,1,1,"button",44)(14,pi,3,0),l()()(),a(15,"div",45),g(16,Ti,22,4,"table",46)(17,Ii,2,0)(18,ki,3,0,"div",47),l(),g(19,Vi,4,2,"div",48),l()()}if(n&2){let e=m();d(7),f(e.total_count),d(3),_("value",e.searchTerm),d(3),w(13,e.isExportInProgress?14:13),d(3),w(16,e.filteredVillageUserStats&&e.filteredVillageUserStats.length>0?16:e.application_list&&e.application_list.length==0&&!e.isFormSearchInProgress?17:-1),d(2),w(18,e.isFormSearchInProgress&&e.application_list&&e.application_list.length==0?18:-1),d(1),_("ngIf",e.newApplicationList.length>=e.pageSize)}}var re=(()=>{let r=class r{constructor(t,i,s,c,p,C,b,O){this.route=t,this.formService=i,this.appService=s,this.httpClient=c,this.authService=p,this.masterDataService=C,this.location=b,this.fieldVerification=O,this.type="",this.label="",this.drilldownStats=[],this.district_name="",this.ward_no="",this.ulb_name="",this.isStatsLoading=!1,this.userStats=[],this.ulb_id="",this.ward_id="",this.village_id="",this.district_id="",this.villageStats=[],this.searchTerm="",this.isFormSearchInProgress=!1,this.showTable=!1,this.application_list=[],this.newApplicationList=[],this.hasMoreRecords=!0,this.offset=0,this.isLoadMoreInProgress=!1,this.page=1,this.pageSize=this.appService.loadmorelimit,this.isExportInProgress=!1,this.isExportInProgressExcel=!1,this.count=0,this.total_count=0,this.today="",this.selectedType="",this.searchForm=new wt({a_category:new K(""),status:new K(""),to_date:new K(""),from_date:new K("")})}ngOnInit(){this.today=(0,oe.default)().format("YYYY-MM-DD"),this.route.params.subscribe(t=>{this.district_id=t.district_id,this.ulb_id=t.ulb_id,this.ward_id=t.ward_id,this.village_id=t.village_id,this.district_name=U.data.find(i=>i.id==this.district_id)?.district_name,this.ulb_name=xt.data.find(i=>i.id==this.ulb_id)?.ulb_name,this.ward_no=Ut.data.find(i=>i.id==this.ward_id)?.ward_no,this.type=t.type,this.selectedType=t.type,this.updateLabelAndFilterData(),this.fetchGrievanceStats(this.ward_id,this.village_id)})}handleSelectedTypeChange(t){this.selectedType=t?.target?.value,this.page=1,this.fetchGrievanceStats(this.ward_id,this.village_id)}handleSearch(t){this.searchTerm=t?.target?.value,this.page=1,this.fetchGrievanceStats(this.ward_id,this.village_id)}fetchuserStats(t,i,s=!1){this.isStatsLoading=!0;let c=new G;c=c.set("village_id",t),c=c.set("fromDate",t),c=c.set("toDate",t),c=c.set("category",t),c=c.set("status",t),c=c.set("gp",i),c=c.set("page",1),c=c.set("size",this.pageSize);let p=new H({Authorization:this.authService.authToken});this.httpClient.get(`${this.appService.departmentBaseUrl}/drilldown/detailed-view`,{params:c,headers:p}).subscribe(C=>{this.isStatsLoading=!1,this.count=C.count,C.data&&C.data.length>0?(this.application_list=this.application_list.concat(C.data),this.offset+=C.data.length):this.hasMoreRecords=!1,s&&(this.isLoadMoreInProgress=!1)},C=>{this.isStatsLoading=!1,this.application_list=[],this.hasMoreRecords=!1,s&&(this.isLoadMoreInProgress=!1)})}get filteredVillageUserStats(){return this.application_list}updateLabelAndFilterData(){switch(this.type){case"total":this.label="Total No. of Field Verification";break;case"assigned":this.label="Assigned for Field Verification";break;case"unassigned":this.label="Unassigned for Field Verification";break;case"completed":this.label="Completed in Field Verification";break;case"eligible":this.label="Eligible in Field Verification";break;case"ineligible":this.label="Ineligible in Field Verification";break;default:this.label="Received Grievance"}}fetchGrievanceStats(t,i){this.isStatsLoading=!0;let s=this.searchForm.value,c=new G;s.from_date&&(c=c.set("fromDate",s.from_date)),s.to_date&&(c=c.set("toDate",s.to_date)),s.a_category&&(c=c.set("field_verification_category_id",s.a_category)),this.searchTerm?.trim()&&(c=c.set("application_number",this.searchTerm?.trim()));let p="";p="/v1/fv-dashboard/list-wise",c=c.set("ward_id",this.ward_id),c=c.set("type",this.selectedType),c=c.set("page",1),c=c.set("pageSize",this.pageSize);let C=new H({Authorization:this.authService.authToken});this.httpClient.get(`${this.appService.departmentBaseUrl}${p}`,{params:c,headers:C}).subscribe(b=>{this.isStatsLoading=!1,this.total_count=b?.pagination?.count,this.selectedType==="total"?(this.newApplicationList=[...b.allCompleted,...b?.allPending],this.application_list=[...b.allCompleted,...b?.allPending]):(this.newApplicationList=b.data,this.application_list=b.data),this.updateLabelAndFilterData()},b=>{this.isStatsLoading=!1,this.application_list=[],this.newApplicationList=[]})}goBack(){this.location.back()}onSearch(){if(this.searchForm.status==="INVALID"){this.formService.triggerFormValidation(this.searchForm);return}this.isFormSearchInProgress=!0;let t=this.searchForm.value,i=new G;t.from_date&&(i=i.set("fromDate",t.from_date)),t.to_date&&(i=i.set("toDate",t.to_date)),t.a_category&&(i=i.set("field_verification_category_id",t.a_category)),this.searchTerm?.trim()&&(i=i.set("application_number",this.searchTerm?.trim()));let s="";s="/v1/fv-dashboard/list-wise",i=i.set("ward_id",this.ward_id),i=i.set("type",this.selectedType),i=i.set("page",1),i=i.set("pageSize",this.pageSize),i=i.set("pageSize",this.pageSize);let c=new H({Authorization:this.authService.authToken});this.httpClient.get(`${this.appService.departmentBaseUrl}${s}`,{params:i,headers:c}).subscribe(p=>{this.isFormSearchInProgress=!1,this.total_count=p?.pagination?.count,this.selectedType==="total"?(this.newApplicationList=[...p.allCompleted,...p?.allPending],this.application_list=[...p.allCompleted,...p?.allPending]):(this.newApplicationList=p.data,this.application_list=p.data)},p=>{this.isFormSearchInProgress=!1,this.application_list=[],this.newApplicationList=[]})}loadMore(){this.page+=1,this.loadMoreGrievanceStats()}loadMoreGrievanceStats(){this.isLoadMoreInProgress=!0;let t=this.searchForm.value,i=new G;t.from_date&&(i=i.set("fromDate",t.from_date)),t.to_date&&(i=i.set("toDate",t.to_date)),t.a_category&&(i=i.set("field_verification_category_id",t.a_category)),this.searchTerm?.trim()&&(i=i.set("application_number",this.searchTerm?.trim()));let s="";s="/v1/fv-dashboard/list-wise",i=i.set("ward_id",this.ward_id),i=i.set("type",this.selectedType),i=i.set("page",this.page),i=i.set("pageSize",this.pageSize);let c=new H({Authorization:this.authService.authToken});this.httpClient.get(`${this.appService.departmentBaseUrl}${s}`,{params:i,headers:c}).subscribe(p=>{this.isLoadMoreInProgress=!1,this.total_count=p?.pagination?.count,this.selectedType==="total"?(this.newApplicationList=[...p.allCompleted,...p?.allPending],this.application_list=[...this.application_list,...p.allCompleted,...p?.allPending]):(this.newApplicationList=p.data,this.application_list=[...this.application_list,...p.data])},p=>{this.isLoadMoreInProgress=!1,this.application_list=[],this.newApplicationList=[]})}exportToPDF(t){this.isExportInProgress=!0;let i=`${this.type?.toUpperCase()} FIELD VERIFICATION LIST`,s=[[{text:"SN",fillColor:"#d3d3d3",bold:!0},{text:"GRIEVANCE REF NO.",fillColor:"#d3d3d3",bold:!0},{text:"CATEGORY",fillColor:"#d3d3d3",bold:!0},{text:"TYPE",fillColor:"#d3d3d3",bold:!0},{text:"APPLICATION NO.",fillColor:"#d3d3d3",bold:!0},{text:"APPLICANT NAME",fillColor:"#d3d3d3",bold:!0},{text:"STATUS",fillColor:"#d3d3d3",bold:!0}],...t.map((p,C)=>[C+1,`GR-${p.grievance_ref_no}`,p.grievance_category_id==4?"Others":"Grievance",p.grievance_category_id==4?"Others":p.grievance_category_id==1?"Application":p.grievance_category_id==2?"Payment":"Grievance",p.enrollment_no,String(p.applicant_name).toUpperCase,p.grievance_status==0||p.grievance_status==3?"Pending":"Redressed"])],c={content:[{text:i,style:"title"},{table:{widths:["25%","25%","25%","25%"],body:[[{text:`DISTRICT: ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",fontSize:10},{text:`BLOCK: ${String(this.ulb_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",fontSize:10},{text:`GP: ${String(this.ward_no).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",fontSize:10},{text:`VILLAGE: ${String(this.filteredVillageUserStats[0]?.village_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",fontSize:10}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:s,widths:["8%","22%","10%","10%","20%","20%","10%"]},style:"tableBody"}],styles:{title:{fontSize:15,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:8}}};le.default.createPdf(c).download(`${this.ulb_name} ward- ${this.ward_no} ${this.type}_fv_list.pdf`),setTimeout(()=>{this.isExportInProgress=!1},3e3)}handleExport(){let t="/v1/fv-dashboard/fv-list-export",i=this.searchForm.value,s=new G;i.a_category&&(s=s.set("field_verification_category_id",i.a_category)),this.searchTerm?.trim()&&(s=s.set("application_number",this.searchTerm?.trim())),s=s.set("ward_id",this.ward_id),s=s.set("type",this.selectedType),this.isExportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${t}`,{params:s,headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(c=>{this.isExportInProgress=!1,this.downloadFile(c,`${this.ulb_name} ward- ${this.ward_no} ${this.type}_fv_list.pdf`)},c=>{this.isExportInProgress=!1,console.error("File download failed:",c)})}downloadFile(t,i){let s=window.URL.createObjectURL(t),c=document.createElement("a");c.href=s,c.download=i,c.click(),window.URL.revokeObjectURL(s)}handleCategoryChange(){this.page=1,this.fetchGrievanceStats(this.ward_id,this.village_id)}};r.\u0275fac=function(i){return new(i||r)(u(M),u(Dt),u(P),u(V),u(A),u(Mt),u(L),u(Lt))},r.\u0275cmp=D({type:r,selectors:[["app-ward-fv-stats"]],decls:38,vars:8,consts:[[1,"container-fluid","drilldown-reports"],[1,"d-flex","justify-content-between","w-100","mb-3"],[2,"color","#fd7b03"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"row","mb-2"],[1,"col-md-7"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"card","p-3","mb-3"],[3,"formGroup","ngSubmit"],[1,"row","g-3","mb-2"],[1,"col-md-3"],["for","a_category",1,"fw-bold"],["formControlName","a_category","id","a_category",1,"form-select","my-2",3,"change"],["value",""],["value","1"],["class","form-select my-2",3,"value","change",4,"ngIf"],["disabled","","class","form-select my-2",3,"value",4,"ngIf"],[1,"mt-3",2,"background-color","#e3e3e3","border","none"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"form-select","my-2",3,"value","change"],["value","total"],["value","assigned"],["value","unassigned"],["value","eligible"],["value","ineligible"],["value","completed"],["disabled","",1,"form-select","my-2",3,"value"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"card"],[1,"card-body","p-3"],[1,"col-md-5"],[1,"card-title"],["id","recordCount"],[1,"col-md-7","d-flex","justify-content-end"],[1,"search-box","me-2"],["type","text","placeholder","Enter Application No.",3,"value","change"],[1,"fa","fa-search"],[1,"d-inline","me-2"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive"],["class","table table-bordered app_reports"],["class","text-center pb-3"],["class","text-center mt-3",4,"ngIf"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table","table-bordered","app_reports"],[1,"text-light",2,"background-color","#fd7b03"],[4,"ngIf"],["style","white-space: nowrap;text-transform: uppercase;",4,"ngIf"],["style","text-align: center; vertical-align: middle;",4,"ngIf"],[2,"white-space","nowrap","text-transform","uppercase"],["class","d-flex flex-column gap-1","style","line-height: 0.9;",4,"ngIf"],[1,"d-flex","flex-column","gap-1",2,"line-height","0.9"],[2,"font-size","11px"],[2,"text-align","center","vertical-align","middle"],[1,"far","fa-file-alt",3,"routerLink","ngClass","click"],[1,"text-center"],[1,"text-center","pb-3"],[1,"fas","fa-spinner","fa-spin","ms-2"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"]],template:function(i,s){i&1&&(a(0,"div",0)(1,"div",1)(2,"h4",2),o(3),l(),a(4,"div",3)(5,"a",4),S("click",function(){return s.goBack()}),a(6,"button",5),h(7,"i",6),o(8," Back"),l()()()(),a(9,"div",7)(10,"div",8)(11,"nav",9)(12,"ol",10)(13,"li",11),o(14),l(),a(15,"li",11),o(16),l(),a(17,"li",11),o(18),l()()()()(),a(19,"div",12)(20,"form",13),S("ngSubmit",function(){return s.onSearch()}),a(21,"div",14)(22,"div",15)(23,"label",16),o(24," FV Category "),l(),a(25,"select",17),S("change",function(){return s.handleCategoryChange()}),a(26,"option",18),o(27,"All"),l(),a(28,"option",19),o(29,"Non NFSA"),l()()(),a(30,"div",15)(31,"label",16),o(32," Type "),l(),g(33,oi,13,1,"select",20)(34,ri,13,1,"select",21),l()()()(),a(35,"div",22),g(36,di,3,0,"div",23)(37,Mi,20,6),l()()),i&2&&(d(3),f(s.label),d(11),f(s.district_name),d(2),f(s.ulb_name),d(2),f(s.ward_no),d(2),_("formGroup",s.searchForm),d(13),_("ngIf",s.type=="total"),d(1),_("ngIf",s.type!="total"),d(2),w(36,s.isStatsLoading?36:37))},dependencies:[bt,$,yt,It,kt,Tt,B,Ct,Ft,Et,N,vt,Vt],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]:disabled, input[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:left;text-align:left}a.disabled-link[_ngcontent-%COMP%]{color:gray!important;cursor:not-allowed!important;text-decoration:none!important}a.inactive-link[_ngcontent-%COMP%]{color:gray!important;cursor:not-allowed!important}"]});let n=r;return n})();var de=k(Q());var se=k(X());function Ni(n,r){n&1&&(a(0,"div",10),h(1,"i",11),o(2," We are fetching the data, please wait. "),l())}function Pi(n,r){if(n&1){let e=I();a(0,"button",29),S("click",function(){E(e);let i=m(3);return T(i.exportToPdf(i.filteredBlockStats))}),h(1,"i",30),o(2,"Download "),l()}}function Ai(n,r){if(n&1&&g(0,Pi,3,0,"button",28),n&2){let e=m(2);_("ngIf",e.filteredBlockStats.length)}}function Bi(n,r){n&1&&(a(0,"button",31),h(1,"i",32),o(2,"Downloading... "),l())}function Oi(n,r){if(n&1&&(a(0,"tr",35)(1,"td"),o(2),l(),a(3,"td")(4,"a",36),o(5),l()(),a(6,"td"),o(7),y(8,"indianNumberFormat"),l(),a(9,"td"),o(10),y(11,"indianNumberFormat"),l(),a(12,"td"),o(13),y(14,"indianNumberFormat"),l()()),n&2){let e=r.$implicit,t=r.index,i=m(3);d(2),f(t+1),d(2),At("routerLink","/department/portal/field-verification/dashboard/fv-drilldown/village-fv-stats/",i.district_id,"/",i.block_id,"/",i.gp_id,"/",e==null?null:e.village_id,"/",i.type,""),d(1),f(e==null?null:e.village_name),d(2),f(F(8,10,e==null||e.data==null?null:e.data.total)),d(3),f(F(11,12,e==null||e.data==null?null:e.data.non_nfsa)),d(3),f(F(14,14,e==null||e.data==null?null:e.data.grievance))}}function $i(n,r){if(n&1&&(a(0,"table",33)(1,"thead")(2,"tr")(3,"th"),o(4,"SN"),l(),a(5,"th"),o(6,"Village Name"),l(),a(7,"th"),o(8,"Total"),l(),a(9,"th"),o(10,"Non NFSA"),l(),a(11,"th"),o(12,"Grievance"),l()()(),a(13,"tbody"),g(14,Oi,15,16,"tr",34),l()()),n&2){let e=m(2);d(14),_("ngForOf",e.filteredBlockStats)}}function Ui(n,r){n&1&&(a(0,"h5",37),o(1," No Data Found "),l())}function ji(n,r){if(n&1){let e=I();a(0,"div",12)(1,"div",13)(2,"div",14)(3,"h4",15),o(4),l()(),a(5,"nav",16)(6,"ol",17)(7,"li",18),o(8),l(),a(9,"li",18),o(10),l(),a(11,"li",19),o(12),l()()()(),a(13,"div",20)(14,"div",21)(15,"input",22),S("ngModelChange",function(i){E(e);let s=m();return T(s.searchTerm=i)}),l(),h(16,"i",23),l()(),a(17,"div",24),g(18,Ai,1,1,"button",25)(19,Bi,3,0),l(),a(20,"div",26),g(21,$i,15,1,"table",27)(22,Ui,2,0),l()()}if(n&2){let e=m();d(4),f(e.label),d(4),f(e.district_name),d(2),f(e.block_name),d(2),f(e.gp_name),d(3),_("ngModel",e.searchTerm),d(3),w(18,e.isExportInProgress?19:18),d(3),w(21,e.filteredBlockStats&&e.filteredBlockStats.length>0?21:22)}}var ce=(()=>{let r=class r{constructor(t,i,s,c,p){this.authService=t,this.httpClient=i,this.appService=s,this.route=c,this.location=p,this.type="",this.label="",this.filteredDistrictStats=[],this.isStatsLoading=!1,this.isExportInProgress=!1,this.drilldownStats=[],this.searchTerm="",this.district_id="",this.district_name="",this.block_id="",this.block_name="",this.gp_id="",this.gp_name=""}goBack(){this.location.back()}ngOnInit(){this.route.params.subscribe(t=>{this.district_id=t.district_id,this.district_name=U.data.find(i=>i.id==this.district_id)?.district_name,this.block_id=t.block_id,this.block_name=lt.data.find(i=>i.id==this.block_id)?.block_name,this.gp_id=t.gp_id,this.gp_name=St.data.find(i=>i.id==this.gp_id)?.gp_name,this.type=t.type,this.updateLabelAndFilterData(),this.fetchDrillDownList()})}get filteredBlockStats(){return this.searchTerm?this.drilldownStats.filter(t=>t.village_name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.drilldownStats}updateLabelAndFilterData(){switch(this.type){case"total":this.label="Total No. of Field Verification";break;case"assigned":this.label="Assigned for Field Verification";break;case"unassigned":this.label="Unassigned for Field Verification";break;case"completed":this.label="Completed in Field Verification";break;case"eligible":this.label="Eligible in Field Verification";break;case"ineligible":this.label="Ineligible in Field Verification";break;default:this.label="Received Grievance"}}updateGrievanceDataByType(){this.type==="total"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.completed_grievance+t?.data[0]?.pending_grievance,non_nfsa:t?.data[0]?.completed_nonnfsa+t?.data[0]?.pending_nonnfsa,total:t?.data[0]?.completed_grievance+t?.data[0]?.pending_grievance+t?.data[0]?.completed_nonnfsa+t?.data[0]?.pending_nonnfsa}})):this.type==="assigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.assigned_grievance,non_nfsa:t?.data[0]?.assigned_nonnfsa,total:t?.data[0]?.assigned_nonnfsa+t?.data[0]?.assigned_grievance}})):this.type==="unassigned"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.unassigned_grievance,non_nfsa:t?.data[0]?.unassigned_nonnfsa,total:t?.data[0]?.unassigned_grievance+t?.data[0]?.unassigned_nonnfsa}})):this.type==="eligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.eligible_grievance,non_nfsa:t?.data[0]?.eligible_nonnfsa,total:t?.data[0]?.eligible_grievance+t?.data[0]?.eligible_nonnfsa}})):this.type==="ineligible"?this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.ineligible_grievance,non_nfsa:t?.data[0]?.ineligible_nonnfsa,total:t?.data[0]?.ineligible_grievance+t?.data[0]?.ineligible_nonnfsa}})):this.type==="completed"&&(this.drilldownStats=this.drilldownStats.map(t=>x(v({},t),{data:{grievance:t?.data[0]?.completed_grievance,non_nfsa:t?.data[0]?.completed_nonnfsa,total:t?.data[0]?.completed_nonnfsa+t?.data[0]?.completed_grievance}})))}fetchDrillDownList(){this.isStatsLoading=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}/v1/fv-dashboard/village-wise?type=${this.type}&gp_id=${this.gp_id}`,{headers:{Authorization:this.authService.authToken}}).subscribe(t=>{this.isStatsLoading=!1,this.drilldownStats=t.data,this.updateLabelAndFilterData(),this.updateGrievanceDataByType()},t=>{this.isStatsLoading=!1,this.drilldownStats=[]})}exportToPdf(t){this.isExportInProgress=!0;let i=`${this.type?.toUpperCase()} FIELD VERIFICATION LIST`,s=new Date,c=`Timestamp: ${(0,se.default)().format("DD-MM-YYYY")}, ${s.toLocaleTimeString()} - Generated from subhadra.odisha.gov.in`,p=[[{text:"SN.",fillColor:"#d3d3d3",bold:!0},{text:"Village Name",fillColor:"#d3d3d3",bold:!0},{text:"Total",fillColor:"#d3d3d3",bold:!0},{text:"Non NFSA",fillColor:"#d3d3d3",bold:!0},{text:"Grievance",fillColor:"#d3d3d3",bold:!0}],...t.map((b,O)=>[O+1,b?.village_name,b.data?.total,b.data?.non_nfsa,b.data?.grievance])],C={content:[{text:i,style:"title"},{table:{widths:["50%","50%"],body:[[{text:`DISTRICT/MC :  ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0],fontSize:10},{text:`BLOCK/ULB/MC :  ${String(this.block_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",margin:[10,0,10,0],fontSize:10}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:p,widths:["15%","25%","20%","20%","20%"]},style:"tableBody"},{text:c,style:"timestamp",margin:[0,20,0,0],alignment:"center"}],styles:{title:{fontSize:16,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:10},timestamp:{fontSize:10,italics:!0}}};de.default.createPdf(C).download(`${this.gp_name} ${this.type}_field_verification_list.pdf`),setTimeout(()=>{this.isExportInProgress=!1},1e3)}};r.\u0275fac=function(i){return new(i||r)(u(A),u(V),u(P),u(M),u(L))},r.\u0275cmp=D({type:r,selectors:[["app-village-fv-drilldown-stats"]],decls:12,vars:1,consts:[[1,"container","my-4"],[1,"row","mb-2"],[1,"col-md-7"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"card"],[1,"card-body"],["class","w-100 d-flex justify-content-center align-items-center"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"row","d-flex","align-items-center"],[1,"d-flex","flex-column","col-md-6"],[1,"",2,"font-weight","640","font-size","large"],[2,"color","#fd7b03"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["aria-current","page",1,"breadcrumb-item","active"],[1,"col-md-4",2,"display","flex","justify-content","flex-end"],[1,"search-box"],["type","text","placeholder","Enter Village Name",1,"form-control",2,"padding-left","2px",3,"ngModel","ngModelChange"],[1,"fa","fa-search"],[1,"col-md-2","text-sm-end",2,"max-width","max-content"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive","mt-3"],["class","table"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620","display","flex"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table"],["class","tr-border-bottom",4,"ngFor","ngForOf"],[1,"tr-border-bottom"],[3,"routerLink"],[1,"mt-6","text-center"]],template:function(i,s){i&1&&(a(0,"div",0)(1,"div",1),h(2,"div",2),a(3,"div",3)(4,"a",4),S("click",function(){return s.goBack()}),a(5,"button",5),h(6,"i",6),o(7," Back"),l()()()(),a(8,"div",7)(9,"div",8),g(10,Ni,3,0,"div",9)(11,ji,23,7),l()()()),i&2&&(d(10),w(10,s.isStatsLoading?10:11))},dependencies:[j,$,z,B,R,N,W],styles:[".search-box[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:8px;padding:1px 10px;display:flex;align-items:center;width:180px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none!important;box-shadow:none!important;border:none!important;flex:1}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none!important;box-shadow:none!important;flex:1}.search-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#555}.btn-warning[_ngcontent-%COMP%]{background-color:#fe8b03!important}.tr-border-bottom[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6}"]});let n=r;return n})();var pe=k(Q());var me=k(X());function Gi(n,r){if(n&1&&(a(0,"li",25),o(1),l()),n&2){let e=m();d(1),f(e.filteredVillageUserStats[0].village_name||"N/A")}}function zi(n,r){if(n&1){let e=I();a(0,"select",26),S("change",function(i){E(e);let s=m();return T(s.handleSelectedTypeChange(i))}),a(1,"option",27),o(2,"All"),l(),a(3,"option",28),o(4,"Assigned"),l(),a(5,"option",29),o(6,"Unassigned"),l(),a(7,"option",30),o(8,"Eligible"),l(),a(9,"option",31),o(10,"Ineligible"),l(),a(11,"option",32),o(12,"Completed"),l()()}if(n&2){let e=m();_("value",e.selectedType)}}function Ri(n,r){if(n&1&&(a(0,"select",33)(1,"option",27),o(2,"All"),l(),a(3,"option",28),o(4,"Assigned"),l(),a(5,"option",29),o(6,"Unassigned"),l(),a(7,"option",30),o(8,"Eligible"),l(),a(9,"option",31),o(10,"Ineligible"),l(),a(11,"option",32),o(12,"Completed"),l()()),n&2){let e=m();_("value",e.selectedType)}}function Wi(n,r){n&1&&(a(0,"div",34),h(1,"i",35),o(2," We are fetching the data, please wait. "),l())}function Yi(n,r){if(n&1){let e=I();a(0,"button",52),S("click",function(){E(e);let i=m(3);return T(i.handleExport())}),h(1,"i",53),o(2,"Download "),l()}}function Hi(n,r){if(n&1&&g(0,Yi,3,0,"button",51),n&2){let e=m(2);_("ngIf",e.filteredVillageUserStats.length)}}function Ki(n,r){n&1&&(a(0,"button",54),h(1,"i",55),o(2,"Downloading... "),l())}var qi=(n,r)=>r.id;function Ji(n,r){n&1&&(a(0,"th"),o(1,"Assigned Date"),l())}function Qi(n,r){n&1&&(a(0,"th"),o(1,"Assigned To"),l())}function Xi(n,r){n&1&&(a(0,"th"),o(1,"FV Status"),l())}function Zi(n,r){n&1&&(a(0,"th"),o(1,"Report"),l())}function tn(n,r){if(n&1&&(a(0,"td"),o(1),l()),n&2){let e=m().$implicit,t=m(3);d(1),Y(" ",e!=null&&e.assign_date?t.appService.dateFormat(e==null?null:e.assign_date):"N/A","")}}function en(n,r){if(n&1&&(a(0,"div",63)(1,"span"),o(2),l(),a(3,"strong",64),o(4),l()()),n&2){let e=m(2).$implicit,t=m(3);d(2),gt(" ",e==null?null:e.first_name," ",e==null?null:e.last_name," "),d(2),Y("(",t.fieldVerification.getDesignationName(e==null?null:e.designation),")")}}function nn(n,r){n&1&&(a(0,"span"),o(1,"N/A"),l())}function an(n,r){if(n&1&&(a(0,"td",61),g(1,en,5,3,"div",62)(2,nn,2,0,"span",58),l()),n&2){let e=m().$implicit;d(1),_("ngIf",e==null?null:e.first_name),d(1),_("ngIf",!(e!=null&&e.first_name))}}function ln(n,r){if(n&1&&(a(0,"td"),o(1),l()),n&2){let e=m().$implicit;d(1),Y(" ",(e==null?null:e.fv_status)=="0"||(e==null?null:e.fv_status)=="3"?"Ineligible":(e==null?null:e.fv_status)=="1"?"Eligible":"N/A"," ")}}var on="/department/portal/field-verification/dashboard/field-verification-list/user/field-verification-report",rn=n=>[on,n],dn=(n,r)=>({"disabled-link":n,"inactive-link":r});function sn(n,r){if(n&1){let e=I();a(0,"td",65)(1,"a",66),S("click",function(i){E(e);let s=m().$implicit;return T((s==null?null:s.fv_status)==="N/A"?i.preventDefault():null)}),l()()}if(n&2){let e=m().$implicit;d(1),ct("pointer-events",!(e!=null&&e.last_fv_id)||(e==null?null:e.fv_status)==="N/A"?"none":"auto"),_("routerLink",e!=null&&e.last_fv_id&&(e==null?null:e.fv_status)!="N/A"?ht(5,rn,+(e==null?null:e.last_fv_id)):null)("ngClass",ut(7,dn,!(e!=null&&e.last_fv_id)||(e==null?null:e.fv_status)==="N/A",(e==null?null:e.fv_status)==="N/A")),st("aria-disabled",!(e!=null&&e.last_fv_id)||(e==null?null:e.fv_status)==="N/A")}}function cn(n,r){if(n&1&&(a(0,"tr")(1,"td"),o(2),l(),a(3,"td"),o(4),y(5,"getFieldVerificationCategoryNameById"),l(),a(6,"td"),o(7),y(8,"uppercase"),l(),a(9,"td"),o(10),y(11,"uppercase"),l(),a(12,"td"),o(13),y(14,"uppercase"),l(),a(15,"td"),o(16),l(),g(17,tn,2,1,"td",58)(18,an,3,2,"td",59)(19,ln,2,1,"td",58)(20,sn,2,10,"td",60),l()),n&2){let e=r.$implicit,t=r.$index,i=m(3);d(2),f(t+1),d(2),f(F(5,10,e==null?null:e.field_verification_category)),d(3),f(F(8,12,e.application_number)),d(3),f(F(11,14,e.applicant_name)),d(3),f(F(14,16,e.spouse_or_father_name)),d(3),f(e.mobile_number),d(1),_("ngIf",i.selectedType!="unassigned"),d(1),_("ngIf",i.selectedType!="unassigned"),d(1),_("ngIf",i.selectedType!="unassigned"&&i.selectedType!="assigned"),d(1),_("ngIf",i.selectedType!="unassigned"&&i.selectedType!="assigned")}}function pn(n,r){if(n&1&&(a(0,"table",56)(1,"thead",57)(2,"tr")(3,"th"),o(4,"SN"),l(),a(5,"th"),o(6,"FV Category"),l(),a(7,"th"),o(8,"Application No."),l(),a(9,"th"),o(10,"Applicant Name"),l(),a(11,"th"),o(12,"Father/Husband Name"),l(),a(13,"th"),o(14,"Mobile No."),l(),g(15,Ji,2,0,"th",58)(16,Qi,2,0,"th",58)(17,Xi,2,0,"th",58)(18,Zi,2,0,"th",58),l()(),a(19,"tbody"),pt(20,cn,21,18,"tr",null,qi),l()()),n&2){let e=m(2);d(15),_("ngIf",e.selectedType!="unassigned"),d(1),_("ngIf",e.selectedType!="unassigned"),d(1),_("ngIf",e.selectedType!="unassigned"&&e.selectedType!="assigned"),d(1),_("ngIf",e.selectedType!="unassigned"&&e.selectedType!="assigned"),d(2),mt(e.filteredVillageUserStats)}}function mn(n,r){n&1&&(a(0,"h5",67),o(1,"No data available"),l())}function fn(n,r){n&1&&(a(0,"div",68),o(1,"Loading... "),h(2,"i",69),l())}function _n(n,r){n&1&&(a(0,"span"),h(1,"i",35),o(2," Loading..."),l())}function gn(n,r){n&1&&(a(0,"span"),o(1,"Load More"),l())}function hn(n,r){if(n&1){let e=I();a(0,"div",70)(1,"button",71),S("click",function(){E(e);let i=m(2);return T(i.loadMore())}),g(2,_n,3,0,"span",58)(3,gn,2,0,"span",58),l()()}if(n&2){let e=m(2);d(2),_("ngIf",e.isLoadMoreInProgress),d(1),_("ngIf",!e.isLoadMoreInProgress)}}function un(n,r){if(n&1){let e=I();a(0,"div",36)(1,"div",37)(2,"div",7)(3,"div",38)(4,"h5",39),o(5," Number of records found : "),a(6,"span",40),o(7),l()()(),a(8,"div",41)(9,"div",42)(10,"input",43),S("change",function(i){E(e);let s=m();return T(s.handleSearch(i))}),l(),h(11,"i",44),l(),a(12,"div",45),g(13,Hi,1,1,"button",46)(14,Ki,3,0),l()()(),a(15,"div",47),g(16,pn,22,4,"table",48)(17,mn,2,0)(18,fn,3,0,"div",49),l(),g(19,hn,4,2,"div",50),l()()}if(n&2){let e=m();d(7),f(e.total_count),d(3),_("value",e.searchTerm),d(3),w(13,e.isExportInProgress?14:13),d(3),w(16,e.filteredVillageUserStats&&e.filteredVillageUserStats.length>0?16:e.application_list&&e.application_list.length==0&&!e.isFormSearchInProgress?17:-1),d(2),w(18,e.isFormSearchInProgress&&e.application_list&&e.application_list.length==0?18:-1),d(1),_("ngIf",e.newApplicationList.length>=e.pageSize)}}var fe=(()=>{let r=class r{constructor(t,i,s,c,p,C,b,O,ge,he){this.route=t,this.router=i,this.formService=s,this.appService=c,this.httpClient=p,this.toastService=C,this.authService=b,this.masterDataService=O,this.location=ge,this.fieldVerification=he,this.type="",this.label="",this.drilldownStats=[],this.district_name="",this.gp_name="",this.block_name="",this.isStatsLoading=!1,this.userStats=[],this.block_id="",this.gp_id="",this.village_id="",this.district_id="",this.villageStats=[],this.searchTerm="",this.isFormSearchInProgress=!1,this.showTable=!1,this.application_list=[],this.newApplicationList=[],this.hasMoreRecords=!0,this.offset=0,this.isLoadMoreInProgress=!1,this.page=1,this.pageSize=this.appService.loadmorelimit,this.isExportInProgress=!1,this.isExportInProgressExcel=!1,this.count=0,this.today="",this.total_count=0,this.selectedType="",this.searchForm=new wt({a_category:new K(""),status:new K(""),to_date:new K(""),from_date:new K("")})}ngOnInit(){this.today=(0,me.default)().format("YYYY-MM-DD"),this.route.params.subscribe(t=>{this.district_id=t.district_id,this.block_id=t.block_id,this.gp_id=t.gp_id,this.village_id=t.village_id,this.district_name=U.data.find(i=>i.id==this.district_id)?.district_name,this.block_name=lt.data.find(i=>i.id==this.block_id)?.block_name,this.gp_name=St.data.find(i=>i.id==this.gp_id)?.gp_name,this.type=t.type,this.selectedType=t.type,this.updateLabelAndFilterData(),this.fetchGrievanceStats(this.gp_id,this.village_id)})}handleSelectedTypeChange(t){this.selectedType=t?.target?.value,this.page=1,this.fetchGrievanceStats(this.gp_id,this.village_id)}handleSearch(t){this.searchTerm=t?.target?.value,this.page=1,this.fetchGrievanceStats(this.gp_id,this.village_id)}fetchuserStats(t,i,s=!1){this.isStatsLoading=!0;let c=new G;c=c.set("village_id",t),c=c.set("fromDate",t),c=c.set("toDate",t),c=c.set("category",t),c=c.set("status",t),c=c.set("gp",i),c=c.set("page",1),c=c.set("size",this.pageSize);let p=new H({Authorization:this.authService.authToken});this.httpClient.get(`${this.appService.departmentBaseUrl}/drilldown/detailed-view`,{params:c,headers:p}).subscribe(C=>{this.isStatsLoading=!1,this.count=C.count,C.data&&C.data.length>0?(this.application_list=this.application_list.concat(C.data),this.offset+=C.data.length):this.hasMoreRecords=!1,s&&(this.isLoadMoreInProgress=!1)},C=>{this.isStatsLoading=!1,this.application_list=[],this.hasMoreRecords=!1,s&&(this.isLoadMoreInProgress=!1)})}get filteredVillageUserStats(){return this.application_list}updateLabelAndFilterData(){switch(this.type){case"total":this.label="Total No. of Field Verification";break;case"assigned":this.label="Assigned for Field Verification";break;case"unassigned":this.label="Unassigned for Field Verification";break;case"completed":this.label="Completed in Field Verification";break;case"eligible":this.label="Eligible in Field Verification";break;case"ineligible":this.label="Ineligible in Field Verification";break;default:this.label="Received Grievance"}}fetchGrievanceStats(t,i){this.isStatsLoading=!0;let s=this.searchForm.value,c=new G;s.from_date&&(c=c.set("fromDate",s.from_date)),s.to_date&&(c=c.set("toDate",s.to_date)),s.a_category&&(c=c.set("field_verification_category_id",s.a_category)),this.searchTerm?.trim()&&(c=c.set("application_number",this.searchTerm?.trim()));let p="";p="/v1/fv-dashboard/list-wise",c=c.set("village_id",this.village_id),c=c.set("gp_id",this.gp_id),c=c.set("type",this.selectedType),c=c.set("page",1),c=c.set("pageSize",this.pageSize),c=c.set("pageSize",this.pageSize);let C=new H({Authorization:this.authService.authToken});this.httpClient.get(`${this.appService.departmentBaseUrl}${p}`,{params:c,headers:C}).subscribe(b=>{this.isStatsLoading=!1,this.total_count=b?.pagination?.count,this.selectedType==="total"?(this.newApplicationList=[...b.allCompleted,...b?.allPending],this.application_list=[...b.allCompleted,...b?.allPending]):(this.newApplicationList=b.data,this.application_list=b.data),this.updateLabelAndFilterData()},b=>{this.isStatsLoading=!1,this.application_list=[],this.newApplicationList=[]})}goBack(){this.location.back()}onSearch(){if(this.searchForm.status==="INVALID"){this.formService.triggerFormValidation(this.searchForm);return}this.isFormSearchInProgress=!0;let t=this.searchForm.value,i=new G;t.from_date&&(i=i.set("fromDate",t.from_date)),t.to_date&&(i=i.set("toDate",t.to_date)),t.a_category&&(i=i.set("field_verification_category_id",t.a_category)),this.searchTerm?.trim()&&(i=i.set("application_number",this.searchTerm?.trim()));let s="";s="/v1/fv-dashboard/list-wise",i=i.set("village_id",this.village_id),i=i.set("gp_id",this.gp_id),i=i.set("type",this.selectedType),i=i.set("page",1),i=i.set("pageSize",this.pageSize),i=i.set("pageSize",this.pageSize);let c=new H({Authorization:this.authService.authToken});this.httpClient.get(`${this.appService.departmentBaseUrl}${s}`,{params:i,headers:c}).subscribe(p=>{this.isFormSearchInProgress=!1,this.total_count=p?.pagination?.count,this.selectedType==="total"?(this.newApplicationList=[...p.allCompleted,...p?.allPending],this.application_list=[...p.allCompleted,...p?.allPending]):(this.newApplicationList=p.data,this.application_list=p.data)},p=>{this.isFormSearchInProgress=!1,this.application_list=[],this.newApplicationList=[]})}loadMore(){this.page+=1,this.loadMoreGrievanceStats()}loadMoreGrievanceStats(){this.isLoadMoreInProgress=!0;let t=this.searchForm.value,i=new G;t.from_date&&(i=i.set("fromDate",t.from_date)),t.to_date&&(i=i.set("toDate",t.to_date)),t.a_category&&(i=i.set("field_verification_category_id",t.a_category)),this.searchTerm?.trim()&&(i=i.set("application_number",this.searchTerm?.trim()));let s="";s="/v1/fv-dashboard/list-wise",i=i.set("village_id",this.village_id),i=i.set("gp_id",this.gp_id),i=i.set("type",this.selectedType),i=i.set("page",this.page),i=i.set("pageSize",this.pageSize);let c=new H({Authorization:this.authService.authToken});this.httpClient.get(`${this.appService.departmentBaseUrl}${s}`,{params:i,headers:c}).subscribe(p=>{this.isLoadMoreInProgress=!1,this.total_count=p?.pagination?.count,this.selectedType==="total"?(this.newApplicationList=[...p.allCompleted,...p?.allPending],this.application_list=[...this.application_list,...p.allCompleted,...p?.allPending]):(this.newApplicationList=p.data,this.application_list=[...this.application_list,...p.data])},p=>{this.isLoadMoreInProgress=!1,this.application_list=[],this.newApplicationList=[]})}handleExport(){let t="/v1/fv-dashboard/fv-list-export",i=this.searchForm.value,s=new G;i.a_category&&(s=s.set("field_verification_category_id",i.a_category)),this.searchTerm?.trim()&&(s=s.set("application_number",this.searchTerm?.trim())),s=s.set("village_id",this.village_id),s=s.set("gp_id",this.gp_id),s=s.set("type",this.selectedType),this.isExportInProgress=!0,this.httpClient.get(`${this.appService.departmentBaseUrl}${t}`,{params:s,headers:{Authorization:this.authService.authToken},responseType:"blob"}).subscribe(c=>{this.isExportInProgress=!1,this.downloadFile(c,`${this.filteredVillageUserStats[0]?.village_name} ${this.type}_fv_list.pdf`)},c=>{this.isExportInProgress=!1,console.error("File download failed:",c)})}downloadFile(t,i){let s=window.URL.createObjectURL(t),c=document.createElement("a");c.href=s,c.download=i,c.click(),window.URL.revokeObjectURL(s)}exportToPDF(t){this.isExportInProgress=!0;let i=`${this.type?.toUpperCase()} FIELD VERIFICATION LIST`,s=[];this.selectedType==="total"&&(s=[[{text:"SN",fillColor:"#d3d3d3",bold:!0},{text:"FV CATEGORY",fillColor:"#d3d3d3",bold:!0},{text:"APPLICATION NO.",fillColor:"#d3d3d3",bold:!0},{text:"APPLICANT NAME",fillColor:"#d3d3d3",bold:!0},{text:"ASSIGNED DATE",fillColor:"#d3d3d3",bold:!0},{text:"ASSIGNED TO",fillColor:"#d3d3d3",bold:!0},{text:"FV STATUS",fillColor:"#d3d3d3",bold:!0}],...t.map((p,C)=>[C+1,p?.field_verification_category=="1"?"NON NFSA":p?.field_verification_category=="2"?"Self":"Others",p.application_number,p.applicant_name,p.assign_date?this.appService.dateFormat(p.assign_date):"N/A",p.first_name?`${p.first_name} ${p.last_name} `:"N/A",p.fv_status=="0"||p.fv_status=="3"?"Ineligible":p.fv_status=="1"?"Eligible":"N/A"])]);let c={content:[{text:i,style:"title"},{table:{widths:["25%","25%","25%","25%"],body:[[{text:`DISTRICT: ${String(this.district_name).toUpperCase()}`,alignment:"left",bold:!0,fillColor:"#d3d3d3",fontSize:10},{text:`BLOCK: ${String(this.block_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",fontSize:10},{text:`GP: ${String(this.gp_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",fontSize:10},{text:`VILLAGE: ${String(this.filteredVillageUserStats[0]?.village_name).toUpperCase()}`,alignment:"right",bold:!0,fillColor:"#d3d3d3",fontSize:10}]]},layout:"noBorders",margin:[0,10,0,20]},{table:{body:s,widths:["8%","22%","10%","10%","20%","20%","10%"]},style:"tableBody"}],styles:{title:{fontSize:15,bold:!0,margin:[0,0,0,10],alignment:"center"},tableBody:{fontSize:8}}};pe.default.createPdf(c).download(`${this.filteredVillageUserStats[0]?.village_name}${this.type}_fv_list.pdf`),setTimeout(()=>{this.isExportInProgress=!1},3e3)}handleCategoryChange(){this.page=1,this.fetchGrievanceStats(this.gp_id,this.village_id)}};r.\u0275fac=function(i){return new(i||r)(u(M),u(Ot),u(Dt),u(P),u(V),u($t),u(A),u(Mt),u(L),u(Lt))},r.\u0275cmp=D({type:r,selectors:[["app-village-fv-stats"]],decls:39,vars:9,consts:[[1,"container-fluid","drilldown-reports"],[1,"d-flex","justify-content-between","w-100","mb-3"],[2,"color","#fd7b03"],[1,"col-md-5","d-flex","justify-content-end"],["type","button",1,"me-2",3,"click"],[1,"btn","btn-dark","py-2"],[1,"fa-solid","fa-arrow-left","me-1"],[1,"row","mb-2"],[1,"col-md-7"],["aria-label","breadcrumb",2,"--bs-breadcrumb-divider",`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E")`],[1,"breadcrumb"],[1,"breadcrumb-item"],["class","breadcrumb-item active","aria-current","page"],[1,"card","p-3","mb-3"],[3,"formGroup","ngSubmit"],[1,"row","g-3","mb-2"],[1,"col-md-3"],["for","a_category",1,"fw-bold"],["formControlName","a_category","id","a_category",1,"form-select","my-2",3,"change"],["value",""],["value","1"],["class","form-select my-2",3,"value","change",4,"ngIf"],["disabled","","class","form-select my-2",3,"value",4,"ngIf"],[1,"mt-3",2,"background-color","#e3e3e3","border","none"],["class","w-100 d-flex justify-content-center align-items-center"],["aria-current","page",1,"breadcrumb-item","active"],[1,"form-select","my-2",3,"value","change"],["value","total"],["value","assigned"],["value","unassigned"],["value","eligible"],["value","ineligible"],["value","completed"],["disabled","",1,"form-select","my-2",3,"value"],[1,"w-100","d-flex","justify-content-center","align-items-center"],[1,"fa","fa-spinner","fa-spin"],[1,"card"],[1,"card-body","p-3"],[1,"col-md-5"],[1,"card-title"],["id","recordCount"],[1,"col-md-7","d-flex","justify-content-end"],[1,"search-box","me-2"],["type","text","placeholder","Enter Application No.",3,"value","change"],[1,"fa","fa-search"],[1,"d-inline","me-2"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button"],[1,"table-responsive"],["class","table table-bordered app_reports"],["class","text-center pb-3"],["class","text-center mt-3",4,"ngIf"],["class","btn px-2","style","background-color: #ffe8d0; color: #fd7b03; font-weight: 620;","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620",3,"click"],[1,"fa-solid","fa-cloud-arrow-down","me-1"],["disabled","",1,"btn","px-2",2,"background-color","#ffe8d0","color","#fd7b03","font-weight","620"],[1,"fa-solid","fa-spinner","fa-spin","me-1"],[1,"table","table-bordered","app_reports"],[1,"text-light",2,"background-color","#fd7b03"],[4,"ngIf"],["style","white-space: nowrap;text-transform: uppercase;",4,"ngIf"],["style","text-align: center; vertical-align: middle;",4,"ngIf"],[2,"white-space","nowrap","text-transform","uppercase"],["class","d-flex flex-column gap-1","style","line-height: 0.9;",4,"ngIf"],[1,"d-flex","flex-column","gap-1",2,"line-height","0.9"],[2,"font-size","11px"],[2,"text-align","center","vertical-align","middle"],[1,"far","fa-file-alt",3,"routerLink","ngClass","click"],[1,"text-center"],[1,"text-center","pb-3"],[1,"fas","fa-spinner","fa-spin","ms-2"],[1,"text-center","mt-3"],[1,"btn","btn-primary",3,"click"]],template:function(i,s){i&1&&(a(0,"div",0)(1,"div",1)(2,"h4",2),o(3),l(),a(4,"div",3)(5,"a",4),S("click",function(){return s.goBack()}),a(6,"button",5),h(7,"i",6),o(8," Back"),l()()()(),a(9,"div",7)(10,"div",8)(11,"nav",9)(12,"ol",10)(13,"li",11),o(14),l(),a(15,"li",11),o(16),l(),a(17,"li",11),o(18),l(),g(19,Gi,2,1,"li",12),l()()()(),a(20,"div",13)(21,"form",14),S("ngSubmit",function(){return s.onSearch()}),a(22,"div",15)(23,"div",16)(24,"label",17),o(25," FV Category "),l(),a(26,"select",18),S("change",function(){return s.handleCategoryChange()}),a(27,"option",19),o(28,"All"),l(),a(29,"option",20),o(30,"Non NFSA"),l()()(),a(31,"div",16)(32,"label",17),o(33," Type "),l(),g(34,zi,13,1,"select",21)(35,Ri,13,1,"select",22),l()()()(),a(36,"div",23),g(37,Wi,3,0,"div",24)(38,un,20,6),l()()),i&2&&(d(3),f(s.label),d(11),f(s.district_name),d(2),f(s.block_name),d(2),f(s.gp_name),d(1),w(19,s.filteredVillageUserStats&&s.filteredVillageUserStats.length>0?19:-1),d(2),_("formGroup",s.searchForm),d(13),_("ngIf",s.type=="total"),d(1),_("ngIf",s.type!="total"),d(2),w(37,s.isStatsLoading?37:38))},dependencies:[bt,$,yt,It,kt,Tt,B,Ct,Ft,Et,N,vt,Vt],styles:["input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]:disabled, input[_ngcontent-%COMP%]:disabled{cursor:not-allowed!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:left;text-align:left}a.disabled-link[_ngcontent-%COMP%]{color:gray!important;cursor:not-allowed!important;text-decoration:none!important}a.inactive-link[_ngcontent-%COMP%]{color:gray!important;cursor:not-allowed!important}"]});let n=r;return n})();var bn=[{path:"district-stats/:type",component:Yt,canActivate:[q]},{path:"ulb-stats/:district_id/:type",component:Xt,canActivate:[q]},{path:"block-stats/:district_id/:type",component:qt,canActivate:[q]},{path:"gp-stats/:district_id/:block_id/:type",component:ee,canActivate:[q]},{path:"village-stats/:district_id/:block_id/:gp_id/:type",component:ce,canActivate:[q]},{path:"village-fv-stats/:district_id/:block_id/:gp_id/:village_id/:type",component:fe,canActivate:[q]},{path:"ward-stats/:district_id/:ulb_id/:type",component:ae,canActivate:[q]},{path:"ward-fv-stats/:district_id/:ulb_id/:ward_id/:type",component:re,canActivate:[q]}],_e=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=dt({type:r}),r.\u0275inj=rt({imports:[Pt.forChild(bn),Pt]});let n=r;return n})();var _a=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=dt({type:r}),r.\u0275inj=rt({imports:[Bt,zt,jt,Gt,_e]});let n=r;return n})();export{_a as a};
